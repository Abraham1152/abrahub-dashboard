var U_=e=>{throw TypeError(e)};var tg=(e,t,r)=>t.has(e)||U_("Cannot "+r);var I=(e,t,r)=>(tg(e,t,"read from private field"),r?r.call(e):t.get(e)),fe=(e,t,r)=>t.has(e)?U_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ie=(e,t,r,n)=>(tg(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ne=(e,t,r)=>(tg(e,t,"access private method"),r);var Ld=(e,t,r,n)=>({set _(a){ie(e,t,a,r)},get _(){return I(e,t,n)}});function v5(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sN={exports:{}},Rp={},oN={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd=Symbol.for("react.element"),x5=Symbol.for("react.portal"),b5=Symbol.for("react.fragment"),_5=Symbol.for("react.strict_mode"),w5=Symbol.for("react.profiler"),k5=Symbol.for("react.provider"),j5=Symbol.for("react.context"),S5=Symbol.for("react.forward_ref"),N5=Symbol.for("react.suspense"),O5=Symbol.for("react.memo"),A5=Symbol.for("react.lazy"),q_=Symbol.iterator;function P5(e){return e===null||typeof e!="object"?null:(e=q_&&e[q_]||e["@@iterator"],typeof e=="function"?e:null)}var lN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cN=Object.assign,uN={};function Ll(e,t,r){this.props=e,this.context=t,this.refs=uN,this.updater=r||lN}Ll.prototype.isReactComponent={};Ll.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ll.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dN(){}dN.prototype=Ll.prototype;function xx(e,t,r){this.props=e,this.context=t,this.refs=uN,this.updater=r||lN}var bx=xx.prototype=new dN;bx.constructor=xx;cN(bx,Ll.prototype);bx.isPureReactComponent=!0;var K_=Array.isArray,fN=Object.prototype.hasOwnProperty,_x={current:null},hN={key:!0,ref:!0,__self:!0,__source:!0};function pN(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)fN.call(t,n)&&!hN.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:xd,type:e,key:i,ref:s,props:a,_owner:_x.current}}function E5(e,t){return{$$typeof:xd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wx(e){return typeof e=="object"&&e!==null&&e.$$typeof===xd}function C5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var W_=/\/+/g;function rg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?C5(""+e.key):t.toString(36)}function $f(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case xd:case x5:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+rg(s,0):n,K_(a)?(r="",e!=null&&(r=e.replace(W_,"$&/")+"/"),$f(a,t,r,"",function(u){return u})):a!=null&&(wx(a)&&(a=E5(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(W_,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",K_(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+rg(i,l);s+=$f(i,t,r,c,a)}else if(c=P5(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+rg(i,l++),s+=$f(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Bd(e,t,r){if(e==null)return e;var n=[],a=0;return $f(e,n,"","",function(i){return t.call(r,i,a++)}),n}function T5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ir={current:null},Rf={transition:null},$5={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:Rf,ReactCurrentOwner:_x};function mN(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:Bd,forEach:function(e,t,r){Bd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bd(e,function(){t++}),t},toArray:function(e){return Bd(e,function(t){return t})||[]},only:function(e){if(!wx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=Ll;Pe.Fragment=b5;Pe.Profiler=w5;Pe.PureComponent=xx;Pe.StrictMode=_5;Pe.Suspense=N5;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$5;Pe.act=mN;Pe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=cN({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=_x.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)fN.call(t,c)&&!hN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:xd,type:e.type,key:a,ref:i,props:n,_owner:s}};Pe.createContext=function(e){return e={$$typeof:j5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:k5,_context:e},e.Consumer=e};Pe.createElement=pN;Pe.createFactory=function(e){var t=pN.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:S5,render:e}};Pe.isValidElement=wx;Pe.lazy=function(e){return{$$typeof:A5,_payload:{_status:-1,_result:e},_init:T5}};Pe.memo=function(e,t){return{$$typeof:O5,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=Rf.transition;Rf.transition={};try{e()}finally{Rf.transition=t}};Pe.unstable_act=mN;Pe.useCallback=function(e,t){return ir.current.useCallback(e,t)};Pe.useContext=function(e){return ir.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return ir.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return ir.current.useEffect(e,t)};Pe.useId=function(){return ir.current.useId()};Pe.useImperativeHandle=function(e,t,r){return ir.current.useImperativeHandle(e,t,r)};Pe.useInsertionEffect=function(e,t){return ir.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return ir.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return ir.current.useMemo(e,t)};Pe.useReducer=function(e,t,r){return ir.current.useReducer(e,t,r)};Pe.useRef=function(e){return ir.current.useRef(e)};Pe.useState=function(e){return ir.current.useState(e)};Pe.useSyncExternalStore=function(e,t,r){return ir.current.useSyncExternalStore(e,t,r)};Pe.useTransition=function(){return ir.current.useTransition()};Pe.version="18.3.1";oN.exports=Pe;var N=oN.exports;const R=De(N),R5=v5({__proto__:null,default:R},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I5=N,M5=Symbol.for("react.element"),D5=Symbol.for("react.fragment"),L5=Object.prototype.hasOwnProperty,z5=I5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B5={key:!0,ref:!0,__self:!0,__source:!0};function gN(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)L5.call(t,n)&&!B5.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:M5,type:e,key:i,ref:s,props:a,_owner:z5.current}}Rp.Fragment=D5;Rp.jsx=gN;Rp.jsxs=gN;sN.exports=Rp;var o=sN.exports,v0={},yN={exports:{}},Dr={},vN={exports:{}},xN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,P){var z=$.length;$.push(P);e:for(;0<z;){var B=z-1>>>1,q=$[B];if(0<a(q,P))$[B]=P,$[z]=q,z=B;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var P=$[0],z=$.pop();if(z!==P){$[0]=z;e:for(var B=0,q=$.length,X=q>>>1;B<X;){var F=2*(B+1)-1,J=$[F],K=F+1,ae=$[K];if(0>a(J,z))K<q&&0>a(ae,J)?($[B]=ae,$[K]=z,B=K):($[B]=J,$[F]=z,B=F);else if(K<q&&0>a(ae,z))$[B]=ae,$[K]=z,B=K;else break e}}return P}function a($,P){var z=$.sortIndex-P.sortIndex;return z!==0?z:$.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=$)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function k($){if(y=!1,_($),!m)if(r(c)!==null)m=!0,D(w);else{var P=r(u);P!==null&&E(k,P.startTime-$)}}function w($,P){m=!1,y&&(y=!1,x(j),j=-1),p=!0;var z=h;try{for(_(P),f=r(c);f!==null&&(!(f.expirationTime>P)||$&&!T());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var q=B(f.expirationTime<=P);P=e.unstable_now(),typeof q=="function"?f.callback=q:f===r(c)&&n(c),_(P)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var F=r(u);F!==null&&E(k,F.startTime-P),X=!1}return X}finally{f=null,h=z,p=!1}}var b=!1,S=null,j=-1,O=5,C=-1;function T(){return!(e.unstable_now()-C<O)}function M(){if(S!==null){var $=e.unstable_now();C=$;var P=!0;try{P=S(!0,$)}finally{P?L():(b=!1,S=null)}}else b=!1}var L;if(typeof g=="function")L=function(){g(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,A=U.port2;U.port1.onmessage=M,L=function(){A.postMessage(null)}}else L=function(){v(M,0)};function D($){S=$,b||(b=!0,L())}function E($,P){j=v(function(){$(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,D(w))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var z=h;h=P;try{return $()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,P){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var z=h;h=$;try{return P()}finally{h=z}},e.unstable_scheduleCallback=function($,P,z){var B=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=z+q,$={id:d++,callback:P,priorityLevel:$,startTime:z,expirationTime:q,sortIndex:-1},z>B?($.sortIndex=z,t(u,$),r(c)===null&&$===r(u)&&(y?(x(j),j=-1):y=!0,E(k,z-B))):($.sortIndex=q,t(c,$),m||p||(m=!0,D(w))),$},e.unstable_shouldYield=T,e.unstable_wrapCallback=function($){var P=h;return function(){var z=h;h=P;try{return $.apply(this,arguments)}finally{h=z}}}})(xN);vN.exports=xN;var F5=vN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5=N,Rr=F5;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bN=new Set,tu={};function Rs(e,t){el(e,t),el(e+"Capture",t)}function el(e,t){for(tu[e]=t,e=0;e<t.length;e++)bN.add(t[e])}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x0=Object.prototype.hasOwnProperty,q5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H_={},V_={};function K5(e){return x0.call(V_,e)?!0:x0.call(H_,e)?!1:q5.test(e)?V_[e]=!0:(H_[e]=!0,!1)}function W5(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function H5(e,t,r,n){if(t===null||typeof t>"u"||W5(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sr(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ut[e]=new sr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ut[t]=new sr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ut[e]=new sr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ut[e]=new sr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ut[e]=new sr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ut[e]=new sr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ut[e]=new sr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ut[e]=new sr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ut[e]=new sr(e,5,!1,e.toLowerCase(),null,!1,!1)});var kx=/[\-:]([a-z])/g;function jx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kx,jx);Ut[t]=new sr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kx,jx);Ut[t]=new sr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kx,jx);Ut[t]=new sr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ut[e]=new sr(e,1,!1,e.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ut[e]=new sr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sx(e,t,r,n){var a=Ut.hasOwnProperty(t)?Ut[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(H5(t,r,a,n)&&(r=null),n||a===null?K5(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Oa=U5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fd=Symbol.for("react.element"),fo=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),Nx=Symbol.for("react.strict_mode"),b0=Symbol.for("react.profiler"),_N=Symbol.for("react.provider"),wN=Symbol.for("react.context"),Ox=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),w0=Symbol.for("react.suspense_list"),Ax=Symbol.for("react.memo"),Ba=Symbol.for("react.lazy"),kN=Symbol.for("react.offscreen"),G_=Symbol.iterator;function cc(e){return e===null||typeof e!="object"?null:(e=G_&&e[G_]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,ng;function Ac(e){if(ng===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ng=t&&t[1]||""}return`
`+ng+e}var ag=!1;function ig(e,t){if(!e||ag)return"";ag=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{ag=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ac(e):""}function V5(e){switch(e.tag){case 5:return Ac(e.type);case 16:return Ac("Lazy");case 13:return Ac("Suspense");case 19:return Ac("SuspenseList");case 0:case 2:case 15:return e=ig(e.type,!1),e;case 11:return e=ig(e.type.render,!1),e;case 1:return e=ig(e.type,!0),e;default:return""}}function k0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ho:return"Fragment";case fo:return"Portal";case b0:return"Profiler";case Nx:return"StrictMode";case _0:return"Suspense";case w0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wN:return(e.displayName||"Context")+".Consumer";case _N:return(e._context.displayName||"Context")+".Provider";case Ox:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ax:return t=e.displayName||null,t!==null?t:k0(e.type)||"Memo";case Ba:t=e._payload,e=e._init;try{return k0(e(t))}catch{}}return null}function G5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k0(t);case 8:return t===Nx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q5(e){var t=jN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ud(e){e._valueTracker||(e._valueTracker=Q5(e))}function SN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=jN(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Jf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function j0(e,t){var r=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Q_(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=xi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function NN(e,t){t=t.checked,t!=null&&Sx(e,"checked",t,!1)}function S0(e,t){NN(e,t);var r=xi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?N0(e,t.type,r):t.hasOwnProperty("defaultValue")&&N0(e,t.type,xi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Y_(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function N0(e,t,r){(t!=="number"||Jf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Pc=Array.isArray;function Eo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xi(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function O0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function J_(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ee(92));if(Pc(r)){if(1<r.length)throw Error(ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xi(r)}}function ON(e,t){var r=xi(t.value),n=xi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function X_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qd,PN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qd=qd||document.createElement("div"),qd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ru(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y5=["Webkit","ms","Moz","O"];Object.keys(Mc).forEach(function(e){Y5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mc[t]=Mc[e]})});function EN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mc.hasOwnProperty(e)&&Mc[e]?(""+t).trim():t+"px"}function CN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=EN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var J5=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function P0(e,t){if(t){if(J5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function E0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C0=null;function Px(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var T0=null,Co=null,To=null;function Z_(e){if(e=wd(e)){if(typeof T0!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=zp(t),T0(e.stateNode,e.type,t))}}function TN(e){Co?To?To.push(e):To=[e]:Co=e}function $N(){if(Co){var e=Co,t=To;if(To=Co=null,Z_(e),t)for(e=0;e<t.length;e++)Z_(t[e])}}function RN(e,t){return e(t)}function IN(){}var sg=!1;function MN(e,t,r){if(sg)return e(t,r);sg=!0;try{return RN(e,t,r)}finally{sg=!1,(Co!==null||To!==null)&&(IN(),$N())}}function nu(e,t){var r=e.stateNode;if(r===null)return null;var n=zp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ee(231,t,typeof r));return r}var $0=!1;if(xa)try{var uc={};Object.defineProperty(uc,"passive",{get:function(){$0=!0}}),window.addEventListener("test",uc,uc),window.removeEventListener("test",uc,uc)}catch{$0=!1}function X5(e,t,r,n,a,i,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Dc=!1,Xf=null,Zf=!1,R0=null,Z5={onError:function(e){Dc=!0,Xf=e}};function e$(e,t,r,n,a,i,s,l,c){Dc=!1,Xf=null,X5.apply(Z5,arguments)}function t$(e,t,r,n,a,i,s,l,c){if(e$.apply(this,arguments),Dc){if(Dc){var u=Xf;Dc=!1,Xf=null}else throw Error(ee(198));Zf||(Zf=!0,R0=u)}}function Is(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function DN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ew(e){if(Is(e)!==e)throw Error(ee(188))}function r$(e){var t=e.alternate;if(!t){if(t=Is(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ew(a),e;if(i===n)return ew(a),t;i=i.sibling}throw Error(ee(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?e:t}function LN(e){return e=r$(e),e!==null?zN(e):null}function zN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zN(e);if(t!==null)return t;e=e.sibling}return null}var BN=Rr.unstable_scheduleCallback,tw=Rr.unstable_cancelCallback,n$=Rr.unstable_shouldYield,a$=Rr.unstable_requestPaint,pt=Rr.unstable_now,i$=Rr.unstable_getCurrentPriorityLevel,Ex=Rr.unstable_ImmediatePriority,FN=Rr.unstable_UserBlockingPriority,eh=Rr.unstable_NormalPriority,s$=Rr.unstable_LowPriority,UN=Rr.unstable_IdlePriority,Ip=null,Fn=null;function o$(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Ip,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:u$,l$=Math.log,c$=Math.LN2;function u$(e){return e>>>=0,e===0?32:31-(l$(e)/c$|0)|0}var Kd=64,Wd=4194304;function Ec(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function th(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?n=Ec(l):(i&=s,i!==0&&(n=Ec(i)))}else s=r&~a,s!==0?n=Ec(s):i!==0&&(n=Ec(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_n(t),a=1<<r,n|=e[r],t&=~a;return n}function d$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f$(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-_n(i),l=1<<s,c=a[s];c===-1?(!(l&r)||l&n)&&(a[s]=d$(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function I0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qN(){var e=Kd;return Kd<<=1,!(Kd&4194240)&&(Kd=64),e}function og(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=r}function h$(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-_n(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Cx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_n(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Be=0;function KN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WN,Tx,HN,VN,GN,M0=!1,Hd=[],li=null,ci=null,ui=null,au=new Map,iu=new Map,Ka=[],p$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rw(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":au.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(t.pointerId)}}function dc(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=wd(t),t!==null&&Tx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function m$(e,t,r,n,a){switch(t){case"focusin":return li=dc(li,e,t,r,n,a),!0;case"dragenter":return ci=dc(ci,e,t,r,n,a),!0;case"mouseover":return ui=dc(ui,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return au.set(i,dc(au.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,iu.set(i,dc(iu.get(i)||null,e,t,r,n,a)),!0}return!1}function QN(e){var t=Hi(e.target);if(t!==null){var r=Is(t);if(r!==null){if(t=r.tag,t===13){if(t=DN(r),t!==null){e.blockedOn=t,GN(e.priority,function(){HN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function If(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=D0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);C0=n,r.target.dispatchEvent(n),C0=null}else return t=wd(r),t!==null&&Tx(t),e.blockedOn=r,!1;t.shift()}return!0}function nw(e,t,r){If(e)&&r.delete(t)}function g$(){M0=!1,li!==null&&If(li)&&(li=null),ci!==null&&If(ci)&&(ci=null),ui!==null&&If(ui)&&(ui=null),au.forEach(nw),iu.forEach(nw)}function fc(e,t){e.blockedOn===t&&(e.blockedOn=null,M0||(M0=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,g$)))}function su(e){function t(a){return fc(a,e)}if(0<Hd.length){fc(Hd[0],e);for(var r=1;r<Hd.length;r++){var n=Hd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(li!==null&&fc(li,e),ci!==null&&fc(ci,e),ui!==null&&fc(ui,e),au.forEach(t),iu.forEach(t),r=0;r<Ka.length;r++)n=Ka[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ka.length&&(r=Ka[0],r.blockedOn===null);)QN(r),r.blockedOn===null&&Ka.shift()}var $o=Oa.ReactCurrentBatchConfig,rh=!0;function y$(e,t,r,n){var a=Be,i=$o.transition;$o.transition=null;try{Be=1,$x(e,t,r,n)}finally{Be=a,$o.transition=i}}function v$(e,t,r,n){var a=Be,i=$o.transition;$o.transition=null;try{Be=4,$x(e,t,r,n)}finally{Be=a,$o.transition=i}}function $x(e,t,r,n){if(rh){var a=D0(e,t,r,n);if(a===null)yg(e,t,n,nh,r),rw(e,n);else if(m$(a,e,t,r,n))n.stopPropagation();else if(rw(e,n),t&4&&-1<p$.indexOf(e)){for(;a!==null;){var i=wd(a);if(i!==null&&WN(i),i=D0(e,t,r,n),i===null&&yg(e,t,n,nh,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else yg(e,t,n,null,r)}}var nh=null;function D0(e,t,r,n){if(nh=null,e=Px(n),e=Hi(e),e!==null)if(t=Is(e),t===null)e=null;else if(r=t.tag,r===13){if(e=DN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nh=e,null}function YN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i$()){case Ex:return 1;case FN:return 4;case eh:case s$:return 16;case UN:return 536870912;default:return 16}default:return 16}}var ni=null,Rx=null,Mf=null;function JN(){if(Mf)return Mf;var e,t=Rx,r=t.length,n,a="value"in ni?ni.value:ni.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Mf=a.slice(e,1<n?1-n:void 0)}function Df(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vd(){return!0}function aw(){return!1}function Lr(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vd:aw,this.isPropagationStopped=aw,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vd)},persist:function(){},isPersistent:Vd}),t}var zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ix=Lr(zl),_d=ot({},zl,{view:0,detail:0}),x$=Lr(_d),lg,cg,hc,Mp=ot({},_d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hc&&(hc&&e.type==="mousemove"?(lg=e.screenX-hc.screenX,cg=e.screenY-hc.screenY):cg=lg=0,hc=e),lg)},movementY:function(e){return"movementY"in e?e.movementY:cg}}),iw=Lr(Mp),b$=ot({},Mp,{dataTransfer:0}),_$=Lr(b$),w$=ot({},_d,{relatedTarget:0}),ug=Lr(w$),k$=ot({},zl,{animationName:0,elapsedTime:0,pseudoElement:0}),j$=Lr(k$),S$=ot({},zl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N$=Lr(S$),O$=ot({},zl,{data:0}),sw=Lr(O$),A$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=E$[e])?!!t[e]:!1}function Mx(){return C$}var T$=ot({},_d,{key:function(e){if(e.key){var t=A$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Df(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?P$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mx,charCode:function(e){return e.type==="keypress"?Df(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Df(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$$=Lr(T$),R$=ot({},Mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ow=Lr(R$),I$=ot({},_d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mx}),M$=Lr(I$),D$=ot({},zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),L$=Lr(D$),z$=ot({},Mp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B$=Lr(z$),F$=[9,13,27,32],Dx=xa&&"CompositionEvent"in window,Lc=null;xa&&"documentMode"in document&&(Lc=document.documentMode);var U$=xa&&"TextEvent"in window&&!Lc,XN=xa&&(!Dx||Lc&&8<Lc&&11>=Lc),lw=" ",cw=!1;function ZN(e,t){switch(e){case"keyup":return F$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var po=!1;function q$(e,t){switch(e){case"compositionend":return eO(t);case"keypress":return t.which!==32?null:(cw=!0,lw);case"textInput":return e=t.data,e===lw&&cw?null:e;default:return null}}function K$(e,t){if(po)return e==="compositionend"||!Dx&&ZN(e,t)?(e=JN(),Mf=Rx=ni=null,po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return XN&&t.locale!=="ko"?null:t.data;default:return null}}var W$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!W$[e.type]:t==="textarea"}function tO(e,t,r,n){TN(n),t=ah(t,"onChange"),0<t.length&&(r=new Ix("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zc=null,ou=null;function H$(e){fO(e,0)}function Dp(e){var t=yo(e);if(SN(t))return e}function V$(e,t){if(e==="change")return t}var rO=!1;if(xa){var dg;if(xa){var fg="oninput"in document;if(!fg){var dw=document.createElement("div");dw.setAttribute("oninput","return;"),fg=typeof dw.oninput=="function"}dg=fg}else dg=!1;rO=dg&&(!document.documentMode||9<document.documentMode)}function fw(){zc&&(zc.detachEvent("onpropertychange",nO),ou=zc=null)}function nO(e){if(e.propertyName==="value"&&Dp(ou)){var t=[];tO(t,ou,e,Px(e)),MN(H$,t)}}function G$(e,t,r){e==="focusin"?(fw(),zc=t,ou=r,zc.attachEvent("onpropertychange",nO)):e==="focusout"&&fw()}function Q$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dp(ou)}function Y$(e,t){if(e==="click")return Dp(t)}function J$(e,t){if(e==="input"||e==="change")return Dp(t)}function X$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:X$;function lu(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!x0.call(t,a)||!Nn(e[a],t[a]))return!1}return!0}function hw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pw(e,t){var r=hw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hw(r)}}function aO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iO(){for(var e=window,t=Jf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jf(e.document)}return t}function Lx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Z$(e){var t=iO(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&aO(r.ownerDocument.documentElement,r)){if(n!==null&&Lx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=pw(r,i);var s=pw(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eR=xa&&"documentMode"in document&&11>=document.documentMode,mo=null,L0=null,Bc=null,z0=!1;function mw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;z0||mo==null||mo!==Jf(n)||(n=mo,"selectionStart"in n&&Lx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bc&&lu(Bc,n)||(Bc=n,n=ah(L0,"onSelect"),0<n.length&&(t=new Ix("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mo)))}function Gd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var go={animationend:Gd("Animation","AnimationEnd"),animationiteration:Gd("Animation","AnimationIteration"),animationstart:Gd("Animation","AnimationStart"),transitionend:Gd("Transition","TransitionEnd")},hg={},sO={};xa&&(sO=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Lp(e){if(hg[e])return hg[e];if(!go[e])return e;var t=go[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sO)return hg[e]=t[r];return e}var oO=Lp("animationend"),lO=Lp("animationiteration"),cO=Lp("animationstart"),uO=Lp("transitionend"),dO=new Map,gw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(e,t){dO.set(e,t),Rs(t,[e])}for(var pg=0;pg<gw.length;pg++){var mg=gw[pg],tR=mg.toLowerCase(),rR=mg[0].toUpperCase()+mg.slice(1);_i(tR,"on"+rR)}_i(oO,"onAnimationEnd");_i(lO,"onAnimationIteration");_i(cO,"onAnimationStart");_i("dblclick","onDoubleClick");_i("focusin","onFocus");_i("focusout","onBlur");_i(uO,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cc));function yw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,t$(n,t,void 0,e),e.currentTarget=null}function fO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;yw(a,l,u),i=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;yw(a,l,u),i=c}}}if(Zf)throw e=R0,Zf=!1,R0=null,e}function Je(e,t){var r=t[K0];r===void 0&&(r=t[K0]=new Set);var n=e+"__bubble";r.has(n)||(hO(t,e,2,!1),r.add(n))}function gg(e,t,r){var n=0;t&&(n|=4),hO(r,e,n,t)}var Qd="_reactListening"+Math.random().toString(36).slice(2);function cu(e){if(!e[Qd]){e[Qd]=!0,bN.forEach(function(r){r!=="selectionchange"&&(nR.has(r)||gg(r,!1,e),gg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qd]||(t[Qd]=!0,gg("selectionchange",!1,t))}}function hO(e,t,r,n){switch(YN(t)){case 1:var a=y$;break;case 4:a=v$;break;default:a=$x}r=a.bind(null,t,r,e),a=void 0,!$0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function yg(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Hi(l),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}l=l.parentNode}}n=n.return}MN(function(){var u=i,d=Px(r),f=[];e:{var h=dO.get(e);if(h!==void 0){var p=Ix,m=e;switch(e){case"keypress":if(Df(r)===0)break e;case"keydown":case"keyup":p=$$;break;case"focusin":m="focus",p=ug;break;case"focusout":m="blur",p=ug;break;case"beforeblur":case"afterblur":p=ug;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=M$;break;case oO:case lO:case cO:p=j$;break;case uO:p=L$;break;case"scroll":p=x$;break;case"wheel":p=B$;break;case"copy":case"cut":case"paste":p=N$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ow}var y=(t&4)!==0,v=!y&&e==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var g=u,_;g!==null;){_=g;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,x!==null&&(k=nu(g,x),k!=null&&y.push(uu(g,k,_)))),v)break;g=g.return}0<y.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==C0&&(m=r.relatedTarget||r.fromElement)&&(Hi(m)||m[ba]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Hi(m):null,m!==null&&(v=Is(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=iw,k="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=ow,k="onPointerLeave",x="onPointerEnter",g="pointer"),v=p==null?h:yo(p),_=m==null?h:yo(m),h=new y(k,g+"leave",p,r,d),h.target=v,h.relatedTarget=_,k=null,Hi(d)===u&&(y=new y(x,g+"enter",m,r,d),y.target=_,y.relatedTarget=v,k=y),v=k,p&&m)t:{for(y=p,x=m,g=0,_=y;_;_=Ws(_))g++;for(_=0,k=x;k;k=Ws(k))_++;for(;0<g-_;)y=Ws(y),g--;for(;0<_-g;)x=Ws(x),_--;for(;g--;){if(y===x||x!==null&&y===x.alternate)break t;y=Ws(y),x=Ws(x)}y=null}else y=null;p!==null&&vw(f,h,p,y,!1),m!==null&&v!==null&&vw(f,v,m,y,!0)}}e:{if(h=u?yo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=V$;else if(uw(h))if(rO)w=J$;else{w=Q$;var b=G$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=Y$);if(w&&(w=w(e,u))){tO(f,w,r,d);break e}b&&b(e,h,u),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&N0(h,"number",h.value)}switch(b=u?yo(u):window,e){case"focusin":(uw(b)||b.contentEditable==="true")&&(mo=b,L0=u,Bc=null);break;case"focusout":Bc=L0=mo=null;break;case"mousedown":z0=!0;break;case"contextmenu":case"mouseup":case"dragend":z0=!1,mw(f,r,d);break;case"selectionchange":if(eR)break;case"keydown":case"keyup":mw(f,r,d)}var S;if(Dx)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else po?ZN(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(XN&&r.locale!=="ko"&&(po||j!=="onCompositionStart"?j==="onCompositionEnd"&&po&&(S=JN()):(ni=d,Rx="value"in ni?ni.value:ni.textContent,po=!0)),b=ah(u,j),0<b.length&&(j=new sw(j,e,null,r,d),f.push({event:j,listeners:b}),S?j.data=S:(S=eO(r),S!==null&&(j.data=S)))),(S=U$?q$(e,r):K$(e,r))&&(u=ah(u,"onBeforeInput"),0<u.length&&(d=new sw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}fO(f,t)})}function uu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ah(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=nu(e,r),i!=null&&n.unshift(uu(e,i,a)),i=nu(e,t),i!=null&&n.push(uu(e,i,a))),e=e.return}return n}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vw(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=nu(r,i),c!=null&&s.unshift(uu(r,c,l))):a||(c=nu(r,i),c!=null&&s.push(uu(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var aR=/\r\n?/g,iR=/\u0000|\uFFFD/g;function xw(e){return(typeof e=="string"?e:""+e).replace(aR,`
`).replace(iR,"")}function Yd(e,t,r){if(t=xw(t),xw(e)!==t&&r)throw Error(ee(425))}function ih(){}var B0=null,F0=null;function U0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var q0=typeof setTimeout=="function"?setTimeout:void 0,sR=typeof clearTimeout=="function"?clearTimeout:void 0,bw=typeof Promise=="function"?Promise:void 0,oR=typeof queueMicrotask=="function"?queueMicrotask:typeof bw<"u"?function(e){return bw.resolve(null).then(e).catch(lR)}:q0;function lR(e){setTimeout(function(){throw e})}function vg(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),su(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);su(t)}function di(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _w(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Bl,du="__reactProps$"+Bl,ba="__reactContainer$"+Bl,K0="__reactEvents$"+Bl,cR="__reactListeners$"+Bl,uR="__reactHandles$"+Bl;function Hi(e){var t=e[Dn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ba]||r[Dn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_w(e);e!==null;){if(r=e[Dn])return r;e=_w(e)}return t}e=r,r=e.parentNode}return null}function wd(e){return e=e[Dn]||e[ba],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function zp(e){return e[du]||null}var W0=[],vo=-1;function wi(e){return{current:e}}function et(e){0>vo||(e.current=W0[vo],W0[vo]=null,vo--)}function Qe(e,t){vo++,W0[vo]=e.current,e.current=t}var bi={},Jt=wi(bi),gr=wi(!1),vs=bi;function tl(e,t){var r=e.type.contextTypes;if(!r)return bi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yr(e){return e=e.childContextTypes,e!=null}function sh(){et(gr),et(Jt)}function ww(e,t,r){if(Jt.current!==bi)throw Error(ee(168));Qe(Jt,t),Qe(gr,r)}function pO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ee(108,G5(e)||"Unknown",a));return ot({},r,n)}function oh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bi,vs=Jt.current,Qe(Jt,e),Qe(gr,gr.current),!0}function kw(e,t,r){var n=e.stateNode;if(!n)throw Error(ee(169));r?(e=pO(e,t,vs),n.__reactInternalMemoizedMergedChildContext=e,et(gr),et(Jt),Qe(Jt,e)):et(gr),Qe(gr,r)}var aa=null,Bp=!1,xg=!1;function mO(e){aa===null?aa=[e]:aa.push(e)}function dR(e){Bp=!0,mO(e)}function ki(){if(!xg&&aa!==null){xg=!0;var e=0,t=Be;try{var r=aa;for(Be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}aa=null,Bp=!1}catch(a){throw aa!==null&&(aa=aa.slice(e+1)),BN(Ex,ki),a}finally{Be=t,xg=!1}}return null}var xo=[],bo=0,lh=null,ch=0,Hr=[],Vr=0,xs=null,ca=1,ua="";function Di(e,t){xo[bo++]=ch,xo[bo++]=lh,lh=e,ch=t}function gO(e,t,r){Hr[Vr++]=ca,Hr[Vr++]=ua,Hr[Vr++]=xs,xs=e;var n=ca;e=ua;var a=32-_n(n)-1;n&=~(1<<a),r+=1;var i=32-_n(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,ca=1<<32-_n(t)+a|r<<a|n,ua=i+e}else ca=1<<i|r<<a|n,ua=e}function zx(e){e.return!==null&&(Di(e,1),gO(e,1,0))}function Bx(e){for(;e===lh;)lh=xo[--bo],xo[bo]=null,ch=xo[--bo],xo[bo]=null;for(;e===xs;)xs=Hr[--Vr],Hr[Vr]=null,ua=Hr[--Vr],Hr[Vr]=null,ca=Hr[--Vr],Hr[Vr]=null}var Tr=null,Cr=null,tt=!1,vn=null;function yO(e,t){var r=Yr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tr=e,Cr=di(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tr=e,Cr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xs!==null?{id:ca,overflow:ua}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Yr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Tr=e,Cr=null,!0):!1;default:return!1}}function H0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function V0(e){if(tt){var t=Cr;if(t){var r=t;if(!jw(e,t)){if(H0(e))throw Error(ee(418));t=di(r.nextSibling);var n=Tr;t&&jw(e,t)?yO(n,r):(e.flags=e.flags&-4097|2,tt=!1,Tr=e)}}else{if(H0(e))throw Error(ee(418));e.flags=e.flags&-4097|2,tt=!1,Tr=e}}}function Sw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tr=e}function Jd(e){if(e!==Tr)return!1;if(!tt)return Sw(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!U0(e.type,e.memoizedProps)),t&&(t=Cr)){if(H0(e))throw vO(),Error(ee(418));for(;t;)yO(e,t),t=di(t.nextSibling)}if(Sw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Cr=di(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Cr=null}}else Cr=Tr?di(e.stateNode.nextSibling):null;return!0}function vO(){for(var e=Cr;e;)e=di(e.nextSibling)}function rl(){Cr=Tr=null,tt=!1}function Fx(e){vn===null?vn=[e]:vn.push(e)}var fR=Oa.ReactCurrentBatchConfig;function pc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,e))}return e}function Xd(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nw(e){var t=e._init;return t(e._payload)}function xO(e){function t(x,g){if(e){var _=x.deletions;_===null?(x.deletions=[g],x.flags|=16):_.push(g)}}function r(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function n(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function a(x,g){return x=mi(x,g),x.index=0,x.sibling=null,x}function i(x,g,_){return x.index=_,e?(_=x.alternate,_!==null?(_=_.index,_<g?(x.flags|=2,g):_):(x.flags|=2,g)):(x.flags|=1048576,g)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,_,k){return g===null||g.tag!==6?(g=Ng(_,x.mode,k),g.return=x,g):(g=a(g,_),g.return=x,g)}function c(x,g,_,k){var w=_.type;return w===ho?d(x,g,_.props.children,k,_.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ba&&Nw(w)===g.type)?(k=a(g,_.props),k.ref=pc(x,g,_),k.return=x,k):(k=Kf(_.type,_.key,_.props,null,x.mode,k),k.ref=pc(x,g,_),k.return=x,k)}function u(x,g,_,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=Og(_,x.mode,k),g.return=x,g):(g=a(g,_.children||[]),g.return=x,g)}function d(x,g,_,k,w){return g===null||g.tag!==7?(g=hs(_,x.mode,k,w),g.return=x,g):(g=a(g,_),g.return=x,g)}function f(x,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ng(""+g,x.mode,_),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fd:return _=Kf(g.type,g.key,g.props,null,x.mode,_),_.ref=pc(x,null,g),_.return=x,_;case fo:return g=Og(g,x.mode,_),g.return=x,g;case Ba:var k=g._init;return f(x,k(g._payload),_)}if(Pc(g)||cc(g))return g=hs(g,x.mode,_,null),g.return=x,g;Xd(x,g)}return null}function h(x,g,_,k){var w=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:l(x,g,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fd:return _.key===w?c(x,g,_,k):null;case fo:return _.key===w?u(x,g,_,k):null;case Ba:return w=_._init,h(x,g,w(_._payload),k)}if(Pc(_)||cc(_))return w!==null?null:d(x,g,_,k,null);Xd(x,_)}return null}function p(x,g,_,k,w){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(_)||null,l(g,x,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Fd:return x=x.get(k.key===null?_:k.key)||null,c(g,x,k,w);case fo:return x=x.get(k.key===null?_:k.key)||null,u(g,x,k,w);case Ba:var b=k._init;return p(x,g,_,b(k._payload),w)}if(Pc(k)||cc(k))return x=x.get(_)||null,d(g,x,k,w,null);Xd(g,k)}return null}function m(x,g,_,k){for(var w=null,b=null,S=g,j=g=0,O=null;S!==null&&j<_.length;j++){S.index>j?(O=S,S=null):O=S.sibling;var C=h(x,S,_[j],k);if(C===null){S===null&&(S=O);break}e&&S&&C.alternate===null&&t(x,S),g=i(C,g,j),b===null?w=C:b.sibling=C,b=C,S=O}if(j===_.length)return r(x,S),tt&&Di(x,j),w;if(S===null){for(;j<_.length;j++)S=f(x,_[j],k),S!==null&&(g=i(S,g,j),b===null?w=S:b.sibling=S,b=S);return tt&&Di(x,j),w}for(S=n(x,S);j<_.length;j++)O=p(S,x,j,_[j],k),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?j:O.key),g=i(O,g,j),b===null?w=O:b.sibling=O,b=O);return e&&S.forEach(function(T){return t(x,T)}),tt&&Di(x,j),w}function y(x,g,_,k){var w=cc(_);if(typeof w!="function")throw Error(ee(150));if(_=w.call(_),_==null)throw Error(ee(151));for(var b=w=null,S=g,j=g=0,O=null,C=_.next();S!==null&&!C.done;j++,C=_.next()){S.index>j?(O=S,S=null):O=S.sibling;var T=h(x,S,C.value,k);if(T===null){S===null&&(S=O);break}e&&S&&T.alternate===null&&t(x,S),g=i(T,g,j),b===null?w=T:b.sibling=T,b=T,S=O}if(C.done)return r(x,S),tt&&Di(x,j),w;if(S===null){for(;!C.done;j++,C=_.next())C=f(x,C.value,k),C!==null&&(g=i(C,g,j),b===null?w=C:b.sibling=C,b=C);return tt&&Di(x,j),w}for(S=n(x,S);!C.done;j++,C=_.next())C=p(S,x,j,C.value,k),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?j:C.key),g=i(C,g,j),b===null?w=C:b.sibling=C,b=C);return e&&S.forEach(function(M){return t(x,M)}),tt&&Di(x,j),w}function v(x,g,_,k){if(typeof _=="object"&&_!==null&&_.type===ho&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Fd:e:{for(var w=_.key,b=g;b!==null;){if(b.key===w){if(w=_.type,w===ho){if(b.tag===7){r(x,b.sibling),g=a(b,_.props.children),g.return=x,x=g;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ba&&Nw(w)===b.type){r(x,b.sibling),g=a(b,_.props),g.ref=pc(x,b,_),g.return=x,x=g;break e}r(x,b);break}else t(x,b);b=b.sibling}_.type===ho?(g=hs(_.props.children,x.mode,k,_.key),g.return=x,x=g):(k=Kf(_.type,_.key,_.props,null,x.mode,k),k.ref=pc(x,g,_),k.return=x,x=k)}return s(x);case fo:e:{for(b=_.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){r(x,g.sibling),g=a(g,_.children||[]),g.return=x,x=g;break e}else{r(x,g);break}else t(x,g);g=g.sibling}g=Og(_,x.mode,k),g.return=x,x=g}return s(x);case Ba:return b=_._init,v(x,g,b(_._payload),k)}if(Pc(_))return m(x,g,_,k);if(cc(_))return y(x,g,_,k);Xd(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(r(x,g.sibling),g=a(g,_),g.return=x,x=g):(r(x,g),g=Ng(_,x.mode,k),g.return=x,x=g),s(x)):r(x,g)}return v}var nl=xO(!0),bO=xO(!1),uh=wi(null),dh=null,_o=null,Ux=null;function qx(){Ux=_o=dh=null}function Kx(e){var t=uh.current;et(uh),e._currentValue=t}function G0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ro(e,t){dh=e,Ux=_o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hr=!0),e.firstContext=null)}function tn(e){var t=e._currentValue;if(Ux!==e)if(e={context:e,memoizedValue:t,next:null},_o===null){if(dh===null)throw Error(ee(308));_o=e,dh.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Vi=null;function Wx(e){Vi===null?Vi=[e]:Vi.push(e)}function _O(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Wx(t)):(r.next=a.next,a.next=r),t.interleaved=r,_a(e,n)}function _a(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fa=!1;function Hx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,_a(e,r)}return a=n.interleaved,a===null?(t.next=t,Wx(n)):(t.next=a.next,a.next=t),n.interleaved=t,_a(e,r)}function Lf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cx(e,r)}}function Ow(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fh(e,t,r,n){var a=e.updateQueue;Fa=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,y=l;switch(h=t,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=ot({},f,h);break e;case 2:Fa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);_s|=s,e.lanes=s,e.memoizedState=f}}function Aw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ee(191,a));a.call(n)}}}var kd={},Un=wi(kd),fu=wi(kd),hu=wi(kd);function Gi(e){if(e===kd)throw Error(ee(174));return e}function Vx(e,t){switch(Qe(hu,t),Qe(fu,e),Qe(Un,kd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:A0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=A0(t,e)}et(Un),Qe(Un,t)}function al(){et(Un),et(fu),et(hu)}function kO(e){Gi(hu.current);var t=Gi(Un.current),r=A0(t,e.type);t!==r&&(Qe(fu,e),Qe(Un,r))}function Gx(e){fu.current===e&&(et(Un),et(fu))}var nt=wi(0);function hh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bg=[];function Qx(){for(var e=0;e<bg.length;e++)bg[e]._workInProgressVersionPrimary=null;bg.length=0}var zf=Oa.ReactCurrentDispatcher,_g=Oa.ReactCurrentBatchConfig,bs=0,it=null,wt=null,Tt=null,ph=!1,Fc=!1,pu=0,hR=0;function Kt(){throw Error(ee(321))}function Yx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nn(e[r],t[r]))return!1;return!0}function Jx(e,t,r,n,a,i){if(bs=i,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zf.current=e===null||e.memoizedState===null?yR:vR,e=r(n,a),Fc){i=0;do{if(Fc=!1,pu=0,25<=i)throw Error(ee(301));i+=1,Tt=wt=null,t.updateQueue=null,zf.current=xR,e=r(n,a)}while(Fc)}if(zf.current=mh,t=wt!==null&&wt.next!==null,bs=0,Tt=wt=it=null,ph=!1,t)throw Error(ee(300));return e}function Xx(){var e=pu!==0;return pu=0,e}function $n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?it.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function rn(){if(wt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=Tt===null?it.memoizedState:Tt.next;if(t!==null)Tt=t,wt=e;else{if(e===null)throw Error(ee(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Tt===null?it.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function mu(e,t){return typeof t=="function"?t(e):t}function wg(e){var t=rn(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=wt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((bs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,it.lanes|=d,_s|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=l,Nn(n,t.memoizedState)||(hr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,it.lanes|=i,_s|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function kg(e){var t=rn(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Nn(i,t.memoizedState)||(hr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function jO(){}function SO(e,t){var r=it,n=rn(),a=t(),i=!Nn(n.memoizedState,a);if(i&&(n.memoizedState=a,hr=!0),n=n.queue,Zx(AO.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Tt!==null&&Tt.memoizedState.tag&1){if(r.flags|=2048,gu(9,OO.bind(null,r,n,a,t),void 0,null),Rt===null)throw Error(ee(349));bs&30||NO(r,t,a)}return a}function NO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function OO(e,t,r,n){t.value=r,t.getSnapshot=n,PO(t)&&EO(e)}function AO(e,t,r){return r(function(){PO(t)&&EO(e)})}function PO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nn(e,r)}catch{return!0}}function EO(e){var t=_a(e,1);t!==null&&wn(t,e,1,-1)}function Pw(e){var t=$n();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:e},t.queue=e,e=e.dispatch=gR.bind(null,it,e),[t.memoizedState,e]}function gu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function CO(){return rn().memoizedState}function Bf(e,t,r,n){var a=$n();it.flags|=e,a.memoizedState=gu(1|t,r,void 0,n===void 0?null:n)}function Fp(e,t,r,n){var a=rn();n=n===void 0?null:n;var i=void 0;if(wt!==null){var s=wt.memoizedState;if(i=s.destroy,n!==null&&Yx(n,s.deps)){a.memoizedState=gu(t,r,i,n);return}}it.flags|=e,a.memoizedState=gu(1|t,r,i,n)}function Ew(e,t){return Bf(8390656,8,e,t)}function Zx(e,t){return Fp(2048,8,e,t)}function TO(e,t){return Fp(4,2,e,t)}function $O(e,t){return Fp(4,4,e,t)}function RO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IO(e,t,r){return r=r!=null?r.concat([e]):null,Fp(4,4,RO.bind(null,t,e),r)}function eb(){}function MO(e,t){var r=rn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Yx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function DO(e,t){var r=rn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Yx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function LO(e,t,r){return bs&21?(Nn(r,t)||(r=qN(),it.lanes|=r,_s|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hr=!0),e.memoizedState=r)}function pR(e,t){var r=Be;Be=r!==0&&4>r?r:4,e(!0);var n=_g.transition;_g.transition={};try{e(!1),t()}finally{Be=r,_g.transition=n}}function zO(){return rn().memoizedState}function mR(e,t,r){var n=pi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},BO(e))FO(t,r);else if(r=_O(e,t,r,n),r!==null){var a=ar();wn(r,e,n,a),UO(r,t,n)}}function gR(e,t,r){var n=pi(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(BO(e))FO(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,r);if(a.hasEagerState=!0,a.eagerState=l,Nn(l,s)){var c=t.interleaved;c===null?(a.next=a,Wx(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=_O(e,t,a,n),r!==null&&(a=ar(),wn(r,e,n,a),UO(r,t,n))}}function BO(e){var t=e.alternate;return e===it||t!==null&&t===it}function FO(e,t){Fc=ph=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function UO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cx(e,r)}}var mh={readContext:tn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},yR={readContext:tn,useCallback:function(e,t){return $n().memoizedState=[e,t===void 0?null:t],e},useContext:tn,useEffect:Ew,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bf(4194308,4,RO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bf(4,2,e,t)},useMemo:function(e,t){var r=$n();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$n();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=mR.bind(null,it,e),[n.memoizedState,e]},useRef:function(e){var t=$n();return e={current:e},t.memoizedState=e},useState:Pw,useDebugValue:eb,useDeferredValue:function(e){return $n().memoizedState=e},useTransition:function(){var e=Pw(!1),t=e[0];return e=pR.bind(null,e[1]),$n().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=it,a=$n();if(tt){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=t(),Rt===null)throw Error(ee(349));bs&30||NO(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Ew(AO.bind(null,n,i,e),[e]),n.flags|=2048,gu(9,OO.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=$n(),t=Rt.identifierPrefix;if(tt){var r=ua,n=ca;r=(n&~(1<<32-_n(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=pu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vR={readContext:tn,useCallback:MO,useContext:tn,useEffect:Zx,useImperativeHandle:IO,useInsertionEffect:TO,useLayoutEffect:$O,useMemo:DO,useReducer:wg,useRef:CO,useState:function(){return wg(mu)},useDebugValue:eb,useDeferredValue:function(e){var t=rn();return LO(t,wt.memoizedState,e)},useTransition:function(){var e=wg(mu)[0],t=rn().memoizedState;return[e,t]},useMutableSource:jO,useSyncExternalStore:SO,useId:zO,unstable_isNewReconciler:!1},xR={readContext:tn,useCallback:MO,useContext:tn,useEffect:Zx,useImperativeHandle:IO,useInsertionEffect:TO,useLayoutEffect:$O,useMemo:DO,useReducer:kg,useRef:CO,useState:function(){return kg(mu)},useDebugValue:eb,useDeferredValue:function(e){var t=rn();return wt===null?t.memoizedState=e:LO(t,wt.memoizedState,e)},useTransition:function(){var e=kg(mu)[0],t=rn().memoizedState;return[e,t]},useMutableSource:jO,useSyncExternalStore:SO,useId:zO,unstable_isNewReconciler:!1};function dn(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Q0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Up={isMounted:function(e){return(e=e._reactInternals)?Is(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ar(),a=pi(e),i=pa(n,a);i.payload=t,r!=null&&(i.callback=r),t=fi(e,i,a),t!==null&&(wn(t,e,a,n),Lf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ar(),a=pi(e),i=pa(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fi(e,i,a),t!==null&&(wn(t,e,a,n),Lf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ar(),n=pi(e),a=pa(r,n);a.tag=2,t!=null&&(a.callback=t),t=fi(e,a,n),t!==null&&(wn(t,e,n,r),Lf(t,e,n))}};function Cw(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!lu(r,n)||!lu(a,i):!0}function qO(e,t,r){var n=!1,a=bi,i=t.contextType;return typeof i=="object"&&i!==null?i=tn(i):(a=yr(t)?vs:Jt.current,n=t.contextTypes,i=(n=n!=null)?tl(e,a):bi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Up,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Tw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Up.enqueueReplaceState(t,t.state,null)}function Y0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Hx(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=tn(i):(i=yr(t)?vs:Jt.current,a.context=tl(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Q0(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Up.enqueueReplaceState(a,a.state,null),fh(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function il(e,t){try{var r="",n=t;do r+=V5(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function jg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function J0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bR=typeof WeakMap=="function"?WeakMap:Map;function KO(e,t,r){r=pa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yh||(yh=!0,oy=n),J0(e,t)},r}function WO(e,t,r){r=pa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){J0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){J0(e,t),typeof n!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function $w(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new bR;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=RR.bind(null,e,t,r),t.then(e,e))}function Rw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Iw(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=pa(-1,1),t.tag=2,fi(r,t,1))),r.lanes|=1),e)}var _R=Oa.ReactCurrentOwner,hr=!1;function Zt(e,t,r,n){t.child=e===null?bO(t,null,r,n):nl(t,e.child,r,n)}function Mw(e,t,r,n,a){r=r.render;var i=t.ref;return Ro(t,a),n=Jx(e,t,r,n,i,a),r=Xx(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,wa(e,t,a)):(tt&&r&&zx(t),t.flags|=1,Zt(e,t,n,a),t.child)}function Dw(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!lb(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,HO(e,t,i,n,a)):(e=Kf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:lu,r(s,n)&&e.ref===t.ref)return wa(e,t,a)}return t.flags|=1,e=mi(i,n),e.ref=t.ref,e.return=t,t.child=e}function HO(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(lu(i,n)&&e.ref===t.ref)if(hr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(hr=!0);else return t.lanes=e.lanes,wa(e,t,a)}return X0(e,t,r,n,a)}function VO(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ko,Nr),Nr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(ko,Nr),Nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Qe(ko,Nr),Nr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Qe(ko,Nr),Nr|=n;return Zt(e,t,a,r),t.child}function GO(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function X0(e,t,r,n,a){var i=yr(r)?vs:Jt.current;return i=tl(t,i),Ro(t,a),r=Jx(e,t,r,n,i,a),n=Xx(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,wa(e,t,a)):(tt&&n&&zx(t),t.flags|=1,Zt(e,t,r,a),t.child)}function Lw(e,t,r,n,a){if(yr(r)){var i=!0;oh(t)}else i=!1;if(Ro(t,a),t.stateNode===null)Ff(e,t),qO(t,r,n),Y0(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=tn(u):(u=yr(r)?vs:Jt.current,u=tl(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Tw(t,s,n,u),Fa=!1;var h=t.memoizedState;s.state=h,fh(t,n,s,a),c=t.memoizedState,l!==n||h!==c||gr.current||Fa?(typeof d=="function"&&(Q0(t,r,d,n),c=t.memoizedState),(l=Fa||Cw(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,wO(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:dn(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=tn(c):(c=yr(r)?vs:Jt.current,c=tl(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Tw(t,s,n,c),Fa=!1,h=t.memoizedState,s.state=h,fh(t,n,s,a);var m=t.memoizedState;l!==f||h!==m||gr.current||Fa?(typeof p=="function"&&(Q0(t,r,p,n),m=t.memoizedState),(u=Fa||Cw(t,r,u,n,h,m,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Z0(e,t,r,n,i,a)}function Z0(e,t,r,n,a,i){GO(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&kw(t,r,!1),wa(e,t,i);n=t.stateNode,_R.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=nl(t,e.child,null,i),t.child=nl(t,null,l,i)):Zt(e,t,l,i),t.memoizedState=n.state,a&&kw(t,r,!0),t.child}function QO(e){var t=e.stateNode;t.pendingContext?ww(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ww(e,t.context,!1),Vx(e,t.containerInfo)}function zw(e,t,r,n,a){return rl(),Fx(a),t.flags|=256,Zt(e,t,r,n),t.child}var ey={dehydrated:null,treeContext:null,retryLane:0};function ty(e){return{baseLanes:e,cachePool:null,transitions:null}}function YO(e,t,r){var n=t.pendingProps,a=nt.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Qe(nt,a&1),e===null)return V0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Wp(s,n,0,null),e=hs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ty(r),t.memoizedState=ey,e):tb(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return wR(e,t,s,n,l,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=mi(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=mi(l,i):(i=hs(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?ty(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=ey,n}return i=e.child,e=i.sibling,n=mi(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function tb(e,t){return t=Wp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zd(e,t,r,n){return n!==null&&Fx(n),nl(t,e.child,null,r),e=tb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wR(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=jg(Error(ee(422))),Zd(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Wp({mode:"visible",children:n.children},a,0,null),i=hs(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&nl(t,e.child,null,s),t.child.memoizedState=ty(s),t.memoizedState=ey,i);if(!(t.mode&1))return Zd(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ee(419)),n=jg(i,n,void 0),Zd(e,t,s,n)}if(l=(s&e.childLanes)!==0,hr||l){if(n=Rt,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,_a(e,a),wn(n,e,a,-1))}return ob(),n=jg(Error(ee(421))),Zd(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=IR.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Cr=di(a.nextSibling),Tr=t,tt=!0,vn=null,e!==null&&(Hr[Vr++]=ca,Hr[Vr++]=ua,Hr[Vr++]=xs,ca=e.id,ua=e.overflow,xs=t),t=tb(t,n.children),t.flags|=4096,t)}function Bw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),G0(e.return,t,r)}function Sg(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function JO(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Zt(e,t,n.children,r),n=nt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bw(e,r,t);else if(e.tag===19)Bw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qe(nt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&hh(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Sg(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&hh(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Sg(t,!0,r,null,i);break;case"together":Sg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ff(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_s|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,r=mi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function kR(e,t,r){switch(t.tag){case 3:QO(t),rl();break;case 5:kO(t);break;case 1:yr(t.type)&&oh(t);break;case 4:Vx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Qe(uh,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qe(nt,nt.current&1),t.flags|=128,null):r&t.child.childLanes?YO(e,t,r):(Qe(nt,nt.current&1),e=wa(e,t,r),e!==null?e.sibling:null);Qe(nt,nt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return JO(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Qe(nt,nt.current),n)break;return null;case 22:case 23:return t.lanes=0,VO(e,t,r)}return wa(e,t,r)}var XO,ry,ZO,eA;XO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ry=function(){};ZO=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Gi(Un.current);var i=null;switch(r){case"input":a=j0(e,a),n=j0(e,n),i=[];break;case"select":a=ot({},a,{value:void 0}),n=ot({},n,{value:void 0}),i=[];break;case"textarea":a=O0(e,a),n=O0(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ih)}P0(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Je("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};eA=function(e,t,r,n){r!==n&&(t.flags|=4)};function mc(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function jR(e,t,r){var n=t.pendingProps;switch(Bx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(t),null;case 1:return yr(t.type)&&sh(),Wt(t),null;case 3:return n=t.stateNode,al(),et(gr),et(Jt),Qx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vn!==null&&(uy(vn),vn=null))),ry(e,t),Wt(t),null;case 5:Gx(t);var a=Gi(hu.current);if(r=t.type,e!==null&&t.stateNode!=null)ZO(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ee(166));return Wt(t),null}if(e=Gi(Un.current),Jd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Dn]=t,n[du]=i,e=(t.mode&1)!==0,r){case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":case"embed":Je("load",n);break;case"video":case"audio":for(a=0;a<Cc.length;a++)Je(Cc[a],n);break;case"source":Je("error",n);break;case"img":case"image":case"link":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"input":Q_(n,i),Je("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Je("invalid",n);break;case"textarea":J_(n,i),Je("invalid",n)}P0(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Yd(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Yd(n.textContent,l,e),a=["children",""+l]):tu.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Je("scroll",n)}switch(r){case"input":Ud(n),Y_(n,i,!0);break;case"textarea":Ud(n),X_(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ih)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Dn]=t,e[du]=n,XO(e,t,!1,!1),t.stateNode=e;e:{switch(s=E0(r,n),r){case"dialog":Je("cancel",e),Je("close",e),a=n;break;case"iframe":case"object":case"embed":Je("load",e),a=n;break;case"video":case"audio":for(a=0;a<Cc.length;a++)Je(Cc[a],e);a=n;break;case"source":Je("error",e),a=n;break;case"img":case"image":case"link":Je("error",e),Je("load",e),a=n;break;case"details":Je("toggle",e),a=n;break;case"input":Q_(e,n),a=j0(e,n),Je("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ot({},n,{value:void 0}),Je("invalid",e);break;case"textarea":J_(e,n),a=O0(e,n),Je("invalid",e);break;default:a=n}P0(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?CN(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&PN(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ru(e,c):typeof c=="number"&&ru(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Je("scroll",e):c!=null&&Sx(e,i,c,s))}switch(r){case"input":Ud(e),Y_(e,n,!1);break;case"textarea":Ud(e),X_(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xi(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Eo(e,!!n.multiple,i,!1):n.defaultValue!=null&&Eo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ih)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wt(t),null;case 6:if(e&&t.stateNode!=null)eA(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ee(166));if(r=Gi(hu.current),Gi(Un.current),Jd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Dn]=t,(i=n.nodeValue!==r)&&(e=Tr,e!==null))switch(e.tag){case 3:Yd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yd(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Dn]=t,t.stateNode=n}return Wt(t),null;case 13:if(et(nt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&Cr!==null&&t.mode&1&&!(t.flags&128))vO(),rl(),t.flags|=98560,i=!1;else if(i=Jd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ee(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ee(317));i[Dn]=t}else rl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wt(t),i=!1}else vn!==null&&(uy(vn),vn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?St===0&&(St=3):ob())),t.updateQueue!==null&&(t.flags|=4),Wt(t),null);case 4:return al(),ry(e,t),e===null&&cu(t.stateNode.containerInfo),Wt(t),null;case 10:return Kx(t.type._context),Wt(t),null;case 17:return yr(t.type)&&sh(),Wt(t),null;case 19:if(et(nt),i=t.memoizedState,i===null)return Wt(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)mc(i,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=hh(e),s!==null){for(t.flags|=128,mc(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qe(nt,nt.current&1|2),t.child}e=e.sibling}i.tail!==null&&pt()>sl&&(t.flags|=128,n=!0,mc(i,!1),t.lanes=4194304)}else{if(!n)if(e=hh(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),mc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!tt)return Wt(t),null}else 2*pt()-i.renderingStartTime>sl&&r!==1073741824&&(t.flags|=128,n=!0,mc(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pt(),t.sibling=null,r=nt.current,Qe(nt,n?r&1|2:r&1),t):(Wt(t),null);case 22:case 23:return sb(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Nr&1073741824&&(Wt(t),t.subtreeFlags&6&&(t.flags|=8192)):Wt(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function SR(e,t){switch(Bx(t),t.tag){case 1:return yr(t.type)&&sh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return al(),et(gr),et(Jt),Qx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gx(t),null;case 13:if(et(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(nt),null;case 4:return al(),null;case 10:return Kx(t.type._context),null;case 22:case 23:return sb(),null;case 24:return null;default:return null}}var ef=!1,Gt=!1,NR=typeof WeakSet=="function"?WeakSet:Set,oe=null;function wo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ut(e,t,n)}else r.current=null}function ny(e,t,r){try{r()}catch(n){ut(e,t,n)}}var Fw=!1;function OR(e,t){if(B0=rh,e=iO(),Lx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=s),h===i&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(F0={focusedElem:e,selectionRange:r},rh=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:dn(t.type,y),v);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(k){ut(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return m=Fw,Fw=!1,m}function Uc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&ny(t,r,i)}a=a.next}while(a!==n)}}function qp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ay(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function tA(e){var t=e.alternate;t!==null&&(e.alternate=null,tA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dn],delete t[du],delete t[K0],delete t[cR],delete t[uR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rA(e){return e.tag===5||e.tag===3||e.tag===4}function Uw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ih));else if(n!==4&&(e=e.child,e!==null))for(iy(e,t,r),e=e.sibling;e!==null;)iy(e,t,r),e=e.sibling}function sy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sy(e,t,r),e=e.sibling;e!==null;)sy(e,t,r),e=e.sibling}var zt=null,mn=!1;function Ma(e,t,r){for(r=r.child;r!==null;)nA(e,t,r),r=r.sibling}function nA(e,t,r){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Ip,r)}catch{}switch(r.tag){case 5:Gt||wo(r,t);case 6:var n=zt,a=mn;zt=null,Ma(e,t,r),zt=n,mn=a,zt!==null&&(mn?(e=zt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):zt.removeChild(r.stateNode));break;case 18:zt!==null&&(mn?(e=zt,r=r.stateNode,e.nodeType===8?vg(e.parentNode,r):e.nodeType===1&&vg(e,r),su(e)):vg(zt,r.stateNode));break;case 4:n=zt,a=mn,zt=r.stateNode.containerInfo,mn=!0,Ma(e,t,r),zt=n,mn=a;break;case 0:case 11:case 14:case 15:if(!Gt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&ny(r,t,s),a=a.next}while(a!==n)}Ma(e,t,r);break;case 1:if(!Gt&&(wo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ut(r,t,l)}Ma(e,t,r);break;case 21:Ma(e,t,r);break;case 22:r.mode&1?(Gt=(n=Gt)||r.memoizedState!==null,Ma(e,t,r),Gt=n):Ma(e,t,r);break;default:Ma(e,t,r)}}function qw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new NR),t.forEach(function(n){var a=MR.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ln(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:zt=l.stateNode,mn=!1;break e;case 3:zt=l.stateNode.containerInfo,mn=!0;break e;case 4:zt=l.stateNode.containerInfo,mn=!0;break e}l=l.return}if(zt===null)throw Error(ee(160));nA(i,s,a),zt=null,mn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){ut(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)aA(t,e),t=t.sibling}function aA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(t,e),Cn(e),n&4){try{Uc(3,e,e.return),qp(3,e)}catch(y){ut(e,e.return,y)}try{Uc(5,e,e.return)}catch(y){ut(e,e.return,y)}}break;case 1:ln(t,e),Cn(e),n&512&&r!==null&&wo(r,r.return);break;case 5:if(ln(t,e),Cn(e),n&512&&r!==null&&wo(r,r.return),e.flags&32){var a=e.stateNode;try{ru(a,"")}catch(y){ut(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&NN(a,i),E0(l,s);var u=E0(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?CN(a,f):d==="dangerouslySetInnerHTML"?PN(a,f):d==="children"?ru(a,f):Sx(a,d,f,u)}switch(l){case"input":S0(a,i);break;case"textarea":ON(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Eo(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Eo(a,!!i.multiple,i.defaultValue,!0):Eo(a,!!i.multiple,i.multiple?[]:"",!1))}a[du]=i}catch(y){ut(e,e.return,y)}}break;case 6:if(ln(t,e),Cn(e),n&4){if(e.stateNode===null)throw Error(ee(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){ut(e,e.return,y)}}break;case 3:if(ln(t,e),Cn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{su(t.containerInfo)}catch(y){ut(e,e.return,y)}break;case 4:ln(t,e),Cn(e);break;case 13:ln(t,e),Cn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(ab=pt())),n&4&&qw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Gt=(u=Gt)||d,ln(t,e),Gt=u):ln(t,e),Cn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(oe=e,d=e.child;d!==null;){for(f=oe=d;oe!==null;){switch(h=oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Uc(4,h,h.return);break;case 1:wo(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){ut(n,r,y)}}break;case 5:wo(h,h.return);break;case 22:if(h.memoizedState!==null){Ww(f);continue}}p!==null?(p.return=h,oe=p):Ww(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=EN("display",s))}catch(y){ut(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ut(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ln(t,e),Cn(e),n&4&&qw(e);break;case 21:break;default:ln(t,e),Cn(e)}}function Cn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(rA(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ru(a,""),n.flags&=-33);var i=Uw(e);sy(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,l=Uw(e);iy(e,l,s);break;default:throw Error(ee(161))}}catch(c){ut(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AR(e,t,r){oe=e,iA(e)}function iA(e,t,r){for(var n=(e.mode&1)!==0;oe!==null;){var a=oe,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||ef;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Gt;l=ef;var u=Gt;if(ef=s,(Gt=c)&&!u)for(oe=a;oe!==null;)s=oe,c=s.child,s.tag===22&&s.memoizedState!==null?Hw(a):c!==null?(c.return=s,oe=c):Hw(a);for(;i!==null;)oe=i,iA(i),i=i.sibling;oe=a,ef=l,Gt=u}Kw(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,oe=i):Kw(e)}}function Kw(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gt||qp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Gt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:dn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Aw(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Aw(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&su(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Gt||t.flags&512&&ay(t)}catch(h){ut(t,t.return,h)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Ww(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Hw(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{qp(4,t)}catch(c){ut(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){ut(t,a,c)}}var i=t.return;try{ay(t)}catch(c){ut(t,i,c)}break;case 5:var s=t.return;try{ay(t)}catch(c){ut(t,s,c)}}}catch(c){ut(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var PR=Math.ceil,gh=Oa.ReactCurrentDispatcher,rb=Oa.ReactCurrentOwner,Xr=Oa.ReactCurrentBatchConfig,$e=0,Rt=null,yt=null,Ft=0,Nr=0,ko=wi(0),St=0,yu=null,_s=0,Kp=0,nb=0,qc=null,ur=null,ab=0,sl=1/0,ta=null,yh=!1,oy=null,hi=null,tf=!1,ai=null,vh=0,Kc=0,ly=null,Uf=-1,qf=0;function ar(){return $e&6?pt():Uf!==-1?Uf:Uf=pt()}function pi(e){return e.mode&1?$e&2&&Ft!==0?Ft&-Ft:fR.transition!==null?(qf===0&&(qf=qN()),qf):(e=Be,e!==0||(e=window.event,e=e===void 0?16:YN(e.type)),e):1}function wn(e,t,r,n){if(50<Kc)throw Kc=0,ly=null,Error(ee(185));bd(e,r,n),(!($e&2)||e!==Rt)&&(e===Rt&&(!($e&2)&&(Kp|=r),St===4&&Wa(e,Ft)),vr(e,n),r===1&&$e===0&&!(t.mode&1)&&(sl=pt()+500,Bp&&ki()))}function vr(e,t){var r=e.callbackNode;f$(e,t);var n=th(e,e===Rt?Ft:0);if(n===0)r!==null&&tw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tw(r),t===1)e.tag===0?dR(Vw.bind(null,e)):mO(Vw.bind(null,e)),oR(function(){!($e&6)&&ki()}),r=null;else{switch(KN(n)){case 1:r=Ex;break;case 4:r=FN;break;case 16:r=eh;break;case 536870912:r=UN;break;default:r=eh}r=hA(r,sA.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sA(e,t){if(Uf=-1,qf=0,$e&6)throw Error(ee(327));var r=e.callbackNode;if(Io()&&e.callbackNode!==r)return null;var n=th(e,e===Rt?Ft:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=xh(e,n);else{t=n;var a=$e;$e|=2;var i=lA();(Rt!==e||Ft!==t)&&(ta=null,sl=pt()+500,fs(e,t));do try{TR();break}catch(l){oA(e,l)}while(!0);qx(),gh.current=i,$e=a,yt!==null?t=0:(Rt=null,Ft=0,t=St)}if(t!==0){if(t===2&&(a=I0(e),a!==0&&(n=a,t=cy(e,a))),t===1)throw r=yu,fs(e,0),Wa(e,n),vr(e,pt()),r;if(t===6)Wa(e,n);else{if(a=e.current.alternate,!(n&30)&&!ER(a)&&(t=xh(e,n),t===2&&(i=I0(e),i!==0&&(n=i,t=cy(e,i))),t===1))throw r=yu,fs(e,0),Wa(e,n),vr(e,pt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ee(345));case 2:Li(e,ur,ta);break;case 3:if(Wa(e,n),(n&130023424)===n&&(t=ab+500-pt(),10<t)){if(th(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ar(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=q0(Li.bind(null,e,ur,ta),t);break}Li(e,ur,ta);break;case 4:if(Wa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-_n(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*PR(n/1960))-n,10<n){e.timeoutHandle=q0(Li.bind(null,e,ur,ta),n);break}Li(e,ur,ta);break;case 5:Li(e,ur,ta);break;default:throw Error(ee(329))}}}return vr(e,pt()),e.callbackNode===r?sA.bind(null,e):null}function cy(e,t){var r=qc;return e.current.memoizedState.isDehydrated&&(fs(e,t).flags|=256),e=xh(e,t),e!==2&&(t=ur,ur=r,t!==null&&uy(t)),e}function uy(e){ur===null?ur=e:ur.push.apply(ur,e)}function ER(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Nn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wa(e,t){for(t&=~nb,t&=~Kp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_n(t),n=1<<r;e[r]=-1,t&=~n}}function Vw(e){if($e&6)throw Error(ee(327));Io();var t=th(e,0);if(!(t&1))return vr(e,pt()),null;var r=xh(e,t);if(e.tag!==0&&r===2){var n=I0(e);n!==0&&(t=n,r=cy(e,n))}if(r===1)throw r=yu,fs(e,0),Wa(e,t),vr(e,pt()),r;if(r===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Li(e,ur,ta),vr(e,pt()),null}function ib(e,t){var r=$e;$e|=1;try{return e(t)}finally{$e=r,$e===0&&(sl=pt()+500,Bp&&ki())}}function ws(e){ai!==null&&ai.tag===0&&!($e&6)&&Io();var t=$e;$e|=1;var r=Xr.transition,n=Be;try{if(Xr.transition=null,Be=1,e)return e()}finally{Be=n,Xr.transition=r,$e=t,!($e&6)&&ki()}}function sb(){Nr=ko.current,et(ko)}function fs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,sR(r)),yt!==null)for(r=yt.return;r!==null;){var n=r;switch(Bx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sh();break;case 3:al(),et(gr),et(Jt),Qx();break;case 5:Gx(n);break;case 4:al();break;case 13:et(nt);break;case 19:et(nt);break;case 10:Kx(n.type._context);break;case 22:case 23:sb()}r=r.return}if(Rt=e,yt=e=mi(e.current,null),Ft=Nr=t,St=0,yu=null,nb=Kp=_s=0,ur=qc=null,Vi!==null){for(t=0;t<Vi.length;t++)if(r=Vi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Vi=null}return e}function oA(e,t){do{var r=yt;try{if(qx(),zf.current=mh,ph){for(var n=it.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ph=!1}if(bs=0,Tt=wt=it=null,Fc=!1,pu=0,rb.current=null,r===null||r.return===null){St=1,yu=t,yt=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=Ft,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Rw(s);if(p!==null){p.flags&=-257,Iw(p,s,l,i,t),p.mode&1&&$w(i,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var y=new Set;y.add(c),t.updateQueue=y}else m.add(c);break e}else{if(!(t&1)){$w(i,u,t),ob();break e}c=Error(ee(426))}}else if(tt&&l.mode&1){var v=Rw(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Iw(v,s,l,i,t),Fx(il(c,l));break e}}i=c=il(c,l),St!==4&&(St=2),qc===null?qc=[i]:qc.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=KO(i,c,t);Ow(i,x);break e;case 1:l=c;var g=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(hi===null||!hi.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=WO(i,l,t);Ow(i,k);break e}}i=i.return}while(i!==null)}uA(r)}catch(w){t=w,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(!0)}function lA(){var e=gh.current;return gh.current=mh,e===null?mh:e}function ob(){(St===0||St===3||St===2)&&(St=4),Rt===null||!(_s&268435455)&&!(Kp&268435455)||Wa(Rt,Ft)}function xh(e,t){var r=$e;$e|=2;var n=lA();(Rt!==e||Ft!==t)&&(ta=null,fs(e,t));do try{CR();break}catch(a){oA(e,a)}while(!0);if(qx(),$e=r,gh.current=n,yt!==null)throw Error(ee(261));return Rt=null,Ft=0,St}function CR(){for(;yt!==null;)cA(yt)}function TR(){for(;yt!==null&&!n$();)cA(yt)}function cA(e){var t=fA(e.alternate,e,Nr);e.memoizedProps=e.pendingProps,t===null?uA(e):yt=t,rb.current=null}function uA(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=SR(r,t),r!==null){r.flags&=32767,yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,yt=null;return}}else if(r=jR(r,t,Nr),r!==null){yt=r;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);St===0&&(St=5)}function Li(e,t,r){var n=Be,a=Xr.transition;try{Xr.transition=null,Be=1,$R(e,t,r,n)}finally{Xr.transition=a,Be=n}return null}function $R(e,t,r,n){do Io();while(ai!==null);if($e&6)throw Error(ee(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(h$(e,i),e===Rt&&(yt=Rt=null,Ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tf||(tf=!0,hA(eh,function(){return Io(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Xr.transition,Xr.transition=null;var s=Be;Be=1;var l=$e;$e|=4,rb.current=null,OR(e,r),aA(r,e),Z$(F0),rh=!!B0,F0=B0=null,e.current=r,AR(r),a$(),$e=l,Be=s,Xr.transition=i}else e.current=r;if(tf&&(tf=!1,ai=e,vh=a),i=e.pendingLanes,i===0&&(hi=null),o$(r.stateNode),vr(e,pt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(yh)throw yh=!1,e=oy,oy=null,e;return vh&1&&e.tag!==0&&Io(),i=e.pendingLanes,i&1?e===ly?Kc++:(Kc=0,ly=e):Kc=0,ki(),null}function Io(){if(ai!==null){var e=KN(vh),t=Xr.transition,r=Be;try{if(Xr.transition=null,Be=16>e?16:e,ai===null)var n=!1;else{if(e=ai,ai=null,vh=0,$e&6)throw Error(ee(331));var a=$e;for($e|=4,oe=e.current;oe!==null;){var i=oe,s=i.child;if(oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(oe=u;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:Uc(8,d,i)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var h=d.sibling,p=d.return;if(tA(d),d===u){oe=null;break}if(h!==null){h.return=p,oe=h;break}oe=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}oe=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,oe=s;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Uc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,oe=x;break e}oe=i.return}}var g=e.current;for(oe=g;oe!==null;){s=oe;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,oe=_;else e:for(s=g;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qp(9,l)}}catch(w){ut(l,l.return,w)}if(l===s){oe=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,oe=k;break e}oe=l.return}}if($e=a,ki(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Ip,e)}catch{}n=!0}return n}finally{Be=r,Xr.transition=t}}return!1}function Gw(e,t,r){t=il(r,t),t=KO(e,t,1),e=fi(e,t,1),t=ar(),e!==null&&(bd(e,1,t),vr(e,t))}function ut(e,t,r){if(e.tag===3)Gw(e,e,r);else for(;t!==null;){if(t.tag===3){Gw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hi===null||!hi.has(n))){e=il(r,e),e=WO(t,e,1),t=fi(t,e,1),e=ar(),t!==null&&(bd(t,1,e),vr(t,e));break}}t=t.return}}function RR(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ar(),e.pingedLanes|=e.suspendedLanes&r,Rt===e&&(Ft&r)===r&&(St===4||St===3&&(Ft&130023424)===Ft&&500>pt()-ab?fs(e,0):nb|=r),vr(e,t)}function dA(e,t){t===0&&(e.mode&1?(t=Wd,Wd<<=1,!(Wd&130023424)&&(Wd=4194304)):t=1);var r=ar();e=_a(e,t),e!==null&&(bd(e,t,r),vr(e,r))}function IR(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dA(e,r)}function MR(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(t),dA(e,r)}var fA;fA=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gr.current)hr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hr=!1,kR(e,t,r);hr=!!(e.flags&131072)}else hr=!1,tt&&t.flags&1048576&&gO(t,ch,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ff(e,t),e=t.pendingProps;var a=tl(t,Jt.current);Ro(t,r),a=Jx(null,t,n,e,a,r);var i=Xx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yr(n)?(i=!0,oh(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Hx(t),a.updater=Up,t.stateNode=a,a._reactInternals=t,Y0(t,n,e,r),t=Z0(null,t,n,!0,i,r)):(t.tag=0,tt&&i&&zx(t),Zt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ff(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=LR(n),e=dn(n,e),a){case 0:t=X0(null,t,n,e,r);break e;case 1:t=Lw(null,t,n,e,r);break e;case 11:t=Mw(null,t,n,e,r);break e;case 14:t=Dw(null,t,n,dn(n.type,e),r);break e}throw Error(ee(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:dn(n,a),X0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:dn(n,a),Lw(e,t,n,a,r);case 3:e:{if(QO(t),e===null)throw Error(ee(387));n=t.pendingProps,i=t.memoizedState,a=i.element,wO(e,t),fh(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=il(Error(ee(423)),t),t=zw(e,t,n,r,a);break e}else if(n!==a){a=il(Error(ee(424)),t),t=zw(e,t,n,r,a);break e}else for(Cr=di(t.stateNode.containerInfo.firstChild),Tr=t,tt=!0,vn=null,r=bO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rl(),n===a){t=wa(e,t,r);break e}Zt(e,t,n,r)}t=t.child}return t;case 5:return kO(t),e===null&&V0(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,U0(n,a)?s=null:i!==null&&U0(n,i)&&(t.flags|=32),GO(e,t),Zt(e,t,s,r),t.child;case 6:return e===null&&V0(t),null;case 13:return YO(e,t,r);case 4:return Vx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=nl(t,null,n,r):Zt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:dn(n,a),Mw(e,t,n,a,r);case 7:return Zt(e,t,t.pendingProps,r),t.child;case 8:return Zt(e,t,t.pendingProps.children,r),t.child;case 12:return Zt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Qe(uh,n._currentValue),n._currentValue=s,i!==null)if(Nn(i.value,s)){if(i.children===a.children&&!gr.current){t=wa(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=pa(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),G0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ee(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),G0(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Zt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ro(t,r),a=tn(a),n=n(a),t.flags|=1,Zt(e,t,n,r),t.child;case 14:return n=t.type,a=dn(n,t.pendingProps),a=dn(n.type,a),Dw(e,t,n,a,r);case 15:return HO(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:dn(n,a),Ff(e,t),t.tag=1,yr(n)?(e=!0,oh(t)):e=!1,Ro(t,r),qO(t,n,a),Y0(t,n,a,r),Z0(null,t,n,!0,e,r);case 19:return JO(e,t,r);case 22:return VO(e,t,r)}throw Error(ee(156,t.tag))};function hA(e,t){return BN(e,t)}function DR(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(e,t,r,n){return new DR(e,t,r,n)}function lb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LR(e){if(typeof e=="function")return lb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ox)return 11;if(e===Ax)return 14}return 2}function mi(e,t){var r=e.alternate;return r===null?(r=Yr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Kf(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")lb(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ho:return hs(r.children,a,i,t);case Nx:s=8,a|=8;break;case b0:return e=Yr(12,r,t,a|2),e.elementType=b0,e.lanes=i,e;case _0:return e=Yr(13,r,t,a),e.elementType=_0,e.lanes=i,e;case w0:return e=Yr(19,r,t,a),e.elementType=w0,e.lanes=i,e;case kN:return Wp(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _N:s=10;break e;case wN:s=9;break e;case Ox:s=11;break e;case Ax:s=14;break e;case Ba:s=16,n=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=Yr(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function hs(e,t,r,n){return e=Yr(7,e,n,t),e.lanes=r,e}function Wp(e,t,r,n){return e=Yr(22,e,n,t),e.elementType=kN,e.lanes=r,e.stateNode={isHidden:!1},e}function Ng(e,t,r){return e=Yr(6,e,null,t),e.lanes=r,e}function Og(e,t,r){return t=Yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zR(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=og(0),this.expirationTimes=og(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=og(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function cb(e,t,r,n,a,i,s,l,c){return e=new zR(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Yr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hx(i),e}function BR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function pA(e){if(!e)return bi;e=e._reactInternals;e:{if(Is(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var r=e.type;if(yr(r))return pO(e,r,t)}return t}function mA(e,t,r,n,a,i,s,l,c){return e=cb(r,n,!0,e,a,i,s,l,c),e.context=pA(null),r=e.current,n=ar(),a=pi(r),i=pa(n,a),i.callback=t??null,fi(r,i,a),e.current.lanes=a,bd(e,a,n),vr(e,n),e}function Hp(e,t,r,n){var a=t.current,i=ar(),s=pi(a);return r=pA(r),t.context===null?t.context=r:t.pendingContext=r,t=pa(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fi(a,t,s),e!==null&&(wn(e,a,s,i),Lf(e,a,s)),s}function bh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ub(e,t){Qw(e,t),(e=e.alternate)&&Qw(e,t)}function FR(){return null}var gA=typeof reportError=="function"?reportError:function(e){console.error(e)};function db(e){this._internalRoot=e}Vp.prototype.render=db.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));Hp(e,t,null,null)};Vp.prototype.unmount=db.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ws(function(){Hp(null,e,null,null)}),t[ba]=null}};function Vp(e){this._internalRoot=e}Vp.prototype.unstable_scheduleHydration=function(e){if(e){var t=VN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ka.length&&t!==0&&t<Ka[r].priority;r++);Ka.splice(r,0,e),r===0&&QN(e)}};function fb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yw(){}function UR(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=bh(s);i.call(u)}}var s=mA(t,n,e,0,null,!1,!1,"",Yw);return e._reactRootContainer=s,e[ba]=s.current,cu(e.nodeType===8?e.parentNode:e),ws(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=bh(c);l.call(u)}}var c=cb(e,0,!1,null,null,!1,!1,"",Yw);return e._reactRootContainer=c,e[ba]=c.current,cu(e.nodeType===8?e.parentNode:e),ws(function(){Hp(t,c,r,n)}),c}function Qp(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=bh(s);l.call(c)}}Hp(t,s,e,a)}else s=UR(r,t,e,a,n);return bh(s)}WN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ec(t.pendingLanes);r!==0&&(Cx(t,r|1),vr(t,pt()),!($e&6)&&(sl=pt()+500,ki()))}break;case 13:ws(function(){var n=_a(e,1);if(n!==null){var a=ar();wn(n,e,1,a)}}),ub(e,1)}};Tx=function(e){if(e.tag===13){var t=_a(e,134217728);if(t!==null){var r=ar();wn(t,e,134217728,r)}ub(e,134217728)}};HN=function(e){if(e.tag===13){var t=pi(e),r=_a(e,t);if(r!==null){var n=ar();wn(r,e,t,n)}ub(e,t)}};VN=function(){return Be};GN=function(e,t){var r=Be;try{return Be=e,t()}finally{Be=r}};T0=function(e,t,r){switch(t){case"input":if(S0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=zp(n);if(!a)throw Error(ee(90));SN(n),S0(n,a)}}}break;case"textarea":ON(e,r);break;case"select":t=r.value,t!=null&&Eo(e,!!r.multiple,t,!1)}};RN=ib;IN=ws;var qR={usingClientEntryPoint:!1,Events:[wd,yo,zp,TN,$N,ib]},gc={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KR={bundleType:gc.bundleType,version:gc.version,rendererPackageName:gc.rendererPackageName,rendererConfig:gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LN(e),e===null?null:e.stateNode},findFiberByHostInstance:gc.findFiberByHostInstance||FR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{Ip=rf.inject(KR),Fn=rf}catch{}}Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qR;Dr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fb(t))throw Error(ee(200));return BR(e,t,null,r)};Dr.createRoot=function(e,t){if(!fb(e))throw Error(ee(299));var r=!1,n="",a=gA;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=cb(e,1,!1,null,null,r,!1,n,a),e[ba]=t.current,cu(e.nodeType===8?e.parentNode:e),new db(t)};Dr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=LN(t),e=e===null?null:e.stateNode,e};Dr.flushSync=function(e){return ws(e)};Dr.hydrate=function(e,t,r){if(!Gp(t))throw Error(ee(200));return Qp(null,e,t,!0,r)};Dr.hydrateRoot=function(e,t,r){if(!fb(e))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=gA;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=mA(t,null,e,1,r??null,a,!1,i,s),e[ba]=t.current,cu(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Vp(t)};Dr.render=function(e,t,r){if(!Gp(t))throw Error(ee(200));return Qp(null,e,t,!1,r)};Dr.unmountComponentAtNode=function(e){if(!Gp(e))throw Error(ee(40));return e._reactRootContainer?(ws(function(){Qp(null,null,e,!1,function(){e._reactRootContainer=null,e[ba]=null})}),!0):!1};Dr.unstable_batchedUpdates=ib;Dr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gp(r))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return Qp(e,t,r,!1,n)};Dr.version="18.3.1-next-f1338f8080-20240426";function yA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yA)}catch(e){console.error(e)}}yA(),yN.exports=Dr;var vA=yN.exports,Jw=vA;v0.createRoot=Jw.createRoot,v0.hydrateRoot=Jw.hydrateRoot;var Fl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},WR={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ga,vx,Q2,HR=(Q2=class{constructor(){fe(this,Ga,WR);fe(this,vx,!1)}setTimeoutProvider(e){ie(this,Ga,e)}setTimeout(e,t){return I(this,Ga).setTimeout(e,t)}clearTimeout(e){I(this,Ga).clearTimeout(e)}setInterval(e,t){return I(this,Ga).setInterval(e,t)}clearInterval(e){I(this,Ga).clearInterval(e)}},Ga=new WeakMap,vx=new WeakMap,Q2),Qi=new HR;function VR(e){setTimeout(e,0)}var ks=typeof window>"u"||"Deno"in globalThis;function er(){}function GR(e,t){return typeof e=="function"?e(t):e}function dy(e){return typeof e=="number"&&e>=0&&e!==1/0}function xA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gi(e,t){return typeof e=="function"?e(t):e}function Wr(e,t){return typeof e=="function"?e(t):e}function Xw(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:l}=e;if(s){if(n){if(t.queryHash!==hb(s,t.options))return!1}else if(!vu(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Zw(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(js(t.options.mutationKey)!==js(i))return!1}else if(!vu(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function hb(e,t){return((t==null?void 0:t.queryKeyHashFn)||js)(e)}function js(e){return JSON.stringify(e,(t,r)=>fy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function vu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>vu(e[r],t[r])):!1}var QR=Object.prototype.hasOwnProperty;function bA(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=e1(e)&&e1(t);if(!n&&!(fy(e)&&fy(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),l=s.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:s[d],h=e[f],p=t[f];if(h===p){c[f]=h,(n?d<i:QR.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){c[f]=p;continue}const m=bA(h,p,r+1);c[f]=m,m===h&&u++}return i===l&&u===i?e:c}function _h(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function e1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fy(e){if(!t1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!t1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function t1(e){return Object.prototype.toString.call(e)==="[object Object]"}function YR(e){return new Promise(t=>{Qi.setTimeout(t,e)})}function hy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?bA(e,t):t}function JR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function XR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var pb=Symbol();function _A(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===pb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function mb(e,t){return typeof e=="function"?e(...t):!!e}function ZR(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var ns,Qa,Uo,Y2,e4=(Y2=class extends Fl{constructor(){super();fe(this,ns);fe(this,Qa);fe(this,Uo);ie(this,Uo,t=>{if(!ks&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){I(this,Qa)||this.setEventListener(I(this,Uo))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,Qa))==null||t.call(this),ie(this,Qa,void 0))}setEventListener(t){var r;ie(this,Uo,t),(r=I(this,Qa))==null||r.call(this),ie(this,Qa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){I(this,ns)!==t&&(ie(this,ns,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof I(this,ns)=="boolean"?I(this,ns):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ns=new WeakMap,Qa=new WeakMap,Uo=new WeakMap,Y2),gb=new e4;function py(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var t4=VR;function r4(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=t4;const i=l=>{t?e.push(l):a(()=>{r(l)})},s=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var kt=r4(),qo,Ya,Ko,J2,n4=(J2=class extends Fl{constructor(){super();fe(this,qo,!0);fe(this,Ya);fe(this,Ko);ie(this,Ko,t=>{if(!ks&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){I(this,Ya)||this.setEventListener(I(this,Ko))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,Ya))==null||t.call(this),ie(this,Ya,void 0))}setEventListener(t){var r;ie(this,Ko,t),(r=I(this,Ya))==null||r.call(this),ie(this,Ya,t(this.setOnline.bind(this)))}setOnline(t){I(this,qo)!==t&&(ie(this,qo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return I(this,qo)}},qo=new WeakMap,Ya=new WeakMap,Ko=new WeakMap,J2),wh=new n4;function a4(e){return Math.min(1e3*2**e,3e4)}function wA(e){return(e??"online")==="online"?wh.isOnline():!0}var my=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function kA(e){let t=!1,r=0,n;const a=py(),i=()=>a.status!=="pending",s=y=>{var v;if(!i()){const x=new my(y);h(x),(v=e.onCancel)==null||v.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>gb.isFocused()&&(e.networkMode==="always"||wh.isOnline())&&e.canRun(),d=()=>wA(e.networkMode)&&e.canRun(),f=y=>{i()||(n==null||n(),a.resolve(y))},h=y=>{i()||(n==null||n(),a.reject(y))},p=()=>new Promise(y=>{var v;n=x=>{(i()||u())&&y(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var y;n=void 0,i()||(y=e.onContinue)==null||y.call(e)}),m=()=>{if(i())return;let y;const v=r===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(f).catch(x=>{var b;if(i())return;const g=e.retry??(ks?0:3),_=e.retryDelay??a4,k=typeof _=="function"?_(r,x):_,w=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,x);if(t||!w){h(x);return}r++,(b=e.onFail)==null||b.call(e,r,x),YR(k).then(()=>u()?void 0:p()).then(()=>{t?h(x):m()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():p().then(m),a)}}var as,X2,jA=(X2=class{constructor(){fe(this,as)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dy(this.gcTime)&&ie(this,as,Qi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ks?1/0:5*60*1e3))}clearGcTimeout(){I(this,as)&&(Qi.clearTimeout(I(this,as)),ie(this,as,void 0))}},as=new WeakMap,X2),is,Wo,Kr,ss,Pt,pd,os,hn,ea,Z2,i4=(Z2=class extends jA{constructor(t){super();fe(this,hn);fe(this,is);fe(this,Wo);fe(this,Kr);fe(this,ss);fe(this,Pt);fe(this,pd);fe(this,os);ie(this,os,!1),ie(this,pd,t.defaultOptions),this.setOptions(t.options),this.observers=[],ie(this,ss,t.client),ie(this,Kr,I(this,ss).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ie(this,is,n1(this.options)),this.state=t.state??I(this,is),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=I(this,Pt))==null?void 0:t.promise}setOptions(t){if(this.options={...I(this,pd),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=n1(this.options);r.data!==void 0&&(this.setState(r1(r.data,r.dataUpdatedAt)),ie(this,is,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,Kr).remove(this)}setData(t,r){const n=hy(this.state.data,t,this.options);return Ne(this,hn,ea).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ne(this,hn,ea).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=I(this,Pt))==null?void 0:n.promise;return(a=I(this,Pt))==null||a.cancel(t),r?r.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,is))}isActive(){return this.observers.some(t=>Wr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>gi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!xA(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=I(this,Pt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=I(this,Pt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),I(this,Kr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(I(this,Pt)&&(I(this,os)?I(this,Pt).cancel({revert:!0}):I(this,Pt).cancelRetry()),this.scheduleGc()),I(this,Kr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ne(this,hn,ea).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,m,y,v,x,g,_;if(this.state.fetchStatus!=="idle"&&((c=I(this,Pt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(I(this,Pt))return I(this,Pt).continueRetry(),I(this,Pt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const k=this.observers.find(w=>w.options.queryFn);k&&this.setOptions(k.options)}const n=new AbortController,a=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(ie(this,os,!0),n.signal)})},i=()=>{const k=_A(this.options,r),b=(()=>{const S={client:I(this,ss),queryKey:this.queryKey,meta:this.meta};return a(S),S})();return ie(this,os,!1),this.options.persister?this.options.persister(k,b,this):k(b)},l=(()=>{const k={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:I(this,ss),state:this.state,fetchFn:i};return a(k),k})();(u=this.options.behavior)==null||u.onFetch(l,this),ie(this,Wo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ne(this,hn,ea).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ie(this,Pt,kA({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:k=>{k instanceof my&&k.revert&&this.setState({...I(this,Wo),fetchStatus:"idle"}),n.abort()},onFail:(k,w)=>{Ne(this,hn,ea).call(this,{type:"failed",failureCount:k,error:w})},onPause:()=>{Ne(this,hn,ea).call(this,{type:"pause"})},onContinue:()=>{Ne(this,hn,ea).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const k=await I(this,Pt).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(p=(h=I(this,Kr).config).onSuccess)==null||p.call(h,k,this),(y=(m=I(this,Kr).config).onSettled)==null||y.call(m,k,this.state.error,this),k}catch(k){if(k instanceof my){if(k.silent)return I(this,Pt).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw Ne(this,hn,ea).call(this,{type:"error",error:k}),(x=(v=I(this,Kr).config).onError)==null||x.call(v,k,this),(_=(g=I(this,Kr).config).onSettled)==null||_.call(g,this.state.data,k,this),k}finally{this.scheduleGc()}}},is=new WeakMap,Wo=new WeakMap,Kr=new WeakMap,ss=new WeakMap,Pt=new WeakMap,pd=new WeakMap,os=new WeakMap,hn=new WeakSet,ea=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...SA(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...r1(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,Wo,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),kt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),I(this,Kr).notify({query:this,type:"updated",action:t})})},Z2);function SA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function r1(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function n1(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var lr,Ce,md,Xt,ls,Ho,ia,Ja,gd,Vo,Go,cs,us,Xa,Qo,Me,Tc,gy,yy,vy,xy,by,_y,wy,NA,eN,s4=(eN=class extends Fl{constructor(t,r){super();fe(this,Me);fe(this,lr);fe(this,Ce);fe(this,md);fe(this,Xt);fe(this,ls);fe(this,Ho);fe(this,ia);fe(this,Ja);fe(this,gd);fe(this,Vo);fe(this,Go);fe(this,cs);fe(this,us);fe(this,Xa);fe(this,Qo,new Set);this.options=r,ie(this,lr,t),ie(this,Ja,null),ie(this,ia,py()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(I(this,Ce).addObserver(this),a1(I(this,Ce),this.options)?Ne(this,Me,Tc).call(this):this.updateResult(),Ne(this,Me,xy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ky(I(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ky(I(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ne(this,Me,by).call(this),Ne(this,Me,_y).call(this),I(this,Ce).removeObserver(this)}setOptions(t){const r=this.options,n=I(this,Ce);if(this.options=I(this,lr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wr(this.options.enabled,I(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ne(this,Me,wy).call(this),I(this,Ce).setOptions(this.options),r._defaulted&&!_h(this.options,r)&&I(this,lr).getQueryCache().notify({type:"observerOptionsUpdated",query:I(this,Ce),observer:this});const a=this.hasListeners();a&&i1(I(this,Ce),n,this.options,r)&&Ne(this,Me,Tc).call(this),this.updateResult(),a&&(I(this,Ce)!==n||Wr(this.options.enabled,I(this,Ce))!==Wr(r.enabled,I(this,Ce))||gi(this.options.staleTime,I(this,Ce))!==gi(r.staleTime,I(this,Ce)))&&Ne(this,Me,gy).call(this);const i=Ne(this,Me,yy).call(this);a&&(I(this,Ce)!==n||Wr(this.options.enabled,I(this,Ce))!==Wr(r.enabled,I(this,Ce))||i!==I(this,Xa))&&Ne(this,Me,vy).call(this,i)}getOptimisticResult(t){const r=I(this,lr).getQueryCache().build(I(this,lr),t),n=this.createResult(r,t);return l4(this,n)&&(ie(this,Xt,n),ie(this,Ho,this.options),ie(this,ls,I(this,Ce).state)),n}getCurrentResult(){return I(this,Xt)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&I(this,ia).status==="pending"&&I(this,ia).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){I(this,Qo).add(t)}getCurrentQuery(){return I(this,Ce)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=I(this,lr).defaultQueryOptions(t),n=I(this,lr).getQueryCache().build(I(this,lr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ne(this,Me,Tc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),I(this,Xt)))}createResult(t,r){var O;const n=I(this,Ce),a=this.options,i=I(this,Xt),s=I(this,ls),l=I(this,Ho),u=t!==n?t.state:I(this,md),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const C=this.hasListeners(),T=!C&&a1(t,r),M=C&&i1(t,n,r,a);(T||M)&&(f={...f,...SA(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:v}=f;p=f.data;let x=!1;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let C;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(C=i.data,x=!0):C=typeof r.placeholderData=="function"?r.placeholderData((O=I(this,Go))==null?void 0:O.state.data,I(this,Go)):r.placeholderData,C!==void 0&&(v="success",p=hy(i==null?void 0:i.data,C,r),h=!0)}if(r.select&&p!==void 0&&!x)if(i&&p===(s==null?void 0:s.data)&&r.select===I(this,gd))p=I(this,Vo);else try{ie(this,gd,r.select),p=r.select(p),p=hy(i==null?void 0:i.data,p,r),ie(this,Vo,p),ie(this,Ja,null)}catch(C){ie(this,Ja,C)}I(this,Ja)&&(m=I(this,Ja),p=I(this,Vo),y=Date.now(),v="error");const g=f.fetchStatus==="fetching",_=v==="pending",k=v==="error",w=_&&g,b=p!==void 0,j={status:v,fetchStatus:f.fetchStatus,isPending:_,isSuccess:v==="success",isError:k,isInitialLoading:w,isLoading:w,data:p,dataUpdatedAt:f.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!_,isLoadingError:k&&!b,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:k&&b,isStale:yb(t,r),refetch:this.refetch,promise:I(this,ia),isEnabled:Wr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=j.data!==void 0,T=j.status==="error"&&!C,M=A=>{T?A.reject(j.error):C&&A.resolve(j.data)},L=()=>{const A=ie(this,ia,j.promise=py());M(A)},U=I(this,ia);switch(U.status){case"pending":t.queryHash===n.queryHash&&M(U);break;case"fulfilled":(T||j.data!==U.value)&&L();break;case"rejected":(!T||j.error!==U.reason)&&L();break}}return j}updateResult(){const t=I(this,Xt),r=this.createResult(I(this,Ce),this.options);if(ie(this,ls,I(this,Ce).state),ie(this,Ho,this.options),I(this,ls).data!==void 0&&ie(this,Go,I(this,Ce)),_h(r,t))return;ie(this,Xt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!I(this,Qo).size)return!0;const s=new Set(i??I(this,Qo));return this.options.throwOnError&&s.add("error"),Object.keys(I(this,Xt)).some(l=>{const c=l;return I(this,Xt)[c]!==t[c]&&s.has(c)})};Ne(this,Me,NA).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ne(this,Me,xy).call(this)}},lr=new WeakMap,Ce=new WeakMap,md=new WeakMap,Xt=new WeakMap,ls=new WeakMap,Ho=new WeakMap,ia=new WeakMap,Ja=new WeakMap,gd=new WeakMap,Vo=new WeakMap,Go=new WeakMap,cs=new WeakMap,us=new WeakMap,Xa=new WeakMap,Qo=new WeakMap,Me=new WeakSet,Tc=function(t){Ne(this,Me,wy).call(this);let r=I(this,Ce).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(er)),r},gy=function(){Ne(this,Me,by).call(this);const t=gi(this.options.staleTime,I(this,Ce));if(ks||I(this,Xt).isStale||!dy(t))return;const n=xA(I(this,Xt).dataUpdatedAt,t)+1;ie(this,cs,Qi.setTimeout(()=>{I(this,Xt).isStale||this.updateResult()},n))},yy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(I(this,Ce)):this.options.refetchInterval)??!1},vy=function(t){Ne(this,Me,_y).call(this),ie(this,Xa,t),!(ks||Wr(this.options.enabled,I(this,Ce))===!1||!dy(I(this,Xa))||I(this,Xa)===0)&&ie(this,us,Qi.setInterval(()=>{(this.options.refetchIntervalInBackground||gb.isFocused())&&Ne(this,Me,Tc).call(this)},I(this,Xa)))},xy=function(){Ne(this,Me,gy).call(this),Ne(this,Me,vy).call(this,Ne(this,Me,yy).call(this))},by=function(){I(this,cs)&&(Qi.clearTimeout(I(this,cs)),ie(this,cs,void 0))},_y=function(){I(this,us)&&(Qi.clearInterval(I(this,us)),ie(this,us,void 0))},wy=function(){const t=I(this,lr).getQueryCache().build(I(this,lr),this.options);if(t===I(this,Ce))return;const r=I(this,Ce);ie(this,Ce,t),ie(this,md,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},NA=function(t){kt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(I(this,Xt))}),I(this,lr).getQueryCache().notify({query:I(this,Ce),type:"observerResultsUpdated"})})},eN);function o4(e,t){return Wr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function a1(e,t){return o4(e,t)||e.state.data!==void 0&&ky(e,t,t.refetchOnMount)}function ky(e,t,r){if(Wr(t.enabled,e)!==!1&&gi(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&yb(e,t)}return!1}function i1(e,t,r,n){return(e!==t||Wr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&yb(e,r)}function yb(e,t){return Wr(t.enabled,e)!==!1&&e.isStaleByTime(gi(t.staleTime,e))}function l4(e,t){return!_h(e.getCurrentResult(),t)}function s1(e){return{onFetch:(t,r)=>{var d,f,h,p,m;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((m=t.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const v=_=>{ZR(_,()=>t.signal,()=>y=!0)},x=_A(t.options,t.fetchOptions),g=async(_,k,w)=>{if(y)return Promise.reject();if(k==null&&_.pages.length)return Promise.resolve(_);const S=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:k,direction:w?"backward":"forward",meta:t.options.meta};return v(T),T})(),j=await x(S),{maxPages:O}=t.options,C=w?XR:JR;return{pages:C(_.pages,j,O),pageParams:C(_.pageParams,k,O)}};if(a&&i.length){const _=a==="backward",k=_?c4:o1,w={pages:i,pageParams:s},b=k(n,w);l=await g(w,b,_)}else{const _=e??i.length;do{const k=c===0?s[0]??n.initialPageParam:o1(n,l);if(c>0&&k==null)break;l=await g(l,k),c++}while(c<_)}return l};t.options.persister?t.fetchFn=()=>{var y,v;return(v=(y=t.options).persister)==null?void 0:v.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function o1(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function c4(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var yd,Rn,Ht,ds,In,Da,tN,u4=(tN=class extends jA{constructor(t){super();fe(this,In);fe(this,yd);fe(this,Rn);fe(this,Ht);fe(this,ds);ie(this,yd,t.client),this.mutationId=t.mutationId,ie(this,Ht,t.mutationCache),ie(this,Rn,[]),this.state=t.state||OA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){I(this,Rn).includes(t)||(I(this,Rn).push(t),this.clearGcTimeout(),I(this,Ht).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ie(this,Rn,I(this,Rn).filter(r=>r!==t)),this.scheduleGc(),I(this,Ht).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){I(this,Rn).length||(this.state.status==="pending"?this.scheduleGc():I(this,Ht).remove(this))}continue(){var t;return((t=I(this,ds))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,c,u,d,f,h,p,m,y,v,x,g,_,k,w,b,S;const r=()=>{Ne(this,In,Da).call(this,{type:"continue"})},n={client:I(this,yd),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,ds,kA({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(j,O)=>{Ne(this,In,Da).call(this,{type:"failed",failureCount:j,error:O})},onPause:()=>{Ne(this,In,Da).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,Ht).canRun(this)}));const a=this.state.status==="pending",i=!I(this,ds).canStart();try{if(a)r();else{Ne(this,In,Da).call(this,{type:"pending",variables:t,isPaused:i}),I(this,Ht).config.onMutate&&await I(this,Ht).config.onMutate(t,this,n);const O=await((l=(s=this.options).onMutate)==null?void 0:l.call(s,t,n));O!==this.state.context&&Ne(this,In,Da).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const j=await I(this,ds).start();return await((u=(c=I(this,Ht).config).onSuccess)==null?void 0:u.call(c,j,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,t,this.state.context,n)),await((p=(h=I(this,Ht).config).onSettled)==null?void 0:p.call(h,j,null,this.state.variables,this.state.context,this,n)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,j,null,t,this.state.context,n)),Ne(this,In,Da).call(this,{type:"success",data:j}),j}catch(j){try{await((x=(v=I(this,Ht).config).onError)==null?void 0:x.call(v,j,t,this.state.context,this,n))}catch(O){Promise.reject(O)}try{await((_=(g=this.options).onError)==null?void 0:_.call(g,j,t,this.state.context,n))}catch(O){Promise.reject(O)}try{await((w=(k=I(this,Ht).config).onSettled)==null?void 0:w.call(k,void 0,j,this.state.variables,this.state.context,this,n))}catch(O){Promise.reject(O)}try{await((S=(b=this.options).onSettled)==null?void 0:S.call(b,void 0,j,t,this.state.context,n))}catch(O){Promise.reject(O)}throw Ne(this,In,Da).call(this,{type:"error",error:j}),j}finally{I(this,Ht).runNext(this)}}},yd=new WeakMap,Rn=new WeakMap,Ht=new WeakMap,ds=new WeakMap,In=new WeakSet,Da=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kt.batch(()=>{I(this,Rn).forEach(n=>{n.onMutationUpdate(t)}),I(this,Ht).notify({mutation:this,type:"updated",action:t})})},tN);function OA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sa,pn,vd,rN,d4=(rN=class extends Fl{constructor(t={}){super();fe(this,sa);fe(this,pn);fe(this,vd);this.config=t,ie(this,sa,new Set),ie(this,pn,new Map),ie(this,vd,0)}build(t,r,n){const a=new u4({client:t,mutationCache:this,mutationId:++Ld(this,vd)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){I(this,sa).add(t);const r=nf(t);if(typeof r=="string"){const n=I(this,pn).get(r);n?n.push(t):I(this,pn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(I(this,sa).delete(t)){const r=nf(t);if(typeof r=="string"){const n=I(this,pn).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&I(this,pn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=nf(t);if(typeof r=="string"){const n=I(this,pn).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=nf(t);if(typeof r=="string"){const a=(n=I(this,pn).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kt.batch(()=>{I(this,sa).forEach(t=>{this.notify({type:"removed",mutation:t})}),I(this,sa).clear(),I(this,pn).clear()})}getAll(){return Array.from(I(this,sa))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Zw(r,n))}findAll(t={}){return this.getAll().filter(r=>Zw(t,r))}notify(t){kt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return kt.batch(()=>Promise.all(t.map(r=>r.continue().catch(er))))}},sa=new WeakMap,pn=new WeakMap,vd=new WeakMap,rN);function nf(e){var t;return(t=e.options.scope)==null?void 0:t.id}var oa,Za,cr,la,va,Wf,jy,nN,f4=(nN=class extends Fl{constructor(r,n){super();fe(this,va);fe(this,oa);fe(this,Za);fe(this,cr);fe(this,la);ie(this,oa,r),this.setOptions(n),this.bindMethods(),Ne(this,va,Wf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=I(this,oa).defaultMutationOptions(r),_h(this.options,n)||I(this,oa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:I(this,cr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&js(n.mutationKey)!==js(this.options.mutationKey)?this.reset():((a=I(this,cr))==null?void 0:a.state.status)==="pending"&&I(this,cr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=I(this,cr))==null||r.removeObserver(this)}onMutationUpdate(r){Ne(this,va,Wf).call(this),Ne(this,va,jy).call(this,r)}getCurrentResult(){return I(this,Za)}reset(){var r;(r=I(this,cr))==null||r.removeObserver(this),ie(this,cr,void 0),Ne(this,va,Wf).call(this),Ne(this,va,jy).call(this)}mutate(r,n){var a;return ie(this,la,n),(a=I(this,cr))==null||a.removeObserver(this),ie(this,cr,I(this,oa).getMutationCache().build(I(this,oa),this.options)),I(this,cr).addObserver(this),I(this,cr).execute(r)}},oa=new WeakMap,Za=new WeakMap,cr=new WeakMap,la=new WeakMap,va=new WeakSet,Wf=function(){var n;const r=((n=I(this,cr))==null?void 0:n.state)??OA();ie(this,Za,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},jy=function(r){kt.batch(()=>{var n,a,i,s,l,c,u,d;if(I(this,la)&&this.hasListeners()){const f=I(this,Za).variables,h=I(this,Za).context,p={client:I(this,oa),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(n=I(this,la)).onSuccess)==null||a.call(n,r.data,f,h,p)}catch(m){Promise.reject(m)}try{(s=(i=I(this,la)).onSettled)==null||s.call(i,r.data,null,f,h,p)}catch(m){Promise.reject(m)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=I(this,la)).onError)==null||c.call(l,r.error,f,h,p)}catch(m){Promise.reject(m)}try{(d=(u=I(this,la)).onSettled)==null||d.call(u,void 0,r.error,f,h,p)}catch(m){Promise.reject(m)}}}this.listeners.forEach(f=>{f(I(this,Za))})})},nN),Mn,aN,h4=(aN=class extends Fl{constructor(t={}){super();fe(this,Mn);this.config=t,ie(this,Mn,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??hb(a,r);let s=this.get(i);return s||(s=new i4({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){I(this,Mn).has(t.queryHash)||(I(this,Mn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=I(this,Mn).get(t.queryHash);r&&(t.destroy(),r===t&&I(this,Mn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return I(this,Mn).get(t)}getAll(){return[...I(this,Mn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Xw(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Xw(t,n)):r}notify(t){kt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mn=new WeakMap,aN),lt,ei,ti,Yo,Jo,ri,Xo,Zo,iN,p4=(iN=class{constructor(e={}){fe(this,lt);fe(this,ei);fe(this,ti);fe(this,Yo);fe(this,Jo);fe(this,ri);fe(this,Xo);fe(this,Zo);ie(this,lt,e.queryCache||new h4),ie(this,ei,e.mutationCache||new d4),ie(this,ti,e.defaultOptions||{}),ie(this,Yo,new Map),ie(this,Jo,new Map),ie(this,ri,0)}mount(){Ld(this,ri)._++,I(this,ri)===1&&(ie(this,Xo,gb.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,lt).onFocus())})),ie(this,Zo,wh.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,lt).onOnline())})))}unmount(){var e,t;Ld(this,ri)._--,I(this,ri)===0&&((e=I(this,Xo))==null||e.call(this),ie(this,Xo,void 0),(t=I(this,Zo))==null||t.call(this),ie(this,Zo,void 0))}isFetching(e){return I(this,lt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return I(this,ei).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=I(this,lt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=I(this,lt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(gi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return I(this,lt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=I(this,lt).get(n.queryHash),i=a==null?void 0:a.state.data,s=GR(t,i);if(s!==void 0)return I(this,lt).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return kt.batch(()=>I(this,lt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=I(this,lt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=I(this,lt);kt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=I(this,lt);return kt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=kt.batch(()=>I(this,lt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(er).catch(er)}invalidateQueries(e,t={}){return kt.batch(()=>(I(this,lt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=kt.batch(()=>I(this,lt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(er)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(er)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=I(this,lt).build(this,t);return r.isStaleByTime(gi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(er).catch(er)}fetchInfiniteQuery(e){return e.behavior=s1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(er).catch(er)}ensureInfiniteQueryData(e){return e.behavior=s1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wh.isOnline()?I(this,ei).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,lt)}getMutationCache(){return I(this,ei)}getDefaultOptions(){return I(this,ti)}setDefaultOptions(e){ie(this,ti,e)}setQueryDefaults(e,t){I(this,Yo).set(js(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...I(this,Yo).values()],r={};return t.forEach(n=>{vu(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){I(this,Jo).set(js(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...I(this,Jo).values()],r={};return t.forEach(n=>{vu(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...I(this,ti).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===pb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...I(this,ti).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){I(this,lt).clear(),I(this,ei).clear()}},lt=new WeakMap,ei=new WeakMap,ti=new WeakMap,Yo=new WeakMap,Jo=new WeakMap,ri=new WeakMap,Xo=new WeakMap,Zo=new WeakMap,iN),AA=N.createContext(void 0),wr=e=>{const t=N.useContext(AA);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},m4=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(AA.Provider,{value:e,children:t})),PA=N.createContext(!1),g4=()=>N.useContext(PA);PA.Provider;function y4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var v4=N.createContext(y4()),x4=()=>N.useContext(v4),b4=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?mb(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},_4=e=>{N.useEffect(()=>{e.clearReset()},[e])},w4=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||mb(r,[e.error,n])),k4=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},j4=(e,t)=>e.isLoading&&e.isFetching&&!t,S4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,l1=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function N4(e,t,r){var h,p,m,y;const n=g4(),a=x4(),i=wr(),s=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,s);const l=i.getQueryCache().get(s.queryHash);s._optimisticResults=n?"isRestoring":"optimistic",k4(s),b4(s,a,l),_4(a);const c=!i.getQueryCache().get(s.queryHash),[u]=N.useState(()=>new t(i,s)),d=u.getOptimisticResult(s),f=!n&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(v=>{const x=f?u.subscribe(kt.batchCalls(v)):er;return u.updateResult(),x},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),N.useEffect(()=>{u.setOptions(s)},[s,u]),S4(s,d))throw l1(s,u,a);if(w4({result:d,errorResetBoundary:a,throwOnError:s.throwOnError,query:l,suspense:s.suspense}))throw d.error;if((y=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,s,d),s.experimental_prefetchInRender&&!ks&&j4(d,n)){const v=c?l1(s,u,a):l==null?void 0:l.promise;v==null||v.catch(er).finally(()=>{u.updateResult()})}return s.notifyOnChangeProps?d:u.trackResult(d)}function Ae(e,t){return N4(e,s4)}function fr(e,t){const r=wr(),[n]=N.useState(()=>new f4(r,e));N.useEffect(()=>{n.setOptions(e)},[n,e]);const a=N.useSyncExternalStore(N.useCallback(s=>n.subscribe(kt.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=N.useCallback((s,l)=>{n.mutate(s,l).catch(er)},[n]);if(a.error&&mb(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xu.apply(this,arguments)}var ii;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ii||(ii={}));const c1="popstate";function O4(e){e===void 0&&(e={});function t(a,i){let{pathname:s="/",search:l="",hash:c=""}=Ms(a.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Sy("",{pathname:s,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let s=a.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:kh(i))}function n(a,i){Yp(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return P4(t,r,n,e)}function st(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function A4(){return Math.random().toString(36).substr(2,8)}function u1(e,t){return{usr:e.state,key:e.key,idx:t}}function Sy(e,t,r,n){return r===void 0&&(r=null),xu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ms(t):t,{state:r,key:t&&t.key||n||A4()})}function kh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ms(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function P4(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l=ii.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(xu({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=ii.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:y.location,delta:x})}function h(v,x){l=ii.Push;let g=Sy(y.location,v,x);r&&r(g,v),u=d()+1;let _=u1(g,u),k=y.createHref(g);try{s.pushState(_,"",k)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(k)}i&&c&&c({action:l,location:y.location,delta:1})}function p(v,x){l=ii.Replace;let g=Sy(y.location,v,x);r&&r(g,v),u=d();let _=u1(g,u),k=y.createHref(g);s.replaceState(_,"",k),i&&c&&c({action:l,location:y.location,delta:0})}function m(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof v=="string"?v:kh(v);return g=g.replace(/ $/,"%20"),st(x,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,x)}let y={get action(){return l},get location(){return e(a,s)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(c1,f),c=v,()=>{a.removeEventListener(c1,f),c=null}},createHref(v){return t(a,v)},createURL:m,encodeLocation(v){let x=m(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return s.go(v)}};return y}var d1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(d1||(d1={}));function E4(e,t,r){return r===void 0&&(r="/"),C4(e,t,r)}function C4(e,t,r,n){let a=typeof t=="string"?Ms(t):t,i=ol(a.pathname||"/",r);if(i==null)return null;let s=EA(e);T4(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=q4(i);l=F4(s[c],u)}return l}function EA(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=yi([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(st(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),EA(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:z4(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,s);else for(let c of CA(i.path))a(i,s,c)}),t}function CA(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=CA(n.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function T4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:B4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $4=/^:[\w-]+$/,R4=3,I4=2,M4=1,D4=10,L4=-2,f1=e=>e==="*";function z4(e,t){let r=e.split("/"),n=r.length;return r.some(f1)&&(n+=L4),t&&(n+=I4),r.filter(a=>!f1(a)).reduce((a,i)=>a+($4.test(i)?R4:i===""?M4:D4),n)}function B4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function F4(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ny({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:yi([i,f.pathname]),pathnameBase:G4(yi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=yi([i,f.pathnameBase]))}return s}function Ny(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=U4(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let y=l[f]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function U4(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Yp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function q4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ol(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const K4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W4=e=>K4.test(e);function H4(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ms(e):e,i;if(r)if(W4(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),Yp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?i=h1(r.substring(1),"/"):i=h1(r,t)}else i=t;return{pathname:i,search:Q4(n),hash:Y4(a)}}function h1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ag(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vb(e,t){let r=V4(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function xb(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ms(e):(a=xu({},e),st(!a.pathname||!a.pathname.includes("?"),Ag("?","pathname","search",a)),st(!a.pathname||!a.pathname.includes("#"),Ag("#","pathname","hash",a)),st(!a.search||!a.search.includes("#"),Ag("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=H4(a,l),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const yi=e=>e.join("/").replace(/\/\/+/g,"/"),G4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Y4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function J4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const TA=["post","put","patch","delete"];new Set(TA);const X4=["get",...TA];new Set(X4);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bu.apply(this,arguments)}const Jp=N.createContext(null),$A=N.createContext(null),Aa=N.createContext(null),Xp=N.createContext(null),ji=N.createContext({outlet:null,matches:[],isDataRoute:!1}),RA=N.createContext(null);function Z4(e,t){let{relative:r}=t===void 0?{}:t;Ul()||st(!1);let{basename:n,navigator:a}=N.useContext(Aa),{hash:i,pathname:s,search:l}=em(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:yi([n,s])),a.createHref({pathname:c,search:l,hash:i})}function Ul(){return N.useContext(Xp)!=null}function Ds(){return Ul()||st(!1),N.useContext(Xp).location}function IA(e){N.useContext(Aa).static||N.useLayoutEffect(e)}function Zp(){let{isDataRoute:e}=N.useContext(ji);return e?fI():eI()}function eI(){Ul()||st(!1);let e=N.useContext(Jp),{basename:t,future:r,navigator:n}=N.useContext(Aa),{matches:a}=N.useContext(ji),{pathname:i}=Ds(),s=JSON.stringify(vb(a,r.v7_relativeSplatPath)),l=N.useRef(!1);return IA(()=>{l.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=xb(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}function em(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(Aa),{matches:a}=N.useContext(ji),{pathname:i}=Ds(),s=JSON.stringify(vb(a,n.v7_relativeSplatPath));return N.useMemo(()=>xb(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function tI(e,t){return rI(e,t)}function rI(e,t,r,n){Ul()||st(!1);let{navigator:a}=N.useContext(Aa),{matches:i}=N.useContext(ji),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Ds(),d;if(t){var f;let v=typeof t=="string"?Ms(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||st(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=E4(e,{pathname:p}),y=oI(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:yi([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:yi([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&y?N.createElement(Xp.Provider,{value:{location:bu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ii.Pop}},y):y}function nI(){let e=dI(),t=J4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,null)}const aI=N.createElement(nI,null);class iI extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(ji.Provider,{value:this.props.routeContext},N.createElement(RA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sI(e){let{routeContext:t,match:r,children:n}=e,a=N.useContext(Jp);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(ji.Provider,{value:t},n)}function oI(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||st(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,y=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||aI,c&&(u<0&&h===0?(hI("route-fallback"),m=!0,v=null):u===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,h+1)),g=()=>{let _;return p?_=y:m?_=v:f.route.Component?_=N.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,N.createElement(sI,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(iI,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):g()},null)}var MA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(MA||{}),DA=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DA||{});function lI(e){let t=N.useContext(Jp);return t||st(!1),t}function cI(e){let t=N.useContext($A);return t||st(!1),t}function uI(e){let t=N.useContext(ji);return t||st(!1),t}function LA(e){let t=uI(),r=t.matches[t.matches.length-1];return r.route.id||st(!1),r.route.id}function dI(){var e;let t=N.useContext(RA),r=cI(),n=LA();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function fI(){let{router:e}=lI(MA.UseNavigateStable),t=LA(DA.UseNavigateStable),r=N.useRef(!1);return IA(()=>{r.current=!0}),N.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,bu({fromRouteId:t},i)))},[e,t])}const p1={};function hI(e,t,r){p1[e]||(p1[e]=!0)}function pI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mI(e){let{to:t,replace:r,state:n,relative:a}=e;Ul()||st(!1);let{future:i,static:s}=N.useContext(Aa),{matches:l}=N.useContext(ji),{pathname:c}=Ds(),u=Zp(),d=xb(t,vb(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Et(e){st(!1)}function gI(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ii.Pop,navigator:i,static:s=!1,future:l}=e;Ul()&&st(!1);let c=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:s,future:bu({v7_relativeSplatPath:!1},l)}),[c,l,i,s]);typeof n=="string"&&(n=Ms(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,y=N.useMemo(()=>{let v=ol(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:a}},[c,d,f,h,p,m,a]);return y==null?null:N.createElement(Aa.Provider,{value:u},N.createElement(Xp.Provider,{children:r,value:y}))}function Oy(e){let{children:t,location:r}=e;return tI(Ay(t),r)}new Promise(()=>{});function Ay(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,a)=>{if(!N.isValidElement(n))return;let i=[...t,a];if(n.type===N.Fragment){r.push.apply(r,Ay(n.props.children,i));return}n.type!==Et&&st(!1),!n.props.index||!n.props.children||st(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Ay(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(this,arguments)}function zA(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function yI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vI(e,t){return e.button===0&&(!t||t==="_self")&&!yI(e)}function Py(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function xI(e,t){let r=Py(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const bI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_I=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],wI="6";try{window.__reactRouterVersion=wI}catch{}const kI=N.createContext({isTransitioning:!1}),jI="startTransition",m1=R5[jI];function SI(e){let{basename:t,children:r,future:n,window:a}=e,i=N.useRef();i.current==null&&(i.current=O4({window:a,v5Compat:!0}));let s=i.current,[l,c]=N.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=N.useCallback(f=>{u&&m1?m1(()=>c(f)):c(f)},[c,u]);return N.useLayoutEffect(()=>s.listen(d),[s,d]),N.useEffect(()=>pI(n),[n]),N.createElement(gI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}const NI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AI=N.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=zA(t,bI),{basename:p}=N.useContext(Aa),m,y=!1;if(typeof u=="string"&&OI.test(u)&&(m=u,NI))try{let _=new URL(window.location.href),k=u.startsWith("//")?new URL(_.protocol+u):new URL(u),w=ol(k.pathname,p);k.origin===_.origin&&w!=null?u=w+k.search+k.hash:y=!0}catch{}let v=Z4(u,{relative:a}),x=CI(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function g(_){n&&n(_),_.defaultPrevented||x(_)}return N.createElement("a",jh({},h,{href:m||v,onClick:y||i?n:g,ref:r,target:c}))}),PI=N.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:u,children:d}=t,f=zA(t,_I),h=em(c,{relative:f.relative}),p=Ds(),m=N.useContext($A),{navigator:y,basename:v}=N.useContext(Aa),x=m!=null&&$I(h)&&u===!0,g=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,_=p.pathname,k=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(_=_.toLowerCase(),k=k?k.toLowerCase():null,g=g.toLowerCase()),k&&v&&(k=ol(k,v)||k);const w=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let b=_===g||!s&&_.startsWith(g)&&_.charAt(w)==="/",S=k!=null&&(k===g||!s&&k.startsWith(g)&&k.charAt(g.length)==="/"),j={isActive:b,isPending:S,isTransitioning:x},O=b?n:void 0,C;typeof i=="function"?C=i(j):C=[i,b?"active":null,S?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(j):l;return N.createElement(AI,jh({},f,{"aria-current":O,className:C,ref:r,style:T,to:c,viewTransition:u}),typeof d=="function"?d(j):d)});var Ey;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ey||(Ey={}));var g1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(g1||(g1={}));function EI(e){let t=N.useContext(Jp);return t||st(!1),t}function CI(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:l}=t===void 0?{}:t,c=Zp(),u=Ds(),d=em(e,{relative:s});return N.useCallback(f=>{if(vI(f,r)){f.preventDefault();let h=n!==void 0?n:kh(u)===kh(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:l})}},[u,c,d,n,a,r,e,i,s,l])}function TI(e){let t=N.useRef(Py(e)),r=N.useRef(!1),n=Ds(),a=N.useMemo(()=>xI(n.search,r.current?null:t.current),[n.search]),i=Zp(),s=N.useCallback((l,c)=>{const u=Py(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,s]}function $I(e,t){t===void 0&&(t={});let r=N.useContext(kI);r==null&&st(!1);let{basename:n}=EI(Ey.useViewTransitionState),a=em(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=ol(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=ol(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ny(a.pathname,s)!=null||Ny(a.pathname,i)!=null}const RI={},y1=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(m=>m(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(RI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},II=e=>e?y1(e):y1;var BA={exports:{}},FA={},UA={exports:{}},qA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=N;function MI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DI=typeof Object.is=="function"?Object.is:MI,LI=ll.useState,zI=ll.useEffect,BI=ll.useLayoutEffect,FI=ll.useDebugValue;function UI(e,t){var r=t(),n=LI({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return BI(function(){a.value=r,a.getSnapshot=t,Pg(a)&&i({inst:a})},[e,r,t]),zI(function(){return Pg(a)&&i({inst:a}),e(function(){Pg(a)&&i({inst:a})})},[e]),FI(r),r}function Pg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!DI(e,r)}catch{return!0}}function qI(e,t){return t()}var KI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qI:UI;qA.useSyncExternalStore=ll.useSyncExternalStore!==void 0?ll.useSyncExternalStore:KI;UA.exports=qA;var WI=UA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=N,HI=WI;function VI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GI=typeof Object.is=="function"?Object.is:VI,QI=HI.useSyncExternalStore,YI=tm.useRef,JI=tm.useEffect,XI=tm.useMemo,ZI=tm.useDebugValue;FA.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=YI(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=XI(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var m=s.value;if(a(m,p))return f=m}return f=p}if(m=f,GI(d,p))return m;var y=n(p);return a!==void 0&&a(m,y)?(d=p,m):(d=p,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=QI(e,i[0],i[1]);return JI(function(){s.hasValue=!0,s.value=l},[l]),ZI(l),l};BA.exports=FA;var eM=BA.exports;const tM=De(eM),KA={},{useDebugValue:rM}=R,{useSyncExternalStoreWithSelector:nM}=tM;let v1=!1;const aM=e=>e;function iM(e,t=aM,r){(KA?"production":void 0)!=="production"&&r&&!v1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),v1=!0);const n=nM(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return rM(n),n}const x1=e=>{(KA?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?II(e):e,r=(n,a)=>iM(t,n,a);return Object.assign(r,t),r},bb=e=>e?x1(e):x1;function rm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function sM(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}const oM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class _b extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class lM extends _b{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class b1 extends _b{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class _1 extends _b{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cy||(Cy={}));class cM{constructor(t,{headers:r={},customFetch:n,region:a=Cy.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=oM(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return sM(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let v=d;f&&(s=new AbortController,i=setTimeout(()=>s.abort(),f),d?(v=s.signal,d.addEventListener("abort",()=>s.abort())):v=s.signal);const x=yield this.fetch(m.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:y,signal:v}).catch(w=>{throw new lM(w)}),g=x.headers.get("x-relay-error");if(g&&g==="true")throw new b1(x);if(!x.ok)throw new _1(x);let _=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return _==="application/json"?k=yield x.json():_==="application/octet-stream"||_==="application/pdf"?k=yield x.blob():_==="text/event-stream"?k=x:_==="multipart/form-data"?k=yield x.formData():k=yield x.text(),{data:k,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof _1||l instanceof b1?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var uM=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},dM=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const x=await i.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=x:l=JSON.parse(x))}const y=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var m;const y=await i.text();try{s=JSON.parse(y),Array.isArray(s)&&i.status===404&&(l=[],s=null,u=200,d="OK")}catch{i.status===404&&y===""?(u=204,d="No Content"):s={message:y}}if(s&&r.isMaybeSingle&&(!(s==null||(m=s.details)===null||m===void 0)&&m.includes("0 rows"))&&(s=null,u=200,d="OK"),s&&r.shouldThrowOnError)throw new uM(s)}return{error:s,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var s;let l="",c="",u="";const d=i==null?void 0:i.cause;if(d){var f,h,p,m;const x=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",g=(h=d==null?void 0:d.code)!==null&&h!==void 0?h:"";l=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(m=d==null?void 0:d.name)!==null&&m!==void 0?m:"Error"}: ${x}`,g&&(l+=` (${g})`),d!=null&&d.stack&&(l+=`
${d.stack}`)}else{var y;l=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}const v=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",v>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${v} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",v>this.urlLengthLimit&&(c+=`. Your request URL is ${v} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},fM=class extends dM{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const w1=new RegExp("[,()]");var lo=class extends fM{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&w1.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&w1.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},hM=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new lo({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new lo({method:a,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new lo({method:s,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new lo({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new lo({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function pM(e,t){if(_u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mM(e){var t=pM(e,"string");return _u(t)=="symbol"?t:t+""}function gM(e,t,r){return(t=mM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k1(Object(r),!0).forEach(function(n){gM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var yM=class WA{constructor(t,{headers:r={},schema:n,fetch:a,timeout:i,urlLengthLimit:s=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=s;const l=a??globalThis.fetch;i!==void 0&&i>0?this.fetch=(c,u)=>{const d=new AbortController,f=setTimeout(()=>d.abort(),i),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(f),l(c,u);const p=()=>{clearTimeout(f),d.abort()};return h.addEventListener("abort",p,{once:!0}),l(c,af(af({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(f),h.removeEventListener("abort",p)})}return l(c,af(af({},u),{},{signal:d.signal})).finally(()=>clearTimeout(f))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hM(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new WA(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{c.searchParams.append(p,m)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new lo({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}};class vM{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xM="2.97.0",bM=`realtime-js/${xM}`,_M="1.0.0",HA="2.0.0",j1=HA,Ty=1e4,wM=1e3,kM=100;var Ua;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ua||(Ua={}));var _t;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_t||(_t={}));var gn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gn||(gn={}));var $y;(function(e){e.websocket="websocket"})($y||($y={}));var qi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(qi||(qi={}));class jM{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(p),y=0;m.setUint8(y++,this.KINDS.userBroadcastPush),m.setUint8(y++,c.length),m.setUint8(y++,l.length),m.setUint8(y++,s.length),m.setUint8(y++,u.length),m.setUint8(y++,f.length),m.setUint8(y++,r),Array.from(c,x=>m.setUint8(y++,x.charCodeAt(0))),Array.from(l,x=>m.setUint8(y++,x.charCodeAt(0))),Array.from(s,x=>m.setUint8(y++,x.charCodeAt(0))),Array.from(u,x=>m.setUint8(y++,x.charCodeAt(0))),Array.from(f,x=>m.setUint8(y++,x.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,l,c]=n;return r({join_ref:a,ref:i,topic:s,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,m={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(m.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class VA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(He||(He={}));const S1=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=SM(s,e,t,a),i),{}):{}},SM=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?GA(i,s):Ry(s)},GA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return PM(t,r)}switch(e){case He.bool:return NM(t);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return OM(t);case He.json:case He.jsonb:return AM(t);case He.timestamp:return EM(t);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Ry(t);default:return Ry(t)}},Ry=e=>e,NM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},OM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},PM=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>GA(t,l))}return e},EM=e=>typeof e=="string"?e.replace(" ","T"):e,QA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Eg{constructor(t,r,n={},a=Ty){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var N1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(N1||(N1={}));class Wc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=Wc.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Wc.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),y=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(l[u]=m),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var O1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(O1||(O1={}));var Hc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hc||(Hc={}));var ra;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ra||(ra={}));class jo{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Eg(this,gn.join,this.params,this.timeout),this.rejoinTimer=new VA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Wc(this),this.broadcastEndpointURL=QA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Hc.PRESENCE]&&this.bindings[Hc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(ra.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(ra.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(ra.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,x=[];for(let g=0;g<v;g++){const _=y[g],{filter:{event:k,schema:w,table:b,filter:S}}=_,j=p&&p[g];if(j&&j.event===k&&jo.isFilterValueEqual(j.schema,w)&&jo.isFilterValueEqual(j.table,b)&&jo.isFilterValueEqual(j.filter,S))x.push(Object.assign(Object.assign({},_),{id:j.id}));else{this.unsubscribe(),this.state=_t.errored,t==null||t(ra.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(ra.SUBSCRIBED);return}}).receive("error",p=>{this.state=_t.errored,t==null||t(ra.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ra.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===_t.joined&&t===Hc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_t.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Eg(this,gn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Eg(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kM){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=gn;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,y,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var m,y,v,x,g,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const k=p.id,w=(m=p.filter)===null||m===void 0?void 0:m.event;return k&&((y=r.ids)===null||y===void 0?void 0:y.includes(k))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const k=(g=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return k==="*"||k===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:v,commit_timestamp:x,type:g,errors:_}=m;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:x,eventType:g,new:{},old:{},errors:_}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&jo.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gn.close,{},t)}_onError(t){this._on(gn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=S1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=S1(t.columns,t.old_record)),r}}const Cg=()=>{},sf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},CM=[1e3,2e3,5e3,1e4],TM=1e4,$M=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RM{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ty,this.transport=null,this.heartbeatIntervalMs=sf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cg,this.ref=0,this.reconnectTimer=null,this.vsn=j1,this.logger=Cg,this.conn=null,this.sendBuffer=[],this.serializer=new jM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${$y.websocket}`,this.httpEndpoint=QA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ua.connecting:return qi.Connecting;case Ua.open:return qi.Open;case Ua.closing:return qi.Closing;default:return qi.Closed}}isConnected(){return this.connectionState()===qi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new jo(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wM,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},sf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:s}=r,l=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ua.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ua.open||this.conn.readyState===Ua.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(gn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([$M],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:bM};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(gn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new VA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ty,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:sf.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Cg,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:j1,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:m=>CM[m-1]||TM,this.vsn){case _M:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(m,y)=>y(JSON.stringify(m)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(m,y)=>y(JSON.parse(m));break;case HA:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var wu=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function IM(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function MM(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function DM(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const l=IM(e.baseUrl,n,a),c=await MM(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...s},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,m=p==null?void 0:p.error;throw new wu((m==null?void 0:m.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function of(e){return e.join("")}var LM=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:of(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${of(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${of(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${of(e.namespace)}`}),!0}catch(t){if(t instanceof wu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof wu&&r.status===409)return;throw r}}};function Hs(e){return e.join("")}var zM=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hs(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hs(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hs(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hs(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hs(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof wu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof wu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},BM=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=DM({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new LM(this.client,t),this.tableOps=new zM(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},nm=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function am(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var lf=class extends nm{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},YA=class extends nm{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const FM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Iy=e=>{if(Array.isArray(e))return e.map(r=>Iy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Iy(n)}),t},qM=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function KM(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WM(e){var t=KM(e,"string");return ku(t)=="symbol"?t:t+""}function HM(e,t,r){return(t=WM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(r),!0).forEach(function(n){HM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const P1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},VM=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(s=>{const l=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new lf(P1(s),i,l,n))}).catch(()=>{if(n==="vectors"){const s=i+"";t(new lf(a.statusText||`HTTP ${i} error`,i,s,n))}else{const s=i+"";t(new lf(a.statusText||`HTTP ${i} error`,i,s,n))}});else{const s=i+"";t(new lf(a.statusText||`HTTP ${i} error`,i,s,n))}}else t(new YA(P1(e),e,n))},GM=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?me(me({},a),r):(UM(n)?(a.headers=me({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),me(me({},a),r))};async function yc(e,t,r,n,a,i,s){return new Promise((l,c)=>{e(r,GM(t,n,a,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(s==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>VM(u,c,n,s))})}function JA(e="storage"){return{get:async(t,r,n,a)=>yc(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,i)=>yc(t,"POST",r,a,i,n,e),put:async(t,r,n,a,i)=>yc(t,"PUT",r,a,i,n,e),head:async(t,r,n,a)=>yc(t,"HEAD",r,me(me({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,i)=>yc(t,"DELETE",r,a,i,n,e)}}const QM=JA("storage"),{get:ju,post:fn,put:My,head:YM,remove:wb}=QM,Ar=JA("vectors");var ql=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=FM(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=me(me({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(am(r))return{data:null,error:r};throw r}}},JM=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(am(t))return{data:null,error:t};throw t}}};let XA;XA=Symbol.toStringTag;var XM=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[XA]="BlobDownloadBuilder",this.promise=null}asStream(){return new JM(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(am(t))return{data:null,error:t};throw t}}};const ZM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},E1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var e3=class extends ql{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let i;const s=me(me({},E1),n);let l=me(me({},a.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(l=me(me({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?My:fn)(a.fetch,`${a.url}/object/${d}`,i,me({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),s=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${s}`);return l.searchParams.set("token",t),a.handleOperation(async()=>{let c;const u=me({upsert:E1.upsert},n),d=me(me({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await My(a.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=me({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await fn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(r.url+i.url),l=s.searchParams.get("token");if(!l)throw new nm("No token returned by API");return{signedUrl:s.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await fn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await fn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),i=await fn(n.fetch,`${n.url}/object/sign/${a}`,me({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${s}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await fn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(s=>me(me({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${i}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=a?`?${a}`:"",s=this._getFinalPath(e),l=()=>ju(this.fetch,`${this.url}/${n}/${s}${i}`,{headers:this.headers,noResolveJson:!0},r);return new XM(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Iy(await ju(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await YM(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(am(n)&&n instanceof YA){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await wb(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=me(me(me({},ZM),t),{},{prefix:e||""});return await fn(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=me({},e);return await fn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const t3="2.97.0",jd={"X-Client-Info":`storage-js/${t3}`};var r3=class extends ql{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),s=me(me({},jd),t);super(i,s,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await ju(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ju(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await fn(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await My(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await fn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await wb(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},n3=class extends ql{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=me(me({},jd),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await fn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await ju(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await wb(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!qM(e))throw new nm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new BM({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const s=a[i];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},a3=class extends ql{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=me(me({},jd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ar.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Ar.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ar.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Ar.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},i3=class extends ql{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=me(me({},jd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ar.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ar.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ar.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ar.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ar.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},s3=class extends ql{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=me(me({},jd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ar.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ar.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ar.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ar.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},o3=class extends s3{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new l3(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},l3=class extends a3{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new c3(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},c3=class extends i3{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},u3=class extends r3{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new e3(this.url,this.headers,e,this.fetch)}get vectors(){return new o3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new n3(this.url+"/iceberg",this.headers,this.fetch)}};const ZA="2.97.0",co=30*1e3,Dy=3,Tg=Dy*co,d3="http://localhost:9999",f3="supabase.auth.token",h3={"X-Client-Info":`gotrue-js/${ZA}`},Ly="X-Supabase-Api-Version",eP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},p3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,m3=10*60*1e3;class Su extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class g3 extends Su{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function y3(e){return de(e)&&e.name==="AuthApiError"}class Ki extends Su{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pa extends Su{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class jr extends Pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $g(e){return de(e)&&e.name==="AuthSessionMissingError"}class Vs extends Pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cf extends Pa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class uf extends Pa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function v3(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class C1 extends Pa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class x3 extends Pa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class zy extends Pa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Rg(e){return de(e)&&e.name==="AuthRetryableFetchError"}class T1 extends Pa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class By extends Pa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$1=` 	
\r=`.split(""),b3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$1.length;t+=1)e[$1[t].charCodeAt(0)]=-2;for(let t=0;t<Sh.length;t+=1)e[Sh[t].charCodeAt(0)]=t;return e})();function R1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sh[n]),t.queuedBits-=6}}function tP(e,t,r){const n=b3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function I1(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{k3(s,n,r)};for(let s=0;s<e.length;s+=1)tP(e.charCodeAt(s),a,i);return t.join("")}function _3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function w3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}_3(n,t)}}function k3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Mo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)tP(e.charCodeAt(a),r,n);return new Uint8Array(t)}function j3(e){const t=[];return w3(e,r=>t.push(r)),new Uint8Array(t)}function Yi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>R1(a,r,n)),R1(null,r,n),t.join("")}function S3(e){return Math.round(Date.now()/1e3)+e}function N3(){return Symbol("auth-callback")}const Dt=()=>typeof window<"u"&&typeof document<"u",Ti={tested:!1,writable:!1},rP=()=>{if(!Dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ti.tested)return Ti.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ti.tested=!0,Ti.writable=!0}catch{Ti.tested=!0,Ti.writable=!1}return Ti.writable};function O3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const nP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),A3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",uo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},$i=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mt=async(e,t)=>{await e.removeItem(t)};class im{constructor(){this.promise=new im.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}im.promiseConstructor=Promise;function df(e){const t=e.split(".");if(t.length!==3)throw new By("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!p3.test(t[n]))throw new By("JWT not in base64url format");return{header:JSON.parse(I1(t[0])),payload:JSON.parse(I1(t[1])),signature:Mo(t[2]),raw:{header:t[0],payload:t[1]}}}async function P3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function E3(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function C3(e){return("0"+e.toString(16)).substr(-2)}function T3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,C3).join("")}async function $3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function R3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gs(e,t,r=!1){const n=T3();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await uo(e,`${t}-code-verifier`,a);const i=await R3(n);return[i,n===i?"plain":"s256"]}const I3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function M3(e){const t=e.headers.get(Ly);if(!t||!t.match(I3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function D3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function L3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const z3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qs(e){if(!z3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ig(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function B3(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function M1(e){return JSON.parse(JSON.stringify(e))}const zi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),F3=[502,503,504];async function D1(e){var t;if(!A3(e))throw new zy(zi(e),0);if(F3.includes(e.status))throw new zy(zi(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ki(zi(i),i)}let n;const a=M3(e);if(a&&a.getTime()>=eP["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new T1(zi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new jr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new T1(zi(r),e.status,r.weak_password.reasons);throw new g3(zi(r),e.status||500,n)}const U3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ve(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Ly]||(i[Ly]=eP["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await q3(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function q3(e,t,r,n,a,i){const s=U3(t,n,a,i);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new zy(zi(c),0)}if(l.ok||await D1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await D1(c)}}function un(e){var t;let r=null;H3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=S3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function L1(e){const t=un(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ha(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function K3(e){return{data:e,error:null}}function W3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=rm(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function z1(e){return e}function H3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mg=["global","local","others"];class V3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=nP(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Mg[0]){if(Mg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mg.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ha})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=rm(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:W3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ha})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:z1});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Qs(t);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ha})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Qs(t);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ha})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Qs(t);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ha})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Qs(t.userId);try{const{data:r,error:n}=await ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Qs(t.userId),Qs(t.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:z1});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(de(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}}function B1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ys={debug:!!(globalThis&&rP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class F1 extends aP{}async function G3(e,t,r){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new F1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ys.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(a){throw(a==null?void 0:a.name)==="AbortError"?new F1(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):a}}function Q3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iP(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Y3(e){return parseInt(e,16)}function J3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function X3(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=iP(e.address),m=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",v=`${m} wants you to sign in with your Ethereum account:
${p}

${y}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);g+=`
- ${_}`}x+=g}return`${v}
${x}`}class gt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Nh extends gt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Z3({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(sP(s)){if(i.rp.id!==s)return new gt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function eD({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(sP(n)){if(r.rpId!==n)return new gt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class tD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const rD=new tD;function nD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=rm(e,["challenge","user","excludeCredentials"]),i=Mo(t).buffer,s=Object.assign(Object.assign({},r),{id:Mo(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Mo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function aD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=rm(e,["challenge","allowCredentials"]),a=Mo(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Mo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function iD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Yi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Yi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Yi(new Uint8Array(a.authenticatorData)),clientDataJSON:Yi(new Uint8Array(a.clientDataJSON)),signature:Yi(new Uint8Array(a.signature)),userHandle:a.userHandle?Yi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sP(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function U1(){var e,t;return!!(Dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function oD(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nh("Browser returned unexpected credential type",t)}:{data:null,error:new Nh("Empty credential response",t)}}catch(t){return{data:null,error:Z3({error:t,options:e})}}}async function lD(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nh("Browser returned unexpected credential type",t)}:{data:null,error:new Nh("Empty credential response",t)}}catch(t){return{data:null,error:eD({error:t,options:e})}}}const cD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Oh(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const l=n[i];t(l)?n[i]=Oh(l,s):n[i]=Oh(s)}else n[i]=s}return n}function dD(e,t){return Oh(cD,e,t||{})}function fD(e,t){return Oh(uD,e,t||{})}class hD{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){var s;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=a??rD.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,m=((s=p==null?void 0:p.user_metadata)===null||s===void 0?void 0:s.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${m}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=dD(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await oD({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=fD(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await lD(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return de(l)?{data:null,error:l}:{data:null,error:new Ki("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Su("rpId is required for WebAuthn authentication")};try{if(!U1())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return de(s)?{data:null,error:s}:{data:null,error:new Ki("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Su("rpId is required for WebAuthn registration")};try{if(!U1())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return de(s)?{data:null,error:s}:{data:null,error:new Ki("Unexpected error in register",s)}}}}Q3();const pD={url:d3,storageKey:f3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:h3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function q1(e,t,r){return await r()}const Js={};class Nu{get jwks(){var t,r;return(r=(t=Js[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Js[this.storageKey]=Object.assign(Object.assign({},Js[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Js[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Js[this.storageKey]=Object.assign(Object.assign({},Js[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},pD),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Nu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Nu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Dt()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new V3({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=nP(i.fetch),this.lock=i.lock||q1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Dt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=G3:this.lock=q1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:rP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=B1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=B1(this.memoryStorage)),Dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}i.skipAutoInitialize||this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ZA}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Dt()&&(r=O3(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Dt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),v3(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?this._returnResult({error:r}):this._returnResult({error:new Ki("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:un}),{data:s,error:l}=i;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Gs(this.storage,this.storageKey)),i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:un})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:un})}else throw new cf("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return await Mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:l}=t;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:L1})}else if("phone"in t){const{phone:i,password:s,options:l}=t;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:L1})}else throw new cf("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Vs;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,l,c,u,d,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:y,wallet:v,statement:x,options:g}=t;let _;if(Dt())if(typeof v=="object")_=v;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")_=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const k=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),w=await _.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=iP(w[0]);let S=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const O=await _.request({method:"eth_chainId"});S=Y3(O)}const j={domain:k.host,address:b,statement:x,uri:k.href,version:"1",chainId:S,nonce:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=X3(j),m=await _.request({method:"personal_sign",params:[J3(p),b]})}try{const{data:y,error:v}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:un});if(v)throw v;if(!y||!y.session||!y.user){const x=new Vs;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(de(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,a,i,s,l,c,u,d,f,h,p;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:v,wallet:x,statement:g,options:_}=t;let k;if(Dt())if(typeof x=="object")k=x;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))k=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=x}const w=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const b=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),g?{statement:g}:null));let S;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")S=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)S=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)m=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${w.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const b=await k.signMessage(new TextEncoder().encode(m),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=b}}try{const{data:v,error:x}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Yi(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:un});if(x)throw x;if(!v||!v.session||!v.user){const g=new Vs;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(de(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await $i(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new x3;const{data:i,error:s}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:un});if(await Mt(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const l=new Vs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),de(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,l=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:un}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Vs;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Gs(this.storage,this.storageKey));const{error:f}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new cf("You must provide either an email or phone number.")}catch(l){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:un});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(de(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Gs(this.storage,this.storageKey));const u=await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:K3});return!((i=u.data)===null||i===void 0)&&i.url&&Dt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new jr;const{error:a}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(de(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:l}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l})}throw new cf("You must provide either an email or phone number and a type")}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await $i(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await $i(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Ig()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=B3(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ha}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jr}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ha})})}catch(r){if(de(r))return $g(r)&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new jr;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Gs(this.storage,this.storageKey));const{data:u,error:d}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Ha});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),de(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jr;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=df(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(de(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new jr;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Dt())throw new uf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new uf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new C1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new C1("No code detected.");const{data:g,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!s||!u)throw new uf("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=co&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(de(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await $i(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i&&!$g(i))return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(y3(l)&&(l.status===404||l.status===401||l.status===403)||$g(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=N3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Gs(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),de(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Dt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(de(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:l,token:c,access_token:u,nonce:d}=t,f=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:un}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Vs}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),de(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await E3(async a=>(a>0&&await P3(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:un})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Rg(i)&&Date.now()+s-n<co})}catch(n){if(this._debug(r,"error",n),de(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Dt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await $i(this.storage,this.storageKey);if(a&&this.userStorage){let s=await $i(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await uo(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Ig()}else if(a&&!a.user&&!a.user){const s=await $i(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await Mt(this.storage,this.storageKey+"-user"),await uo(this.storage,this.storageKey,a)):a.user=Ig()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Tg}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),Rg(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(a.access_token);!l&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new jr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new im;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new jr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),de(i)){const s={data:null,error:i};return Rg(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Mt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await uo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=M1(a);await uo(this.storage,this.storageKey,i)}else{const a=M1(r);await uo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Mt(this.storage,this.storageKey),await Mt(this.storage,this.storageKey+"-code-verifier"),await Mt(this.storage,this.storageKey+"-user"),this.userStorage&&await Mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),co);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/co);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${co}ms, refresh threshold is ${Dy} ticks`),a<=Dy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Gs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?iD(t.webauthn.credential_response):sD(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:nD(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:aD(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,i;if(t)try{const{payload:p}=df(t);let m=null;p.aal&&(m=p.aal);let y=m;const{data:{user:v},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((n=(r=v==null?void 0:v.factors)===null||r===void 0?void 0:r.filter(k=>k.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(y="aal2");const _=p.amr||[];return{data:{currentLevel:m,nextLevel:y,currentAuthenticationMethods:_},error:null}}catch(p){if(de(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=df(s.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(a=s.user.factors)===null||a===void 0?void 0:a.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new jr})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new jr});const s=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Dt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new jr});const s=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Dt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new jr})})}catch(t){if(de(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jr})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+m3>a)return n;const{data:i,error:s}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:l,payload:c}}=df(n);r!=null&&r.allowExpired||D3(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const d=L3(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,j3(`${l}.${c}`)))throw new By("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}}Nu.nextInstanceID={};const mD=Nu,gD="2.97.0";let $c="";typeof Deno<"u"?$c="deno":typeof document<"u"?$c="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$c="react-native":$c="node";const yD={"X-Client-Info":`supabase-js-${$c}/${gD}`},vD={headers:yD},xD={schema:"public"},bD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_D={};function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function wD(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kD(e){var t=wD(e,"string");return Ou(t)=="symbol"?t:t+""}function jD(e,t,r){return(t=kD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){jD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const SD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ND=()=>Headers,OD=(e,t,r)=>{const n=SD(r),a=ND();return async(i,s)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,ct(ct({},s),{},{headers:u}))}};function AD(e){return e.endsWith("/")?e:e+"/"}function PD(e,t){var r,n;const{db:a,auth:i,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:ct(ct({},c),a),auth:ct(ct({},u),i),realtime:ct(ct({},d),s),storage:{},global:ct(ct(ct({},f),l),{},{headers:ct(ct({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function ED(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var CD=class extends mD{constructor(e){super(e)}},TD=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=ED(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const s=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:xD,realtime:_D,auth:ct(ct({},bD),{},{storageKey:s}),global:vD},c=PD(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=OD(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ct({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new yM(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new u3(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new cM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:s,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CD({url:this.authUrl.href,headers:ct(ct({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:s,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new RM(this.realtimeUrl.href,ct(ct({},e),{},{params:ct(ct({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $D=(e,t,r)=>new TD(e,t,r);function RD(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}RD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ID="https://jdodenbjohnqvhvldfqu.supabase.co",MD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impkb2RlbmJqb2hucXZodmxkZnF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE2MjU3MzAsImV4cCI6MjA4NzIwMTczMH0.MR3yuR-a1vf84iDrw2wEZ0mS0-8y0LdG1lUjiK_mFec",re=$D(ID,MD),sm=bb(e=>({user:null,loading:!0,checkAuth:async()=>{var t;try{const{data:r}=await re.auth.getSession();if((t=r.session)!=null&&t.user){const{data:n}=await re.from("users").select("*").eq("id",r.session.user.id).single();n&&e({user:n})}}catch(r){console.error("Auth check error:",r)}finally{e({loading:!1})}},signIn:async(t,r)=>{e({loading:!0});try{const{error:n,data:a}=await re.auth.signInWithPassword({email:t,password:r});if(n)throw n;const{data:i}=await re.from("users").select("*").eq("id",a.user.id).single();i&&e({user:i})}finally{e({loading:!1})}},signUp:async(t,r,n)=>{e({loading:!0});try{const{error:a,data:i}=await re.auth.signUp({email:t,password:r,options:{data:{full_name:n}}});if(a)throw a;await re.from("users").insert({id:i.user.id,email:t,full_name:n,role:"partner"})}finally{e({loading:!1})}},signOut:async()=>{e({loading:!0});try{await re.auth.signOut(),e({user:null})}finally{e({loading:!1})}},resetPassword:async t=>{await re.auth.resetPasswordForEmail(t)}})),oP=bb(e=>({lang:localStorage.getItem("abrahub-lang")||"pt",setLang:t=>{localStorage.setItem("abrahub-lang",t),e({lang:t})},toggleLang:()=>e(t=>{const r=t.lang==="pt"?"en":"pt";return localStorage.setItem("abrahub-lang",r),{lang:r}})})),DD={command_center:"Centro de Comando",board:"Board",financeiro:"Financeiro",youtube:"Social Media",insta_ninja:"Insta Ninja",ads_manager:"Ads Manager",human_agent:"Human Agent",email_agent:"Agente E-mails",decisions:"Decisoes",expenses:"Gastos",menu:"Menu",light_mode:"Modo Claro",dark_mode:"Modo Escuro",admin:"Admin",partner:"Socio",logout:"Sair",open_menu:"Abrir menu",leads:"Leads",upcoming_meetings:"reunioes proximas",no_upcoming:"Nenhuma reuniao proxima",notifications:"Reunioes Proximas"},LD={title:"Dashboard Estrategico",login:"Fazer Login",signup:"Criar Conta",recover:"Recuperar Senha",recovery_sent:"Email de recuperacao enviado! Verifique sua caixa de entrada.",your_email:"Seu email",send_email:"Enviar Email",error:"Erro ao autenticar",enter:"Entrar",create:"Criar Conta",forgot:"Esqueceu a senha?",no_account:"Nao tem conta?",has_account:"Ja tem conta?",create_new:"Criar nova",do_login:"Fazer login",rights:"2025 ABRAhub. Todos os direitos reservados.",back:"Voltar",email:"Email",password:"Senha",full_name:"Nome completo"},zD={title:"Centro de Comando",subtitle:"Visao geral do negocio",synced:"Sincronizado",partial_errors:"Erros parciais",syncing:"Sincronizando... {progress}%",sync_all:"Sincronizar Tudo",making_money:"Estamos ganhando dinheiro?",yes:"Sim",no:"Nao",growing:"Estamos crescendo?",day:"dia",today:"hoje",losing_clients:"Perdendo clientes?",cash_risk:"Risco no caixa?",action_needed:"Acao necessaria?",review_churn:"Revisar churn",keep_growing:"Manter crescimento",total_revenue:"Receita Total",net_revenue:"Receita Liquida",revenue_minus_refunds:"Receita - reembolsos",churn_rate:"Churn Rate",clients:"clientes",cancellations_refunds:"cancelamentos/reembolsos",refunds:"Reembolsos",of_revenue:"da receita",above_10:"Acima de 10%",daily_revenue:"Receita Diaria",this_week:"na semana",revenue:"Receita",high_churn:"Churn Elevado",target_5:"meta: 5%",ai_consultant:"Consultor IA",ai_subtitle:"Insights estrategicos baseados nos seus dados",knowledge_base:"Base de Conhecimento",docs_loaded:"Documentos carregados",loading:"Carregando...",upload:"Upload",no_docs:"Nenhum documento carregado",accept_files:"Aceita .txt, .md, .csv, .json",characters:"caracteres",ask_business:"Pergunte sobre o seu negocio",summary:"Resumo geral do negocio",improve:"Onde posso melhorar?",analyze_churn:"Analise o churn",how_revenue:"Como esta a receita?",ask_placeholder:"Pergunte sobre seus dados...",connection_error:"Erro de conexao. Tente novamente.",process_error:"Erro ao processar.",last_7d:"7D",last_30d:"30D",last_90d:"90D",last_365d:"365D",ytd:"YTD",period:"no periodo",avg_daily:"media/dia"},BD={title:"Financeiro",subtitle:"P&L, metricas SaaS e saude financeira",gross_revenue:"Receita Bruta",gross_revenue_desc:"Total faturado no mes antes de descontar reembolsos e despesas. Inclui Stripe, Kiwify e AdSense.",mrr:"MRR",monthly_subscribers:"assinantes mensais",mrr_desc:"Monthly Recurring Revenue. Soma das assinaturas mensais ativas. Nao inclui anuais (ja pagaram o valor cheio). Principal termometro de negocio SaaS.",avg_ticket:"Ticket Medio",subscribers:"assinantes",avg_ticket_desc:"Valor medio que cada assinante paga por mes. Calculado como MRR dividido pelo numero de assinantes ativos.",active_subscribers:"Assinantes Ativos",new:"novos",active_desc:"Numero total de clientes com assinatura ativa no Stripe (mensal + anual).",churn:"Churn",cancelled:"cancelados",churn_desc:"Taxa de cancelamento mensal. Percentual de assinantes que cancelaram no periodo. Meta saudavel: abaixo de 5%.",ltv:"LTV",ltv_cac:"LTV/CAC:",ltv_desc:"Lifetime Value. Receita total estimada por cliente durante toda a permanencia. Calculado como Ticket Medio x (1 / Churn%). LTV/CAC ideal: acima de 3x.",cac:"CAC",spend:"Gasto:",no_ads_data:"Sem dados de ads",cac_desc:"Custo de Aquisicao de Cliente. Quanto voce gasta em anuncios para conquistar 1 novo assinante. Calculado como gasto total em ads / novos clientes.",net_margin:"Margem Liquida",net_margin_desc:"Percentual do lucro em relacao a receita liquida. Margem = (Receita Liquida - Despesas) / Receita Liquida. Quanto maior, mais saudavel.",cash_flow:"Fluxo de Caixa",revenue_minus_expenses:"Receita - Despesas",cash_flow_desc:"Resultado mensal: receita liquida menos todas as despesas (ferramentas, salarios, impostos). Positivo = lucro, negativo = prejuizo.",runway:"Runway",sustainable:"Sustentavel",not_covering:"Receita nao cobre gastos",no_expenses:"Sem gastos cadastrados",runway_desc:"Quanto a receita cobre os gastos. Acima de 1x = sustentavel (receita cobre despesas). Abaixo de 1x = queimando caixa.",revenues:"Receitas",monthly_subs:"Assinaturas Mensais",annual_subs:"Assinaturas Anuais",one_time:"Vendas Avulsas",subtotal_stripe:"Subtotal Stripe",youtube_adsense:"YouTube AdSense",refunds_label:"(-) Reembolsos",net_revenue:"Receita Liquida",expenses_label:"Despesas",tools_software:"Ferramentas & Software",salaries:"Salarios & Prolabore",taxes:"Impostos",other:"Outros",total_expenses:"Total Despesas",net_profit:"LUCRO LIQUIDO",no_expenses_for:"Nenhum gasto cadastrado para",register_expenses:"Cadastrar gastos",subscriptions_saas:"Assinaturas (SaaS)",monthly_plan:"Plano Mensal",avg_ticket_label:"Ticket medio:",month:"mes",annual_plan:"Plano Anual",year:"ano",active_total:"Ativos Total",new_month:"Novos no Mes",cancelled_label:"Cancelados",churn_pct:"Churn %",lost_revenue:"Receita Perdida",roas:"ROAS",daily_revenue:"Receita Diaria",stripe:"Stripe",kiwify:"Kiwify",adsense:"AdSense",revenue_by_source:"Receita por Fonte",no_data_period:"Sem dados no periodo",revenue_type:"Tipo de Receita",monthlies:"Mensalidades",annuals:"Anuidades",one_time_sales:"Avulsos",revenue_by_product:"Receita por Produto",transactions:"Transacoes",date:"Data",product:"Produto",source:"Fonte",type:"Tipo",status:"Status",value:"Valor",no_transactions:"Nenhuma transacao no periodo",monthly_type:"Mensalidade",annual_type:"Anuidade",one_time_type:"Avulso"},FD={tool:"Ferramenta",salary:"Salario",tax:"Imposto",prolabore:"Prolabore",other:"Outro",title:"Gastos Mensais",subtitle:"Gerencie as despesas mensais da empresa",add:"Adicionar Gasto",copy_prev:"Copiar Mes Anterior",total:"Total Gastos",in_usd:"em USD",tools:"Ferramentas",tools_count:"ferramentas",salaries_label:"Salarios / Prolabore",payments:"pagamentos",taxes:"Impostos",of_total:"do total",no_expenses:"Nenhuma despesa para",seed_question:"Deseja popular com a lista padrao de despesas recorrentes?",seed_button:"Popular com Padrao",seeding:"Populando...",copy_from:"Copiar de Outro Mes",name:"Nome",description:"Descricao",category:"Categoria",usd:"USD",brl:"BRL",responsible:"Responsavel",actions:"Acoes",save:"Salvar",cancel:"Cancelar",total_items:"Total ({count} itens)",error_add:"Erro ao adicionar:",error_update:"Erro ao atualizar:",error_delete:"Erro ao excluir:",copy_title:"Copiar Despesas do Mes Anterior",copy_confirm:"Deseja copiar todas as despesas de",to:"para",copy_note:"Despesas com nomes duplicados nao serao copiadas.",copying:"Copiando...",copy:"Copiar",error:"Erro:"},UD={title:"Board Interno",subtitle:"Arraste tarefas entre blocos para reorganizar",todo:"A Fazer",doing:"Fazendo",blocked:"Trava",done:"Feito",tasks:"tarefas",low:"Baixa",medium:"Media",high:"Alta",edit_task:"Editar Tarefa",task_title:"Titulo",task_desc:"Descricao",add_desc:"Adicione uma descricao...",no_desc:"Sem descricao.",status:"Status",priority:"Prioridade",responsible:"Responsavel",due_date:"Data Limite",new_task:"Nova tarefa...",agenda:"Agenda",upcoming_meetings:"Proximas Reunioes",past_meetings:"Reunioes Anteriores",new_meeting:"Nova Reuniao",no_meetings:"Nenhuma reuniao agendada.",meeting_title:"Titulo da Reuniao",date:"Data",time:"Hora",duration:"Duracao",location:"Local",participants:"Participantes",tomorrow:"Amanha",today_label:"Hoje",repeat_weekly:"Repetir toda semana",weekly:"Semanal"},qD={title:"Log Estrategico",subtitle:"Registro de decisoes e resultados",new:"Nova Decisao",decision:"Decisao",placeholder:"Ex: Aumentar preco do plano PRO",reason:"Motivo",reason_placeholder:"Por que essa decisao foi tomada?",register:"Registrar",cancel:"Cancelar",empty:"Nenhuma decisao registrada ainda.",observed_result:"Resultado observado:"},KD={title:"Metas Trimestrais (OKRs)",subtitle:"Objetivos e Key Results por trimestre",add:"Adicionar Meta",category:"Categoria",goal:"Meta",goal_placeholder:"Ex: Aumentar MRR em 50%",target_value:"Valor Alvo",target_placeholder:"Ex: 50000",submit:"Adicionar",cancel:"Cancelar",revenue:"Receita",growth:"Crescimento",product:"Produto",operations:"Operacoes",goals:"metas",no_goals:"Nenhuma meta",completed:"concluido"},WD={title:"YouTube",subtitle:"Metricas dos 3 canais",studio:"Studio",abraham_tv:"Abraham TV",rodrigo:"Rodrigo Abraham",subscribers:"Inscritos",views:"Views",total_videos:"Total Videos",views_day:"Views/dia",avg_period:"Media no periodo",revenue:"Receita",day:"dia",no_monetization:"Sem monetizacao",healthy:"Saudavel",below_ideal:"Abaixo do ideal",new_subs_day:"Novos Inscritos por Dia",new_subs:"Novos inscritos",daily_views:"Views Diarias",monthly_growth:"Crescimento Mensal",month:"Mes",start:"Inicio",end:"Fim",growth:"Crescimento",no_videos:"Nenhum video sincronizado ainda.",top_videos:"Top Videos",ig_title:"Instagram",ig_subtitle:"Metricas e crescimento da conta",ig_followers:"Seguidores",ig_following:"Seguindo",ig_reach:"Alcance",ig_impressions:"Impressoes",ig_profile_views:"Views do Perfil",ig_posts_count:"Total de Posts",ig_engagement:"Engajamento",ig_engagement_rate:"Taxa de Engajamento",ig_avg_likes:"Media de Likes",ig_avg_comments:"Media de Comentarios",ig_follower_growth:"Crescimento de Seguidores",ig_daily_reach:"Alcance Diario",ig_new_followers:"Novos seguidores",ig_daily_impressions:"Impressoes Diarias",ig_top_posts:"Top Posts",ig_monthly_growth:"Crescimento Mensal",ig_no_data:"Nenhum dado do Instagram sincronizado ainda.",ig_likes:"Likes",ig_comments:"Comentarios",ig_saves:"Salvos",ig_shares:"Compartilhamentos",week:"Semana",today:"Hoje"},HD={title:"Insta Ninja",subtitle:"Automacoes de comentarios e DM",run_now:"Executar Agora",sync_posts:"Sincronizar Posts",active_automations:"Automacoes Ativas",dms_today:"DMs Enviadas Hoje",replies_today:"Respostas Hoje",total_processed:"Total Processados",posts:"Posts",activity_log:"Log de Atividade",no_posts:"Nenhum post sincronizado.",click_sync:'Clique em "Sincronizar Posts" acima.',active:"ATIVA",paused:"PAUSADA",adjust:"Ajustar",configure:"Configurar",photo:"FOTO",video:"VIDEO",carousel:"CAROUSEL",reel:"REEL",config_title:"Configurar Automacao",no_caption:"Sem legenda",automation_active:"Automacao Ativa",toggle_desc:"Ativa ou desativa esta automacao",respond_all:"Responder qualquer comentario?",respond_all_desc:"Ignora keywords e responde todos",keywords:"Palavras-chave de ativacao",keywords_desc:"A automacao ativa quando qualquer uma dessas palavras for encontrada no comentario.",keyword_placeholder:"Digite uma palavra-chave...",comment_replies:"Respostas do comentario",comment_replies_desc:"Resposta publica no comentario. Se houver varias, uma sera escolhida aleatoriamente.",reply_placeholder:"Ex: Ja te enviei no direct!",dm_message:"Mensagem da DM",dm_desc:"Mensagem privada enviada automaticamente para quem comentar. (Opcional)",dm_placeholder:"Ex: Oi! Aqui esta o link que voce pediu...",dm_buttons:"Botoes da DM",max_buttons:"Maximo 3 botoes",buttons_desc:"Adicione botoes com links para enviar junto com a mensagem. (Opcional)",preview:"Visualizacao",preview_desc:"Preview da mensagem no Direct",simple_link:"Link simples (alternativa aos botoes)",simple_link_desc:"Se preferir, coloque so um link direto sem botao. (Opcional)",delete_automation:"Excluir Automacao",deleting:"Excluindo...",saving:"Salvando...",save:"Salvar",no_activity:"Nenhuma automacao executada ainda.",activity_hint:'Configure automacoes nos posts e clique "Executar Agora".',when:"Quando",user:"Usuario",comment:"Comentario",action:"Acao",status:"Status",reply:"REPLY",dm:"DM",none:"NONE",ok:"OK",partial:"Parcial",error:"Erro"},VD={title:"Ads Manager",campaigns:"campanhas",active:"ativas",optimizer:"Otimizador",sync:"Sincronizar",total_spend:"Gasto Total",last_30_days:"Ultimos 30 dias",cac:"CAC",new_clients:"novos clientes",avg_ctr:"CTR Medio",conversions:"Conversoes",active_label:"Ativas",avg_cpa:"CPA Medio",spend_by_campaign:"Gasto por Campanha",no_spend:"Nenhuma campanha com gasto",campaign_status:"Status das Campanhas",total:"Total",campaigns_label:"Campanhas",no_campaigns:"Nenhuma campanha sincronizada.",campaign:"Campanha",status:"Status",budget:"Orcamento",spend:"Gasto",clicks:"Cliques",ctr:"CTR",cpa:"CPA",conv:"Conv.",actions:"Acoes",pause:"Pausar",resume:"Retomar",optimizer_config:"Configuracao do Otimizador",save:"Salvar",goals:"Metas",target_cpa:"Target CPA",min_roas:"ROAS Minimo",budget_label:"Budget",min_budget:"Budget Min (dia)",max_budget:"Budget Max (dia)",increase_pct:"Aumento (%)",evaluation:"Avaliacao",min_spend_eval:"Gasto Min p/ Avaliar",min_impressions:"Impressoes Min",max_cpa_mult:"Mult. Max CPA",automation:"Automacao",optimizer_active:"Otimizador Ativo",auto_pause_bad:"Auto-Pausar Ruins",auto_scale_good:"Auto-Escalar Boas",pixel_id:"Pixel ID",pixel_placeholder:"Ex: 123456789",strategist:"Estrategista de Trafego",strategist_desc:"Analise de campanhas + recomendacoes",ask_campaigns:"Pergunte sobre suas campanhas",pause_suggestion:"Quais campanhas devo pausar?",roas_question:"Qual campanha tem melhor CTR?",best_cpa:"Qual campanha tem melhor CPA?",budget_strategy:"Sugira estrategia de orcamento",ask_placeholder:"Pergunte sobre suas campanhas...",action_history:"Historico de Acoes",no_actions:"Nenhuma acao registrada",paused_label:"Pausada",deleted_label:"Excluida",archived_label:"Arquivada",error_processing:"Erro ao processar.",error_connection:"Erro de conexao. Tente novamente.",create_ad:"Criar Anuncio",creator_title:"Criador de Anuncio IA",creator_subtitle:"Selecione um post do Instagram e a IA monta a campanha",step_select_post:"Selecione um Post",step_destination:"URL de Destino",step_strategy:"Estrategia IA",step_done:"Concluido",select_post_hint:"Selecione o post que sera usado como creative",no_posts:"Nenhum post disponivel. Sincronize o Instagram primeiro.",enter_url:"URL de destino",url_placeholder:"https://exemplo.com/pagina",url_hint:"Link para onde o usuario sera redirecionado ao clicar no anuncio",generate_strategy:"Gerar Estrategia IA",generating:"Analisando post e gerando estrategia...",ai_reasoning:"Raciocinio da IA",campaign_name:"Nome da Campanha",daily_budget_label:"Budget Diario (R$)",age_range:"Faixa Etaria",gender_label:"Genero",gender_all:"Todos",gender_male:"Masculino",gender_female:"Feminino",cta_label:"Botao de Acao (CTA)",interests_label:"Interesses (sugeridos pela IA)",launch_campaign:"Lancar Campanha",launching:"Criando campanha no Meta Ads...",campaign_created:"Campanha criada com sucesso!",campaign_paused_note:"A campanha foi criada como PAUSADA. Ative manualmente quando estiver pronto.",selected_post:"Post selecionado",likes:"curtidas",comments_count:"comentarios",error_loading_posts:"Erro ao carregar posts",close_creator:"Fechar",approval_mode:"Modo Aprovacao",pending_actions:"Acoes Pendentes",pending_actions_desc:"A IA sugere, voce decide",no_pending:"Nenhuma acao pendente",no_pending_hint:"Quando o otimizador detectar acoes necessarias, elas aparecerao aqui para aprovacao.",approve:"Aprovar",reject:"Rejeitar",approving:"Aprovando...",rejecting:"Rejeitando...",action_pause:"Pausar",action_boost:"Escalar Budget",action_adjust:"Ajustar Budget",current_metrics:"Metricas Atuais",proposed_change:"Mudanca Proposta",current_budget:"Budget Atual",new_budget:"Novo Budget",platform_all:"Todas",platform_meta:"Meta Ads",platform_google:"Google Ads",google_setup:"Setup Google Ads",google_setup_desc:"Configure suas credenciais do Google Ads",customer_id:"Customer ID",customer_id_placeholder:"Ex: 123-456-7890",developer_token:"Developer Token",developer_token_placeholder:"Seu developer token",client_id:"Client ID (OAuth)",client_id_placeholder:"Ex: xxxx.apps.googleusercontent.com",client_secret:"Client Secret (OAuth)",client_secret_placeholder:"Seu client secret",refresh_token:"Refresh Token",refresh_token_placeholder:"Seu refresh token",test_connection:"Testar Conexao",testing_connection:"Testando...",connected:"Conectado",not_connected:"Nao Conectado",save_config:"Salvar Configuracao",saving_config:"Salvando...",connection_success:"Conexao bem-sucedida!",connection_failed:"Falha na conexao",google_cost:"Custo",google_cpc:"CPC",google_type:"Tipo",enabled_label:"Ativa",sync_meta:"Sync Meta",sync_google:"Sync Google",auto_mode_on:"Auto",auto_mode_off:"Manual",auto_mode_on_hint:"IA analisa dados e lanca automaticamente, sem revisao",auto_mode_off_hint:"Revise e edite a estrategia antes de lancar",generate_and_launch:"Gerar e Lancar",auto_launching:"IA esta lancando sua campanha...",brief_title:"Briefing para a IA",brief_hint:"Descreva o objetivo do anuncio, publico alvo, produto ou promocao. Quanto mais contexto, melhor a estrategia.",brief_placeholder:"Ex: Promocao de matricula para outubro, alvo sao mulheres 25-40 que querem emagrecer, oferta de R$99/mes no 1o mes, CTA urgente",brief_chars:"caracteres",creator_mode_instagram:"Post do Instagram",creator_mode_upload:"Upload do PC",upload_file:"Selecionar imagem ou video",upload_file_hint:"JPG, PNG, MP4, MOV  imagem ate 30MB, video ate 500MB",upload_image:"Selecionar imagem",upload_image_hint:"JPG ou PNG, maximo 30MB",upload_preview:"Preview",upload_video_ready:"Video pronto para upload",ad_caption:"Legenda do anuncio (opcional)",ad_caption_placeholder:"Descreva seu produto ou servico...",upload_image_required:"Selecione uma imagem para continuar",setup_guide_toggle:"Como obter as credenciais?",setup_guide_step1_title:"1. Google Cloud Console",setup_guide_step1:'Acesse console.cloud.google.com  Crie um projeto  Ative a "Google Ads API" em APIs & Services  Library',setup_guide_step2_title:"2. Credenciais OAuth",setup_guide_step2:'APIs & Services  Credentials  Create Credentials  OAuth Client ID  Tipo "Web application"  Copie Client ID e Client Secret',setup_guide_step3_title:"3. Developer Token",setup_guide_step3:"Acesse ads.google.com  Tools & Settings  API Center  Copie o Developer Token (aplique para acesso Basico se necessario)",setup_guide_step4_title:"4. Customer ID",setup_guide_step4:"No painel do Google Ads, o Customer ID aparece no canto superior direito (formato: 123-456-7890)",setup_guide_step5_title:"5. Refresh Token (OAuth Playground)",setup_guide_step5:'Acesse developers.google.com/oauthplayground  Engrenagem  "Use your own OAuth credentials"  Autorize o scope "https://www.googleapis.com/auth/adwords"  Exchange authorization code  Copie o Refresh Token'},GD={title:"Human Agent",subtitle:"Atendentes IA para Instagram DMs",followers:"seguidores",active_agent:"Agente Ativo",none:"Nenhum",convos_today:"Conversas Hoje",active_convos:"Conversas Ativas",agents_tab:"Agentes",convos_tab:"Conversas",cant_delete:"Nao pode deletar o unico agente",delete_confirm:'Deletar agente "{name}"?',create_new:"Criar Novo Agente",new_agent:"Novo Agente",agent_name:"Nome do Agente",name_placeholder:"Ex: Vendas ABRAhub",system_prompt:"System Prompt",prompt_placeholder:"Instrucoes de comportamento do agente...",knowledge_base:"Base de Conhecimento",kb_placeholder:"Informacoes sobre produtos, precos, FAQs...",max_history:"Max Mensagens no Historico",cancel:"Cancelar",create_agent:"Criar Agente",creating:"Criando...",edit:"Editar:",back_to_agents:"Voltar para agentes",save_config:"Salvar Configuracao",kb_hint:"Cole aqui todo o conteudo que o agente deve usar. Produtos, precos, FAQs, links, etc.",no_convos:"Nenhuma conversa ainda",convos_hint:"As conversas aparecerao aqui quando alguem enviar uma DM",active:"Ativa",messages:"mensagens",no_messages:"Nenhuma mensagem",saving:"Salvando...",no_name:"Sem nome",active_ig:"Ativo no Instagram",no_prompt:"Sem system prompt configurado",no_kb:"Sem base",prompt_hint:"Instrucoes gerais de comportamento do agente IA",chars:"caracteres",trigger_keywords:"Palavras-Chave de Ativacao",keywords_count:"keywords",keywords_on_hint:"A IA so responde quando a mensagem contem uma das palavras-chave. Depois de ativada, continua respondendo a conversa.",keywords_off_hint:"A IA responde a todas as mensagens recebidas (cuidado: vai responder mesmo quando voce estiver conversando manualmente).",keyword_placeholder:"Ex: bom dia, boa tarde, ajuda...",no_keywords:"Nenhuma palavra-chave adicionada",pause_ai:"Pausar IA",resume_ai:"Reativar IA",ai_active:"IA ativa",ai_paused:"IA pausada",agent_type:"Tipo do Agente",type_support:"Suporte",type_sales:"Vendas",type_support_desc:"Atende duvidas e da suporte ao cliente",type_sales_desc:"Vende produtos e classifica leads automaticamente",products_tab:"Produtos",add_product:"Adicionar Produto",edit_product:"Editar Produto",product_name:"Nome do Produto",product_price:"Preco (R$)",product_description:"Descricao",product_desc_placeholder:"Breve descricao do produto...",payment_link:"Link de Pagamento",payment_source:"Fonte de Pagamento",fill_required:"Preencha todos os campos obrigatorios"},QD={title:"Agente de E-mails",subtitle:"Suporte automatizado com IA para suporte@abrahub.com",local_agent:"Agente na nuvem ativo (Supabase)",local_desc:"Clique em Verificar E-mails para buscar novos e-mails e processar com IA.",realtime_desc:"Os dados aparecem aqui em tempo real via Supabase.",verify_emails:"Verificar E-mails",verifying:"Verificando...",received_email:"E-mail recebido",draft_reply:"Rascunho da resposta:",send_reply:"Enviar Resposta",sending:"Enviando...",sent_ok:"Enviado!",emails_today:"e-mails hoje",pending:"pendentes",auto_replied:"auto-respondidos",completed:"concluidos",processed_tab:"E-mails Processados",feedback_tab:"Feedbacks",refund:"Reembolso",course_access:"Acesso ao Curso",payment_pix:"Pagamento / PIX",complaint:"Reclamacao",question:"Duvida",other:"Outro",pending_status:"Pendente",done_status:"Concluido",auto_status:"Auto",action_needed:"Acao necessaria",show_reply:"Ver resposta enviada",hide_reply:"Ocultar resposta",no_reply:"Sem resposta registrada.",eligible:"Elegivel - compra ha",days_within:"dia(s), dentro do prazo",expired:"Fora do prazo - compra ha",days_max:"dias (max.",days_close:"dias)",client:"Cliente:",product:"Produto:",amount:"Valor:",purchased_at:"Comprado em:",active_sub:"Assinatura ativa:",will_cancel:"Sim (sera cancelada)",no_label:"Nao",confirm_refund_msg:"Ao confirmar: reembolso de",plus:"+",cancel_sub:"cancelamento da assinatura",no_sub_cancel:"sem assinatura para cancelar",irreversible:"Tem certeza? Esta acao nao pode ser desfeita.",confirm_refund:"Confirmar Reembolso",consulting:"Consultando...",analyze_stripe:"Analisar no Stripe",mark_done:"Concluido",no_emails:"Nenhum e-mail processado hoje ainda.",agent_auto:"O agente local verifica automaticamente a cada 24h.",no_feedbacks:"Nenhum feedback recebido ainda.",feedback:"Feedback",show_full:"Ver mensagem completa",hide_full:"Ocultar mensagem",today:"Hoje",last_7d:"7 dias",last_30d:"30 dias",previous:"anteriores",history_title:"Historico do Cliente",loading:"Carregando",no_history:"Nenhum historico encontrado."},YD={title:"Central de Documentos",subtitle:"Organize e acesse todos os documentos importantes",contracts:"Contratos",contract_supplier:"Contrato com Fornecedor A",contract_partnership:"Contrato de Parceria",planning:"Planejamento",roadmap:"Roadmap 2025",strategic_plan:"Plano Estrategico Q1",spreadsheets:"Planilhas",financial_projection:"Projecao Financeira",churn_analysis:"Analise de Churn",reports:"Relatorios",monthly_report:"Relatorio Mensal Janeiro",performance_report:"Relatorio de Performance",corporate_docs:"Documentos Societarios",articles:"Contrato Social",constitution:"Ata de Constituicao",amendment:"Alteracao Contratual 2024",important_info:"Informacoes Importantes",secure_storage:"Todos os documentos sao armazenados com seguranca",partners_only:"Apenas voce e socios registrados podem acessar",audit_trail:"Versoes anteriores sao mantidas para auditoria (90 dias)",share_link:"Compartilhamento pode ser feito via link seguro",add_file:"Adicionar arquivo"},JD={title:"Politica de Privacidade",last_update:"Ultima atualizacao:",s1_title:"1. Introducao",s1_text:"Esta Politica de Privacidade descreve como o aplicativo Dashboard ABRAhub coleta, utiliza e protege as informacoes obtidas atraves da integracao com a plataforma Meta (Instagram e Facebook Ads). Ao utilizar nosso aplicativo, voce concorda com as praticas descritas nesta politica.",s2_title:"2. Dados que coletamos",s2_intro:"Atraves das APIs do Instagram e Meta, coletamos os seguintes dados:",s2_profile:"Informacoes do perfil: nome de usuario, ID da conta, foto de perfil, numero de seguidores e contagem de publicacoes.",s2_media:"Publicacoes (midia): imagens, legendas, metricas de engajamento (curtidas, comentarios, alcance) e data de publicacao.",s2_comments:"Comentarios: texto do comentario, nome de usuario do autor e data/hora do comentario em publicacoes da conta conectada.",s2_messages:"Mensagens diretas: enviamos mensagens diretas em resposta a comentarios conforme regras de automacao configuradas pelo proprietario da conta. Nao armazenamos o conteudo de mensagens recebidas.",s2_ads:"Dados de anuncios (Ads): campanhas, conjuntos de anuncios, anuncios individuais, metricas de desempenho (impressoes, cliques, alcance, conversoes, custo por resultado), orcamento e periodo de veiculacao.",s2_insights:"Insights e metricas avancadas: dados agregados de desempenho do perfil, alcance de publicacoes, impressoes e dados demograficos do publico.",s3_title:"3. Como utilizamos os dados",s3_intro:"Os dados coletados sao utilizados exclusivamente para:",s3_metrics:"Exibicao de metricas: apresentar estatisticas de desempenho das publicacoes no painel do dashboard.",s3_automation:"Automacao de respostas: detectar palavras-chave em comentarios e responder automaticamente com mensagens pre-configuradas pelo proprietario da conta (respostas publicas e/ou mensagens diretas).",s3_ads:"Gerenciamento de anuncios: visualizar, monitorar e gerenciar campanhas de anuncios no Instagram e Facebook, incluindo metricas de desempenho, orcamento e otimizacao de campanhas.",s3_log:"Registro de atividade: manter um historico de acoes automatizadas para auditoria e controle pelo proprietario da conta.",s4_title:"4. Armazenamento e seguranca",s4_text:"Os dados sao armazenados em servidores seguros fornecidos pela Supabase (infraestrutura AWS), com criptografia em transito (TLS/SSL) e em repouso. O acesso ao banco de dados e protegido por Row Level Security (RLS) e autenticacao obrigatoria. Tokens de acesso da API do Instagram sao armazenados como variaveis de ambiente seguras (secrets), nunca expostos no codigo-fonte ou no frontend. Nao compartilhamos, vendemos ou transferimos dados a terceiros.",s5_title:"5. Compartilhamento de dados",s5_text:"Nao compartilhamos dados pessoais com terceiros. Os dados coletados sao utilizados exclusivamente dentro do aplicativo para as finalidades descritas acima. Os unicos servicos que processam dados sao: Meta/Instagram API (para leitura de dados e envio de respostas) e Supabase (para armazenamento seguro do banco de dados).",s6_title:"6. Retencao de dados",s6_text:"Os dados de publicacoes e metricas sao atualizados periodicamente e mantidos enquanto a conta estiver conectada. O historico de comentarios processados e mantido para evitar acoes duplicadas. O proprietario da conta pode solicitar a exclusao de todos os dados a qualquer momento.",s7_title:"7. Direitos do usuario",s7_intro:"Voce tem o direito de:",s7_access:"Acessar todos os dados que armazenamos sobre sua conta.",s7_correct:"Corrigir informacoes incorretas ou desatualizadas.",s7_delete:"Excluir seus dados permanentemente, incluindo historico de automacoes.",s7_revoke:"Revogar o acesso do aplicativo a qualquer momento desconectando a conta nas configuracoes do Instagram.",s7_contact:"Para exercer esses direitos, entre em contato conosco pelo email indicado abaixo.",s8_title:"8. Exclusao de dados",s8_text:"Conforme exigido pela Meta Platform, oferecemos um mecanismo de exclusao de dados. Para solicitar a exclusao completa dos seus dados, envie um email para",s8_subject:'com o assunto "Exclusao de dados". Processaremos sua solicitacao em ate 30 dias.',s9_title:"9. Permissoes utilizadas",s9_intro:"Nosso aplicativo utiliza as seguintes permissoes das APIs do Instagram e Meta:",s9_col_permission:"Permissao",s9_col_purpose:"Finalidade",s9_basic:"Ler perfil, publicacoes e metricas da conta",s9_comments:"Ler e responder comentarios nas publicacoes",s9_messages:"Enviar mensagens diretas em resposta a comentarios",s9_insights:"Acessar metricas avancadas e insights do perfil",s9_ads_read:"Ler campanhas, metricas e relatorios de anuncios",s9_ads_mgmt:"Gerenciar campanhas, orcamentos e configuracoes de anuncios",s9_pages:"Ler metricas de engajamento da pagina vinculada",s9_business:"Acessar configuracoes da conta business no Meta",s10_title:"10. Alteracoes nesta politica",s10_text:"Podemos atualizar esta Politica de Privacidade periodicamente. Quaisquer alteracoes serao publicadas nesta pagina com a data de atualizacao revisada.",s11_title:"11. Contato",s11_text:"Se voce tiver duvidas sobre esta Politica de Privacidade ou sobre o tratamento dos seus dados, entre em contato:",footer:"ABRAhub Studio - Todos os direitos reservados"},XD={title:"Leads",subtitle:"Gerencie seus leads do Instagram",total_leads:"Total de Leads",hot_leads:"Leads Quentes",new_today:"Novos Hoje",converted:"Convertidos",search_placeholder:"Buscar por username...",filter_all:"Todos",filter_hot:"Quentes",filter_warm:"Mornos",filter_cold:"Frios",hot:"Quente",warm:"Morno",cold:"Frio",new:"Novo",contacted:"Contatado",negotiating:"Negociando",converted_status:"Convertido",lost:"Perdido",automation_comment:"Comentario",dm:"DM",manual:"Manual",interactions:"Interacoes",first_interaction:"Primeira Interacao",last_interaction:"Ultima Interacao",tags:"Tags",notes:"Notas",notes_placeholder:"Adicione notas sobre este lead...",add_tag:"Adicionar tag",tag_placeholder:"Nova tag...",add_lead:"Adicionar Lead",username:"Username",username_placeholder:"@username",save:"Salvar",saving:"Salvando...",edit_lead:"Editar Lead",delete_lead:"Excluir Lead",deleting:"Excluindo...",no_leads:"Nenhum lead encontrado",no_leads_hint:"Leads sao criados automaticamente pelas automacoes do InstaNinja",lead_details:"Detalhes do Lead",interaction_history:"Historico de Interacoes",no_interactions:"Nenhuma interacao registrada",manual_override:"Classificacao manual",auto_classification:"Classificacao automatica",source:"Fonte",status:"Status",temperature:"Temperatura",conversion_value:"Valor",tracked_link_sent:"Link rastreado enviado",converted_badge:"Convertido - R${value}"},ZD={save:"Salvar",cancel:"Cancelar",loading:"Carregando...",error:"Erro",success:"Sucesso",confirm:"Confirmar",delete:"Excluir",edit:"Editar",close:"Fechar",back:"Voltar",next:"Proximo",previous:"Anterior",search:"Buscar",no_data:"Sem dados",date:"Data",status:"Status",actions:"Acoes",name:"Nome",description:"Descricao",value:"Valor",total:"Total"},eL={nav:DD,auth:LD,home:zD,financeiro:BD,expenses:FD,kanban:UD,decisions:qD,okrs:KD,social:WD,instaninja:HD,ads:VD,humanagent:GD,emailagent:QD,documents:YD,privacy:JD,leads:XD,common:ZD},tL={command_center:"Command Center",board:"Board",financeiro:"Financial",youtube:"Social Media",insta_ninja:"Insta Ninja",ads_manager:"Ads Manager",human_agent:"Human Agent",email_agent:"Email Agent",decisions:"Decisions",expenses:"Expenses",menu:"Menu",light_mode:"Light Mode",dark_mode:"Dark Mode",admin:"Admin",partner:"Partner",logout:"Logout",open_menu:"Open menu",leads:"Leads",upcoming_meetings:"upcoming meetings",no_upcoming:"No upcoming meetings",notifications:"Upcoming Meetings"},rL={title:"Strategic Dashboard",login:"Log In",signup:"Sign Up",recover:"Reset Password",recovery_sent:"Recovery email sent! Check your inbox.",your_email:"Your email",send_email:"Send Email",error:"Authentication error",enter:"Log In",create:"Sign Up",forgot:"Forgot your password?",no_account:"Don't have an account?",has_account:"Already have an account?",create_new:"Create one",do_login:"Log in",rights:"2025 ABRAhub. All rights reserved.",back:"Back",email:"Email",password:"Password",full_name:"Full name"},nL={title:"Command Center",subtitle:"Business overview",synced:"Synced",partial_errors:"Partial errors",syncing:"Syncing... {progress}%",sync_all:"Sync All",making_money:"Are we making money?",yes:"Yes",no:"No",growing:"Are we growing?",day:"day",today:"today",losing_clients:"Losing clients?",cash_risk:"Cash risk?",action_needed:"Action needed?",review_churn:"Review churn",keep_growing:"Keep growing",total_revenue:"Total Revenue",net_revenue:"Net Revenue",revenue_minus_refunds:"Revenue - refunds",churn_rate:"Churn Rate",clients:"clients",cancellations_refunds:"cancellations/refunds",refunds:"Refunds",of_revenue:"of revenue",above_10:"Above 10%",daily_revenue:"Daily Revenue",this_week:"this week",revenue:"Revenue",high_churn:"High Churn",target_5:"target: 5%",ai_consultant:"AI Consultant",ai_subtitle:"Strategic insights based on your data",knowledge_base:"Knowledge Base",docs_loaded:"Documents loaded",loading:"Loading...",upload:"Upload",no_docs:"No documents loaded",accept_files:"Accepts .txt, .md, .csv, .json",characters:"characters",ask_business:"Ask about your business",summary:"Overall business summary",improve:"Where can I improve?",analyze_churn:"Analyze churn",how_revenue:"How's the revenue?",ask_placeholder:"Ask about your data...",connection_error:"Connection error. Try again.",process_error:"Processing error.",last_7d:"7D",last_30d:"30D",last_90d:"90D",last_365d:"365D",ytd:"YTD",period:"in period",avg_daily:"avg/day"},aL={title:"Financial",subtitle:"P&L, SaaS metrics and financial health",gross_revenue:"Gross Revenue",gross_revenue_desc:"Total billed this month before deducting refunds and expenses. Includes Stripe, Kiwify and AdSense.",mrr:"MRR",monthly_subscribers:"monthly subscribers",mrr_desc:"Monthly Recurring Revenue. Sum of active monthly subscriptions. Does not include annuals (they already paid the full amount). Main SaaS business thermometer.",avg_ticket:"Average Ticket",subscribers:"subscribers",avg_ticket_desc:"Average amount each subscriber pays per month. Calculated as MRR divided by the number of active subscribers.",active_subscribers:"Active Subscribers",new:"new",active_desc:"Total number of customers with active subscriptions on Stripe (monthly + annual).",churn:"Churn",cancelled:"cancelled",churn_desc:"Monthly cancellation rate. Percentage of subscribers who cancelled in the period. Healthy target: below 5%.",ltv:"LTV",ltv_cac:"LTV/CAC:",ltv_desc:"Lifetime Value. Estimated total revenue per customer over their lifetime. Calculated as Average Ticket x (1 / Churn%). Ideal LTV/CAC: above 3x.",cac:"CAC",spend:"Spend:",no_ads_data:"No ads data",cac_desc:"Customer Acquisition Cost. How much you spend on ads to acquire 1 new subscriber. Calculated as total ad spend / new customers.",net_margin:"Net Margin",net_margin_desc:"Profit percentage relative to net revenue. Margin = (Net Revenue - Expenses) / Net Revenue. The higher, the healthier.",cash_flow:"Cash Flow",revenue_minus_expenses:"Revenue - Expenses",cash_flow_desc:"Monthly result: net revenue minus all expenses (tools, salaries, taxes). Positive = profit, negative = loss.",runway:"Runway",sustainable:"Sustainable",not_covering:"Revenue doesn't cover expenses",no_expenses:"No expenses registered",runway_desc:"How much revenue covers expenses. Above 1x = sustainable (revenue covers expenses). Below 1x = burning cash.",revenues:"Revenues",monthly_subs:"Monthly Subscriptions",annual_subs:"Annual Subscriptions",one_time:"One-time Sales",subtotal_stripe:"Stripe Subtotal",youtube_adsense:"YouTube AdSense",refunds_label:"(-) Refunds",net_revenue:"Net Revenue",expenses_label:"Expenses",tools_software:"Tools & Software",salaries:"Salaries & Compensation",taxes:"Taxes",other:"Other",total_expenses:"Total Expenses",net_profit:"NET PROFIT",no_expenses_for:"No expenses registered for",register_expenses:"Register expenses",subscriptions_saas:"Subscriptions (SaaS)",monthly_plan:"Monthly Plan",avg_ticket_label:"Avg. ticket:",month:"month",annual_plan:"Annual Plan",year:"year",active_total:"Total Active",new_month:"New This Month",cancelled_label:"Cancelled",churn_pct:"Churn %",lost_revenue:"Lost Revenue",roas:"ROAS",daily_revenue:"Daily Revenue",stripe:"Stripe",kiwify:"Kiwify",adsense:"AdSense",revenue_by_source:"Revenue by Source",no_data_period:"No data for this period",revenue_type:"Revenue Type",monthlies:"Monthly",annuals:"Annual",one_time_sales:"One-time",revenue_by_product:"Revenue by Product",transactions:"Transactions",date:"Date",product:"Product",source:"Source",type:"Type",status:"Status",value:"Amount",no_transactions:"No transactions in this period",monthly_type:"Monthly",annual_type:"Annual",one_time_type:"One-time"},iL={tool:"Tool",salary:"Salary",tax:"Tax",prolabore:"Compensation",other:"Other",title:"Monthly Expenses",subtitle:"Manage the company's monthly expenses",add:"Add Expense",copy_prev:"Copy Previous Month",total:"Total Expenses",in_usd:"in USD",tools:"Tools",tools_count:"tools",salaries_label:"Salaries / Compensation",payments:"payments",taxes:"Taxes",of_total:"of total",no_expenses:"No expenses for",seed_question:"Would you like to populate with the default list of recurring expenses?",seed_button:"Populate with Defaults",seeding:"Populating...",copy_from:"Copy from Another Month",name:"Name",description:"Description",category:"Category",usd:"USD",brl:"BRL",responsible:"Responsible",actions:"Actions",save:"Save",cancel:"Cancel",total_items:"Total ({count} items)",error_add:"Error adding:",error_update:"Error updating:",error_delete:"Error deleting:",copy_title:"Copy Expenses from Previous Month",copy_confirm:"Copy all expenses from",to:"to",copy_note:"Expenses with duplicate names will not be copied.",copying:"Copying...",copy:"Copy",error:"Error:"},sL={title:"Internal Board",subtitle:"Drag tasks between columns to reorganize",todo:"To Do",doing:"Doing",blocked:"Blocked",done:"Done",tasks:"tasks",low:"Low",medium:"Medium",high:"High",edit_task:"Edit Task",task_title:"Title",task_desc:"Description",add_desc:"Add a description...",no_desc:"No description.",status:"Status",priority:"Priority",responsible:"Assignee",due_date:"Due Date",new_task:"New task...",agenda:"Agenda",upcoming_meetings:"Upcoming Meetings",past_meetings:"Past Meetings",new_meeting:"New Meeting",no_meetings:"No meetings scheduled.",meeting_title:"Meeting Title",date:"Date",time:"Time",duration:"Duration",location:"Location",participants:"Participants",tomorrow:"Tomorrow",today_label:"Today",repeat_weekly:"Repeat every week",weekly:"Weekly"},oL={title:"Strategic Log",subtitle:"Record of decisions and outcomes",new:"New Decision",decision:"Decision",placeholder:"E.g.: Increase PRO plan price",reason:"Reason",reason_placeholder:"Why was this decision made?",register:"Register",cancel:"Cancel",empty:"No decisions recorded yet.",observed_result:"Observed result:"},lL={title:"Quarterly Goals (OKRs)",subtitle:"Objectives and Key Results by quarter",add:"Add Goal",category:"Category",goal:"Goal",goal_placeholder:"E.g.: Increase MRR by 50%",target_value:"Target Value",target_placeholder:"E.g.: 50000",submit:"Add",cancel:"Cancel",revenue:"Revenue",growth:"Growth",product:"Product",operations:"Operations",goals:"goals",no_goals:"No goals",completed:"completed"},cL={title:"YouTube",subtitle:"Metrics from 3 channels",studio:"Studio",abraham_tv:"Abraham TV",rodrigo:"Rodrigo Abraham",subscribers:"Subscribers",views:"Views",total_videos:"Total Videos",views_day:"Views/day",avg_period:"Period average",revenue:"Revenue",day:"day",no_monetization:"No monetization",healthy:"Healthy",below_ideal:"Below ideal",new_subs_day:"New Subscribers per Day",new_subs:"New subscribers",daily_views:"Daily Views",monthly_growth:"Monthly Growth",month:"Month",start:"Start",end:"End",growth:"Growth",no_videos:"No videos synced yet.",top_videos:"Top Videos",ig_title:"Instagram",ig_subtitle:"Account metrics and growth",ig_followers:"Followers",ig_following:"Following",ig_reach:"Reach",ig_impressions:"Impressions",ig_profile_views:"Profile Views",ig_posts_count:"Total Posts",ig_engagement:"Engagement",ig_engagement_rate:"Engagement Rate",ig_avg_likes:"Avg Likes",ig_avg_comments:"Avg Comments",ig_follower_growth:"Follower Growth",ig_daily_reach:"Daily Reach",ig_new_followers:"New followers",ig_daily_impressions:"Daily Impressions",ig_top_posts:"Top Posts",ig_monthly_growth:"Monthly Growth",ig_no_data:"No Instagram data synced yet.",ig_likes:"Likes",ig_comments:"Comments",ig_saves:"Saves",ig_shares:"Shares",week:"Week",today:"Today"},uL={title:"Insta Ninja",subtitle:"Comment and DM automations",run_now:"Run Now",sync_posts:"Sync Posts",active_automations:"Active Automations",dms_today:"DMs Sent Today",replies_today:"Replies Today",total_processed:"Total Processed",posts:"Posts",activity_log:"Activity Log",no_posts:"No posts synced.",click_sync:'Click "Sync Posts" above.',active:"ACTIVE",paused:"PAUSED",adjust:"Adjust",configure:"Configure",photo:"PHOTO",video:"VIDEO",carousel:"CAROUSEL",reel:"REEL",config_title:"Configure Automation",no_caption:"No caption",automation_active:"Automation Active",toggle_desc:"Enable or disable this automation",respond_all:"Respond to all comments?",respond_all_desc:"Ignores keywords and responds to all",keywords:"Trigger keywords",keywords_desc:"The automation triggers when any of these words are found in the comment.",keyword_placeholder:"Type a keyword...",comment_replies:"Comment replies",comment_replies_desc:"Public reply on the comment. If there are multiple, one will be chosen randomly.",reply_placeholder:"E.g.: Just sent it to your DMs!",dm_message:"DM Message",dm_desc:"Private message sent automatically to commenters. (Optional)",dm_placeholder:"E.g.: Hi! Here's the link you asked for...",dm_buttons:"DM Buttons",max_buttons:"Maximum 3 buttons",buttons_desc:"Add buttons with links to send along with the message. (Optional)",preview:"Preview",preview_desc:"Message preview in Direct",simple_link:"Simple link (alternative to buttons)",simple_link_desc:"If you prefer, just put a direct link without a button. (Optional)",delete_automation:"Delete Automation",deleting:"Deleting...",saving:"Saving...",save:"Save",no_activity:"No automations executed yet.",activity_hint:'Configure automations on posts and click "Run Now".',when:"When",user:"User",comment:"Comment",action:"Action",status:"Status",reply:"REPLY",dm:"DM",none:"NONE",ok:"OK",partial:"Partial",error:"Error"},dL={title:"Ads Manager",campaigns:"campaigns",active:"active",optimizer:"Optimizer",sync:"Sync",total_spend:"Total Spend",last_30_days:"Last 30 days",cac:"CAC",new_clients:"new clients",avg_ctr:"Avg CTR",conversions:"Conversions",active_label:"Active",avg_cpa:"Average CPA",spend_by_campaign:"Spend by Campaign",no_spend:"No campaigns with spend",campaign_status:"Campaign Status",total:"Total",campaigns_label:"Campaigns",no_campaigns:"No campaigns synced.",campaign:"Campaign",status:"Status",budget:"Budget",spend:"Spend",clicks:"Clicks",ctr:"CTR",cpa:"CPA",conv:"Conv.",actions:"Actions",pause:"Pause",resume:"Resume",optimizer_config:"Optimizer Configuration",save:"Save",goals:"Goals",target_cpa:"Target CPA",min_roas:"Minimum ROAS",budget_label:"Budget",min_budget:"Min Budget (day)",max_budget:"Max Budget (day)",increase_pct:"Increase (%)",evaluation:"Evaluation",min_spend_eval:"Min Spend to Evaluate",min_impressions:"Min Impressions",max_cpa_mult:"Max CPA Multiplier",automation:"Automation",optimizer_active:"Optimizer Active",auto_pause_bad:"Auto-Pause Poor Performers",auto_scale_good:"Auto-Scale Good Performers",pixel_id:"Pixel ID",pixel_placeholder:"E.g.: 123456789",strategist:"Traffic Strategist",strategist_desc:"Campaign analysis + recommendations",ask_campaigns:"Ask about your campaigns",pause_suggestion:"Which campaigns should I pause?",roas_question:"Which campaign has the best CTR?",best_cpa:"Which campaign has the best CPA?",budget_strategy:"Suggest a budget strategy",ask_placeholder:"Ask about your campaigns...",action_history:"Action History",no_actions:"No actions recorded",paused_label:"Paused",deleted_label:"Deleted",archived_label:"Archived",error_processing:"Processing error.",error_connection:"Connection error. Try again.",create_ad:"Create Ad",creator_title:"AI Ad Creator",creator_subtitle:"Select an Instagram post and AI builds the campaign",step_select_post:"Select a Post",step_destination:"Destination URL",step_strategy:"AI Strategy",step_done:"Done",select_post_hint:"Select the post to use as creative",no_posts:"No posts available. Sync Instagram first.",enter_url:"Destination URL",url_placeholder:"https://example.com/page",url_hint:"Link where users will be redirected when clicking the ad",generate_strategy:"Generate AI Strategy",generating:"Analyzing post and generating strategy...",ai_reasoning:"AI Reasoning",campaign_name:"Campaign Name",daily_budget_label:"Daily Budget (R$)",age_range:"Age Range",gender_label:"Gender",gender_all:"All",gender_male:"Male",gender_female:"Female",cta_label:"Call to Action (CTA)",interests_label:"Interests (AI suggested)",launch_campaign:"Launch Campaign",launching:"Creating campaign on Meta Ads...",campaign_created:"Campaign created successfully!",campaign_paused_note:"Campaign created as PAUSED. Activate manually when ready.",selected_post:"Selected post",likes:"likes",comments_count:"comments",error_loading_posts:"Error loading posts",close_creator:"Close",approval_mode:"Approval Mode",pending_actions:"Pending Actions",pending_actions_desc:"AI suggests, you decide",no_pending:"No pending actions",no_pending_hint:"When the optimizer detects necessary actions, they will appear here for approval.",approve:"Approve",reject:"Reject",approving:"Approving...",rejecting:"Rejecting...",action_pause:"Pause",action_boost:"Scale Budget",action_adjust:"Adjust Budget",current_metrics:"Current Metrics",proposed_change:"Proposed Change",current_budget:"Current Budget",new_budget:"New Budget",platform_all:"All",platform_meta:"Meta Ads",platform_google:"Google Ads",google_setup:"Google Ads Setup",google_setup_desc:"Configure your Google Ads credentials",customer_id:"Customer ID",customer_id_placeholder:"E.g.: 123-456-7890",developer_token:"Developer Token",developer_token_placeholder:"Your developer token",client_id:"Client ID (OAuth)",client_id_placeholder:"E.g.: xxxx.apps.googleusercontent.com",client_secret:"Client Secret (OAuth)",client_secret_placeholder:"Your client secret",refresh_token:"Refresh Token",refresh_token_placeholder:"Your refresh token",test_connection:"Test Connection",testing_connection:"Testing...",connected:"Connected",not_connected:"Not Connected",save_config:"Save Configuration",saving_config:"Saving...",connection_success:"Connection successful!",connection_failed:"Connection failed",google_cost:"Cost",google_cpc:"CPC",google_type:"Type",enabled_label:"Active",sync_meta:"Sync Meta",sync_google:"Sync Google",auto_mode_on:"Auto",auto_mode_off:"Manual",auto_mode_on_hint:"AI analyzes data and launches automatically, no review needed",auto_mode_off_hint:"Review and edit the strategy before launching",generate_and_launch:"Generate & Launch",auto_launching:"AI is launching your campaign...",brief_title:"AI Briefing",brief_hint:"Describe the ad goal, target audience, product or promotion. More context means better strategy.",brief_placeholder:"Ex: October enrollment promo, targeting women 25-40 who want to lose weight, offer R$99/mo first month, urgent CTA",brief_chars:"characters",creator_mode_instagram:"Instagram Post",creator_mode_upload:"Upload from PC",upload_file:"Select image or video",upload_file_hint:"JPG, PNG, MP4, MOV  image up to 30MB, video up to 500MB",upload_image:"Select image",upload_image_hint:"JPG or PNG, max 30MB",upload_preview:"Preview",upload_video_ready:"Video ready to upload",ad_caption:"Ad caption (optional)",ad_caption_placeholder:"Describe your product or service...",upload_image_required:"Select an image to continue",setup_guide_toggle:"How to get credentials?",setup_guide_step1_title:"1. Google Cloud Console",setup_guide_step1:'Go to console.cloud.google.com  Create a project  Enable "Google Ads API" under APIs & Services  Library',setup_guide_step2_title:"2. OAuth Credentials",setup_guide_step2:'APIs & Services  Credentials  Create Credentials  OAuth Client ID  Type "Web application"  Copy Client ID and Client Secret',setup_guide_step3_title:"3. Developer Token",setup_guide_step3:"Go to ads.google.com  Tools & Settings  API Center  Copy the Developer Token (apply for Basic access if needed)",setup_guide_step4_title:"4. Customer ID",setup_guide_step4:"In Google Ads dashboard, the Customer ID is shown at the top right (format: 123-456-7890)",setup_guide_step5_title:"5. Refresh Token (OAuth Playground)",setup_guide_step5:'Go to developers.google.com/oauthplayground  Gear icon  "Use your own OAuth credentials"  Authorize the scope "https://www.googleapis.com/auth/adwords"  Exchange authorization code  Copy the Refresh Token'},fL={title:"Human Agent",subtitle:"AI Agents for Instagram DMs",followers:"followers",active_agent:"Active Agent",none:"None",convos_today:"Conversations Today",active_convos:"Active Conversations",agents_tab:"Agents",convos_tab:"Conversations",cant_delete:"Cannot delete the only agent",delete_confirm:'Delete agent "{name}"?',create_new:"Create New Agent",new_agent:"New Agent",agent_name:"Agent Name",name_placeholder:"E.g.: ABRAhub Sales",system_prompt:"System Prompt",prompt_placeholder:"Agent behavior instructions...",knowledge_base:"Knowledge Base",kb_placeholder:"Product info, pricing, FAQs...",max_history:"Max Messages in History",cancel:"Cancel",create_agent:"Create Agent",creating:"Creating...",edit:"Edit:",back_to_agents:"Back to agents",save_config:"Save Configuration",kb_hint:"Paste all content the agent should use. Products, pricing, FAQs, links, etc.",no_convos:"No conversations yet",convos_hint:"Conversations will appear here when someone sends a DM",active:"Active",messages:"messages",no_messages:"No messages",saving:"Saving...",no_name:"No name",active_ig:"Active on Instagram",no_prompt:"No system prompt configured",no_kb:"No KB",prompt_hint:"General behavior instructions for the AI agent",chars:"characters",trigger_keywords:"Trigger Keywords",keywords_count:"keywords",keywords_on_hint:"AI only responds when the message contains one of the keywords. Once activated, it keeps responding in the conversation.",keywords_off_hint:"AI responds to all incoming messages (careful: it will respond even when you're chatting manually).",keyword_placeholder:"E.g.: hello, help, question...",no_keywords:"No keywords added",pause_ai:"Pause AI",resume_ai:"Resume AI",ai_active:"AI active",ai_paused:"AI paused",agent_type:"Agent Type",type_support:"Support",type_sales:"Sales",type_support_desc:"Answers questions and provides customer support",type_sales_desc:"Sells products and classifies leads automatically",products_tab:"Products",add_product:"Add Product",edit_product:"Edit Product",product_name:"Product Name",product_price:"Price (R$)",product_description:"Description",product_desc_placeholder:"Brief product description...",payment_link:"Payment Link",payment_source:"Payment Source",fill_required:"Please fill all required fields"},hL={title:"Email Agent",subtitle:"Automated AI support for suporte@abrahub.com",local_agent:"Cloud agent active (Supabase)",local_desc:"Click Check Emails to fetch new emails and process with AI.",realtime_desc:"Data appears here in real-time via Supabase.",verify_emails:"Check Emails",verifying:"Checking...",received_email:"Received email",draft_reply:"Draft reply:",send_reply:"Send Reply",sending:"Sending...",sent_ok:"Sent!",emails_today:"emails today",pending:"pending",auto_replied:"auto-replied",completed:"completed",processed_tab:"Processed Emails",feedback_tab:"Feedbacks",refund:"Refund",course_access:"Course Access",payment_pix:"Payment / PIX",complaint:"Complaint",question:"Question",other:"Other",pending_status:"Pending",done_status:"Completed",auto_status:"Auto",action_needed:"Action needed",show_reply:"Show sent reply",hide_reply:"Hide reply",no_reply:"No reply recorded.",eligible:"Eligible - purchased",days_within:"day(s) ago, within deadline",expired:"Expired - purchased",days_max:"days ago (max.",days_close:"days)",client:"Client:",product:"Product:",amount:"Amount:",purchased_at:"Purchased on:",active_sub:"Active subscription:",will_cancel:"Yes (will be cancelled)",no_label:"No",confirm_refund_msg:"Upon confirmation: refund of",plus:"+",cancel_sub:"subscription cancellation",no_sub_cancel:"no subscription to cancel",irreversible:"Are you sure? This action cannot be undone.",confirm_refund:"Confirm Refund",consulting:"Checking...",analyze_stripe:"Analyze on Stripe",mark_done:"Completed",no_emails:"No emails processed today yet.",agent_auto:"The local agent checks automatically every 24h.",no_feedbacks:"No feedback received yet.",feedback:"Feedback",show_full:"Show full message",hide_full:"Hide message",today:"Today",last_7d:"7 days",last_30d:"30 days",previous:"previous",history_title:"Customer History",loading:"Loading",no_history:"No history found."},pL={title:"Document Center",subtitle:"Organize and access all important documents",contracts:"Contracts",contract_supplier:"Supplier A Contract",contract_partnership:"Partnership Agreement",planning:"Planning",roadmap:"Roadmap 2025",strategic_plan:"Strategic Plan Q1",spreadsheets:"Spreadsheets",financial_projection:"Financial Projection",churn_analysis:"Churn Analysis",reports:"Reports",monthly_report:"January Monthly Report",performance_report:"Performance Report",corporate_docs:"Corporate Documents",articles:"Articles of Incorporation",constitution:"Constitution Act",amendment:"Contract Amendment 2024",important_info:"Important Information",secure_storage:"All documents are stored securely",partners_only:"Only you and registered partners can access",audit_trail:"Previous versions are kept for auditing (90 days)",share_link:"Sharing can be done via secure link",add_file:"Add file"},mL={title:"Privacy Policy",last_update:"Last updated:",s1_title:"1. Introduction",s1_text:"This Privacy Policy describes how the ABRAhub Dashboard application collects, uses and protects information obtained through integration with the Meta platform (Instagram and Facebook Ads). By using our application, you agree to the practices described in this policy.",s2_title:"2. Data We Collect",s2_intro:"Through the Instagram and Meta APIs, we collect the following data:",s2_profile:"Profile information: username, account ID, profile picture, follower count and post count.",s2_media:"Posts (media): images, captions, engagement metrics (likes, comments, reach) and publication date.",s2_comments:"Comments: comment text, author's username and date/time of comments on the connected account's posts.",s2_messages:"Direct messages: we send direct messages in response to comments according to automation rules configured by the account owner. We do not store the content of received messages.",s2_ads:"Advertising data (Ads): campaigns, ad sets, individual ads, performance metrics (impressions, clicks, reach, conversions, cost per result), budget and delivery period.",s2_insights:"Advanced insights and metrics: aggregated profile performance data, post reach, impressions and audience demographics.",s3_title:"3. How We Use the Data",s3_intro:"The collected data is used exclusively for:",s3_metrics:"Metrics display: presenting post performance statistics in the dashboard panel.",s3_automation:"Response automation: detecting keywords in comments and automatically responding with messages pre-configured by the account owner (public replies and/or direct messages).",s3_ads:"Ad management: viewing, monitoring and managing ad campaigns on Instagram and Facebook, including performance metrics, budget and campaign optimization.",s3_log:"Activity logging: maintaining a history of automated actions for auditing and control by the account owner.",s4_title:"4. Storage and Security",s4_text:"Data is stored on secure servers provided by Supabase (AWS infrastructure), with encryption in transit (TLS/SSL) and at rest. Database access is protected by Row Level Security (RLS) and mandatory authentication. Instagram API access tokens are stored as secure environment variables (secrets), never exposed in source code or the frontend. We do not share, sell or transfer data to third parties.",s5_title:"5. Data Sharing",s5_text:"We do not share personal data with third parties. The collected data is used exclusively within the application for the purposes described above. The only services that process data are: Meta/Instagram API (for reading data and sending responses) and Supabase (for secure database storage).",s6_title:"6. Data Retention",s6_text:"Post and metrics data is updated periodically and maintained while the account is connected. The history of processed comments is kept to prevent duplicate actions. The account owner can request deletion of all data at any time.",s7_title:"7. User Rights",s7_intro:"You have the right to:",s7_access:"Access all data we store about your account.",s7_correct:"Correct incorrect or outdated information.",s7_delete:"Delete your data permanently, including automation history.",s7_revoke:"Revoke the application's access at any time by disconnecting the account in Instagram settings.",s7_contact:"To exercise these rights, contact us at the email address below.",s8_title:"8. Data Deletion",s8_text:"As required by the Meta Platform, we offer a data deletion mechanism. To request complete deletion of your data, send an email to",s8_subject:'with the subject "Data deletion". We will process your request within 30 days.',s9_title:"9. Permissions Used",s9_intro:"Our application uses the following permissions from the Instagram and Meta APIs:",s9_col_permission:"Permission",s9_col_purpose:"Purpose",s9_basic:"Read account profile, posts and metrics",s9_comments:"Read and reply to comments on posts",s9_messages:"Send direct messages in response to comments",s9_insights:"Access advanced metrics and profile insights",s9_ads_read:"Read campaigns, metrics and ad reports",s9_ads_mgmt:"Manage campaigns, budgets and ad settings",s9_pages:"Read engagement metrics from linked page",s9_business:"Access business account settings on Meta",s10_title:"10. Changes to This Policy",s10_text:"We may update this Privacy Policy periodically. Any changes will be posted on this page with the revised update date.",s11_title:"11. Contact",s11_text:"If you have questions about this Privacy Policy or the processing of your data, please contact:",footer:"ABRAhub Studio - All rights reserved"},gL={title:"Leads",subtitle:"Manage your Instagram leads",total_leads:"Total Leads",hot_leads:"Hot Leads",new_today:"New Today",converted:"Converted",search_placeholder:"Search by username...",filter_all:"All",filter_hot:"Hot",filter_warm:"Warm",filter_cold:"Cold",hot:"Hot",warm:"Warm",cold:"Cold",new:"New",contacted:"Contacted",negotiating:"Negotiating",converted_status:"Converted",lost:"Lost",automation_comment:"Comment",dm:"DM",manual:"Manual",interactions:"Interactions",first_interaction:"First Interaction",last_interaction:"Last Interaction",tags:"Tags",notes:"Notes",notes_placeholder:"Add notes about this lead...",add_tag:"Add tag",tag_placeholder:"New tag...",add_lead:"Add Lead",username:"Username",username_placeholder:"@username",save:"Save",saving:"Saving...",edit_lead:"Edit Lead",delete_lead:"Delete Lead",deleting:"Deleting...",no_leads:"No leads found",no_leads_hint:"Leads are created automatically by InstaNinja automations",lead_details:"Lead Details",interaction_history:"Interaction History",no_interactions:"No interactions recorded",manual_override:"Manual classification",auto_classification:"Automatic classification",source:"Source",status:"Status",temperature:"Temperature",conversion_value:"Value",tracked_link_sent:"Tracked link sent",converted_badge:"Converted - R${value}"},yL={save:"Save",cancel:"Cancel",loading:"Loading...",error:"Error",success:"Success",confirm:"Confirm",delete:"Delete",edit:"Edit",close:"Close",back:"Back",next:"Next",previous:"Previous",search:"Search",no_data:"No data",date:"Date",status:"Status",actions:"Actions",name:"Name",description:"Description",value:"Value",total:"Total"},vL={nav:tL,auth:rL,home:nL,financeiro:aL,expenses:iL,kanban:sL,decisions:oL,okrs:lL,social:cL,instaninja:uL,ads:dL,humanagent:fL,emailagent:hL,documents:pL,privacy:mL,leads:gL,common:yL},Dg={pt:eL,en:vL};function W1(e,t){const r=t.split(".");let n=e;for(const a of r){if(n==null||typeof n!="object")return;n=n[a]}return typeof n=="string"?n:void 0}function pe(){const e=oP(n=>n.lang),t=Dg[e]||Dg.pt;function r(n,a){let i=W1(t,n);return i||(i=W1(Dg.pt,n)),i?(a&&Object.entries(a).forEach(([s,l])=>{i=i.replace(`{${s}}`,String(l))}),i):n}return{t:r,lang:e}}function xL(){const[e,t]=N.useState(""),[r,n]=N.useState(""),[a,i]=N.useState(""),{signIn:s}=sm(),{t:l}=pe(),c=async u=>{u.preventDefault(),i("");try{await s(e,r)}catch(d){i(d instanceof Error?d.message:l("auth.error"))}};return o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950 flex items-center justify-center transition-colors",children:o.jsxs("div",{className:"w-full max-w-md px-4",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("img",{src:"/logo.png",alt:"ABRAhub",className:"w-16 h-16 mx-auto mb-4"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:"ABRAhub"}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-400 text-sm",children:l("auth.title")})]}),o.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-gray-100 dark:border-neutral-800 rounded-2xl p-8 shadow-card",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:l("auth.login")}),o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsx("input",{type:"email",placeholder:l("auth.email"),value:e,onChange:u=>t(u.target.value),className:"w-full",required:!0}),o.jsx("input",{type:"password",placeholder:l("auth.password"),value:r,onChange:u=>n(u.target.value),className:"w-full",required:!0}),a&&o.jsx("div",{className:"bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 text-red-700 dark:text-red-400 p-3 rounded-xl text-sm",children:a}),o.jsx("button",{type:"submit",className:"w-full font-semibold py-2.5 rounded-xl text-black transition-colors hover:brightness-90",style:{backgroundColor:"#CCFF00"},children:l("auth.enter")})]})]}),o.jsx("p",{className:"text-center text-xs text-gray-400 dark:text-neutral-600 mt-6",children:l("auth.rights")})]})})}const Ea=bb(e=>{const r=(typeof window<"u"?localStorage.getItem("theme"):null)||"dark";return typeof document<"u"&&document.documentElement.classList.toggle("dark",r==="dark"),{theme:r,toggleTheme:()=>e(n=>{const a=n.theme==="dark"?"light":"dark";return localStorage.setItem("theme",a),document.documentElement.classList.toggle("dark",a==="dark"),{theme:a}}),setTheme:n=>{localStorage.setItem("theme",n),document.documentElement.classList.toggle("dark",n==="dark"),e({theme:n})}}});/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ne=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,...u},d)=>N.createElement("svg",{ref:d,...bL,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${_L(e)}`,l].join(" "),...u},[...t.map(([f,h])=>N.createElement(f,h)),...(Array.isArray(c)?c:[c])||[]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=ne("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=ne("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=ne("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=ne("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=ne("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=ne("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=ne("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=ne("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=ne("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=ne("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=ne("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ne("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=ne("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=ne("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ne("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=ne("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=ne("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=ne("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=ne("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=ne("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=ne("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=ne("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ne("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=ne("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=ne("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=ne("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function GL({children:e}){const{user:t,signOut:r}=sm(),{theme:n,toggleTheme:a}=Ea(),{toggleLang:i}=oP(),{t:s,lang:l}=pe(),c=Zp(),[u,d]=N.useState(()=>window.innerWidth>=1024),[f,h]=N.useState([]),[p,m]=N.useState(!1),[y,v]=N.useState({top:0,right:0}),x=N.useRef(null),g=N.useRef(null);N.useEffect(()=>{if(!p)return;const b=j=>{var C,T;const O=j.target;(C=x.current)!=null&&C.contains(O)||(T=g.current)!=null&&T.contains(O)||m(!1)},S=setTimeout(()=>document.addEventListener("click",b),0);return()=>{clearTimeout(S),document.removeEventListener("click",b)}},[p]),N.useEffect(()=>{const b=()=>{window.innerWidth<1024&&d(!1)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),N.useEffect(()=>{const b=async()=>{const j=new Date().toISOString().split("T")[0],O=new Date(Date.now()+864e5).toISOString().split("T")[0],{data:C}=await re.from("meetings").select("id, title, meeting_date, meeting_time, location").in("meeting_date",[j,O]).order("meeting_date").order("meeting_time");h(C||[])};b();const S=setInterval(b,3e5);return()=>clearInterval(S)},[]);const _=()=>{if(!p&&x.current){const b=x.current.getBoundingClientRect();v({top:b.bottom+8,right:Math.max(8,window.innerWidth-b.right)})}m(b=>!b)},k=b=>{var T;const S=new Date().toISOString().split("T")[0],j=b.meeting_date===S,O=s(j?"kanban.today_label":"kanban.tomorrow"),C=((T=b.meeting_time)==null?void 0:T.slice(0,5))||"";return`${O} ${l==="pt"?"as":"at"} ${C}`},w=[{label:s("nav.command_center"),icon:TL,path:"/"},{label:s("nav.board"),icon:RL,path:"/kanban"},{label:s("nav.financeiro"),icon:Ob,path:"/financeiro"},{label:s("nav.human_agent"),icon:Hn,path:"/human-agent"},{label:s("nav.leads"),icon:nn,path:"/leads"},{label:s("nav.insta_ninja"),icon:Ir,path:"/insta-ninja"},{label:s("nav.youtube"),icon:Uy,path:"/social"},{label:s("nav.ads_manager"),icon:Eh,path:"/ads"},{label:s("nav.email_agent"),icon:Rc,path:"/email-agent"},{label:s("nav.decisions"),icon:Fy,path:"/decisions"},{label:s("nav.expenses"),icon:pP,path:"/gastos"}];return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950 transition-colors",children:[u&&o.jsx("div",{className:"fixed inset-0 bg-black/40 z-20 lg:hidden",onClick:()=>d(!1)}),o.jsxs("aside",{className:`fixed left-0 top-0 h-full z-30 bg-white dark:bg-neutral-900 border-r border-gray-100 dark:border-neutral-800 transition-all duration-300 ${u?"w-64":"w-0 lg:w-20 overflow-hidden"}`,children:[o.jsxs("div",{className:"h-16 flex items-center justify-between px-5 border-b border-gray-100 dark:border-neutral-800",children:[o.jsxs("div",{className:`flex items-center gap-2 ${!u&&"justify-center w-full"}`,children:[o.jsx("img",{src:"/logo.png",alt:"ABRAhub",className:"w-8 h-8 rounded-full"}),u&&o.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"ABRAhub"})]}),u&&o.jsx("button",{onClick:()=>d(!1),className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400",children:o.jsx(Pu,{size:18})})]}),o.jsxs("nav",{className:"p-3 space-y-1 mt-2",children:[u&&o.jsx("p",{className:"px-3 pb-2 text-[10px] font-semibold uppercase tracking-widest text-gray-400 dark:text-neutral-500",children:s("nav.menu")}),w.map(b=>o.jsxs(PI,{to:b.path,end:b.path==="/",className:({isActive:S})=>`flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all ${S?"bg-blue-50 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-neutral-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-neutral-800"}`,title:b.label,children:[o.jsx(b.icon,{size:20}),u&&o.jsx("span",{children:b.label})]},b.path))]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 border-t border-gray-100 dark:border-neutral-800 p-3",children:[o.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm text-gray-600 dark:text-neutral-400 hover:bg-gray-50 dark:hover:bg-neutral-800 transition-colors mb-1",title:l==="pt"?"Switch to English":"Mudar para Portugus",children:[o.jsx("span",{className:"text-lg leading-none",children:l==="pt"?"":""}),u&&(l==="pt"?"Portugus":"English")]}),o.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm text-gray-600 dark:text-neutral-400 hover:bg-gray-50 dark:hover:bg-neutral-800 transition-colors mb-1",title:s(n==="dark"?"nav.light_mode":"nav.dark_mode"),children:[n==="dark"?o.jsx(gP,{size:18}):o.jsx(zL,{size:18}),u&&s(n==="dark"?"nav.light_mode":"nav.dark_mode")]}),u&&o.jsx("div",{className:"px-3 py-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-500/20 flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-xs",children:((t==null?void 0:t.full_name)||(t==null?void 0:t.email)||"U")[0].toUpperCase()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:(t==null?void 0:t.full_name)||(t==null?void 0:t.email)}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-500",children:(t==null?void 0:t.role)==="admin"?s("nav.admin"):s("nav.partner")})]})]})}),o.jsxs("button",{onClick:()=>r(),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors",title:s("nav.logout"),children:[o.jsx(IL,{size:18}),u&&s("nav.logout")]})]})]}),o.jsxs("main",{className:`transition-all duration-300 ${u?"lg:ml-64":"lg:ml-20"}`,children:[o.jsxs("header",{className:"h-16 bg-white dark:bg-neutral-900 border-b border-gray-100 dark:border-neutral-800 flex items-center justify-between px-6 sticky top-0 z-20",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("button",{onClick:()=>d(!u),className:`p-2 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded-xl transition-colors text-gray-500 dark:text-neutral-400 ${u?"lg:hidden":""}`,title:s("nav.open_menu"),children:o.jsx(DL,{size:20})})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{ref:x,onClick:_,className:"relative p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors",title:f.length>0?`${f.length} ${s("nav.upcoming_meetings")}`:s("nav.no_upcoming"),children:[o.jsx(jL,{size:18,className:f.length>0?"text-gray-700 dark:text-white":"text-gray-400 dark:text-neutral-500"}),f.length>0&&o.jsx("span",{className:"absolute -top-0.5 -right-0.5 bg-red-500 text-white text-[9px] font-bold rounded-full flex items-center justify-center min-w-[18px] h-[18px] animate-pulse",children:f.length})]}),o.jsx("span",{className:"text-xs text-gray-400 dark:text-neutral-500",children:new Date().toLocaleDateString(l==="pt"?"pt-BR":"en-US",{weekday:"long",day:"numeric",month:"long"})})]})]}),o.jsx("div",{className:"p-6",children:e})]}),p&&vA.createPortal(o.jsxs("div",{ref:g,className:"w-80 bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-700 rounded-xl shadow-2xl overflow-hidden",style:{position:"fixed",top:y.top,right:y.right,zIndex:99999},children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-neutral-800",children:o.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:s("nav.notifications")})}),f.length===0?o.jsx("div",{className:"px-4 py-6 text-center text-sm text-gray-400 dark:text-neutral-500",children:s("nav.no_upcoming")}):o.jsx("div",{className:"max-h-64 overflow-y-auto",children:f.map(b=>{const S=new Date().toISOString().split("T")[0],j=b.meeting_date===S;return o.jsx("button",{onClick:()=>{m(!1),c("/kanban?tab=agenda")},className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-neutral-800 transition-colors border-b border-gray-50 dark:border-neutral-800 last:border-0",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`mt-0.5 w-2 h-2 rounded-full flex-shrink-0 ${j?"bg-amber-500":"bg-red-500 animate-pulse"}`}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:b.title}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-400 mt-0.5",children:k(b)}),b.location&&o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-500 mt-0.5",children:b.location})]}),o.jsx("span",{className:`ml-auto flex-shrink-0 text-[10px] font-semibold px-1.5 py-0.5 rounded-full ${j?"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-500/20 dark:text-red-400"}`,children:s(j?"kanban.today_label":"kanban.tomorrow")})]})},b.id)})})]}),document.body)]})}function vP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=vP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function je(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=vP(e))&&(n&&(n+=" "),n+=t);return n}var QL=Array.isArray,kr=QL,YL=typeof zd=="object"&&zd&&zd.Object===Object&&zd,xP=YL,JL=xP,XL=typeof self=="object"&&self&&self.Object===Object&&self,ZL=JL||XL||Function("return this")(),Yn=ZL,e6=Yn,t6=e6.Symbol,Ad=t6,V1=Ad,bP=Object.prototype,r6=bP.hasOwnProperty,n6=bP.toString,vc=V1?V1.toStringTag:void 0;function a6(e){var t=r6.call(e,vc),r=e[vc];try{e[vc]=void 0;var n=!0}catch{}var a=n6.call(e);return n&&(t?e[vc]=r:delete e[vc]),a}var i6=a6,s6=Object.prototype,o6=s6.toString;function l6(e){return o6.call(e)}var c6=l6,G1=Ad,u6=i6,d6=c6,f6="[object Null]",h6="[object Undefined]",Q1=G1?G1.toStringTag:void 0;function p6(e){return e==null?e===void 0?h6:f6:Q1&&Q1 in Object(e)?u6(e):d6(e)}var Ca=p6;function m6(e){return e!=null&&typeof e=="object"}var Ta=m6,g6=Ca,y6=Ta,v6="[object Symbol]";function x6(e){return typeof e=="symbol"||y6(e)&&g6(e)==v6}var Hl=x6,b6=kr,_6=Hl,w6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k6=/^\w*$/;function j6(e,t){if(b6(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||_6(e)?!0:k6.test(e)||!w6.test(e)||t!=null&&e in Object(t)}var Ab=j6;function S6(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ai=S6;const Vl=De(Ai);var N6=Ca,O6=Ai,A6="[object AsyncFunction]",P6="[object Function]",E6="[object GeneratorFunction]",C6="[object Proxy]";function T6(e){if(!O6(e))return!1;var t=N6(e);return t==P6||t==E6||t==A6||t==C6}var Pb=T6;const xe=De(Pb);var $6=Yn,R6=$6["__core-js_shared__"],I6=R6,zg=I6,Y1=function(){var e=/[^.]+$/.exec(zg&&zg.keys&&zg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function M6(e){return!!Y1&&Y1 in e}var D6=M6,L6=Function.prototype,z6=L6.toString;function B6(e){if(e!=null){try{return z6.call(e)}catch{}try{return e+""}catch{}}return""}var _P=B6,F6=Pb,U6=D6,q6=Ai,K6=_P,W6=/[\\^$.*+?()[\]{}|]/g,H6=/^\[object .+?Constructor\]$/,V6=Function.prototype,G6=Object.prototype,Q6=V6.toString,Y6=G6.hasOwnProperty,J6=RegExp("^"+Q6.call(Y6).replace(W6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X6(e){if(!q6(e)||U6(e))return!1;var t=F6(e)?J6:H6;return t.test(K6(e))}var Z6=X6;function e8(e,t){return e==null?void 0:e[t]}var t8=e8,r8=Z6,n8=t8;function a8(e,t){var r=n8(e,t);return r8(r)?r:void 0}var Ls=a8,i8=Ls,s8=i8(Object,"create"),lm=s8,J1=lm;function o8(){this.__data__=J1?J1(null):{},this.size=0}var l8=o8;function c8(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var u8=c8,d8=lm,f8="__lodash_hash_undefined__",h8=Object.prototype,p8=h8.hasOwnProperty;function m8(e){var t=this.__data__;if(d8){var r=t[e];return r===f8?void 0:r}return p8.call(t,e)?t[e]:void 0}var g8=m8,y8=lm,v8=Object.prototype,x8=v8.hasOwnProperty;function b8(e){var t=this.__data__;return y8?t[e]!==void 0:x8.call(t,e)}var _8=b8,w8=lm,k8="__lodash_hash_undefined__";function j8(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=w8&&t===void 0?k8:t,this}var S8=j8,N8=l8,O8=u8,A8=g8,P8=_8,E8=S8;function Gl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Gl.prototype.clear=N8;Gl.prototype.delete=O8;Gl.prototype.get=A8;Gl.prototype.has=P8;Gl.prototype.set=E8;var C8=Gl;function T8(){this.__data__=[],this.size=0}var $8=T8;function R8(e,t){return e===t||e!==e&&t!==t}var Eb=R8,I8=Eb;function M8(e,t){for(var r=e.length;r--;)if(I8(e[r][0],t))return r;return-1}var cm=M8,D8=cm,L8=Array.prototype,z8=L8.splice;function B8(e){var t=this.__data__,r=D8(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():z8.call(t,r,1),--this.size,!0}var F8=B8,U8=cm;function q8(e){var t=this.__data__,r=U8(t,e);return r<0?void 0:t[r][1]}var K8=q8,W8=cm;function H8(e){return W8(this.__data__,e)>-1}var V8=H8,G8=cm;function Q8(e,t){var r=this.__data__,n=G8(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Y8=Q8,J8=$8,X8=F8,Z8=K8,ez=V8,tz=Y8;function Ql(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ql.prototype.clear=J8;Ql.prototype.delete=X8;Ql.prototype.get=Z8;Ql.prototype.has=ez;Ql.prototype.set=tz;var um=Ql,rz=Ls,nz=Yn,az=rz(nz,"Map"),Cb=az,X1=C8,iz=um,sz=Cb;function oz(){this.size=0,this.__data__={hash:new X1,map:new(sz||iz),string:new X1}}var lz=oz;function cz(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var uz=cz,dz=uz;function fz(e,t){var r=e.__data__;return dz(t)?r[typeof t=="string"?"string":"hash"]:r.map}var dm=fz,hz=dm;function pz(e){var t=hz(this,e).delete(e);return this.size-=t?1:0,t}var mz=pz,gz=dm;function yz(e){return gz(this,e).get(e)}var vz=yz,xz=dm;function bz(e){return xz(this,e).has(e)}var _z=bz,wz=dm;function kz(e,t){var r=wz(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var jz=kz,Sz=lz,Nz=mz,Oz=vz,Az=_z,Pz=jz;function Yl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yl.prototype.clear=Sz;Yl.prototype.delete=Nz;Yl.prototype.get=Oz;Yl.prototype.has=Az;Yl.prototype.set=Pz;var Tb=Yl,wP=Tb,Ez="Expected a function";function $b(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ez);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new($b.Cache||wP),r}$b.Cache=wP;var kP=$b;const Cz=De(kP);var Tz=kP,$z=500;function Rz(e){var t=Tz(e,function(n){return r.size===$z&&r.clear(),n}),r=t.cache;return t}var Iz=Rz,Mz=Iz,Dz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lz=/\\(\\)?/g,zz=Mz(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Dz,function(r,n,a,i){t.push(a?i.replace(Lz,"$1"):n||r)}),t}),Bz=zz;function Fz(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Rb=Fz,Z1=Ad,Uz=Rb,qz=kr,Kz=Hl,ek=Z1?Z1.prototype:void 0,tk=ek?ek.toString:void 0;function jP(e){if(typeof e=="string")return e;if(qz(e))return Uz(e,jP)+"";if(Kz(e))return tk?tk.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Wz=jP,Hz=Wz;function Vz(e){return e==null?"":Hz(e)}var SP=Vz,Gz=kr,Qz=Ab,Yz=Bz,Jz=SP;function Xz(e,t){return Gz(e)?e:Qz(e,t)?[e]:Yz(Jz(e))}var NP=Xz,Zz=Hl;function eB(e){if(typeof e=="string"||Zz(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var fm=eB,tB=NP,rB=fm;function nB(e,t){t=tB(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[rB(t[r++])];return r&&r==n?e:void 0}var Ib=nB,aB=Ib;function iB(e,t,r){var n=e==null?void 0:aB(e,t);return n===void 0?r:n}var OP=iB;const $r=De(OP);function sB(e){return e==null}var oB=sB;const we=De(oB);var lB=Ca,cB=kr,uB=Ta,dB="[object String]";function fB(e){return typeof e=="string"||!cB(e)&&uB(e)&&lB(e)==dB}var hB=fB;const As=De(hB);var AP={exports:{}},Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb=Symbol.for("react.element"),Db=Symbol.for("react.portal"),hm=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),gm=Symbol.for("react.provider"),ym=Symbol.for("react.context"),pB=Symbol.for("react.server_context"),vm=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),bm=Symbol.for("react.suspense_list"),_m=Symbol.for("react.memo"),wm=Symbol.for("react.lazy"),mB=Symbol.for("react.offscreen"),PP;PP=Symbol.for("react.module.reference");function sn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mb:switch(e=e.type,e){case hm:case mm:case pm:case xm:case bm:return e;default:switch(e=e&&e.$$typeof,e){case pB:case ym:case vm:case wm:case _m:case gm:return e;default:return t}}case Db:return t}}}Fe.ContextConsumer=ym;Fe.ContextProvider=gm;Fe.Element=Mb;Fe.ForwardRef=vm;Fe.Fragment=hm;Fe.Lazy=wm;Fe.Memo=_m;Fe.Portal=Db;Fe.Profiler=mm;Fe.StrictMode=pm;Fe.Suspense=xm;Fe.SuspenseList=bm;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(e){return sn(e)===ym};Fe.isContextProvider=function(e){return sn(e)===gm};Fe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mb};Fe.isForwardRef=function(e){return sn(e)===vm};Fe.isFragment=function(e){return sn(e)===hm};Fe.isLazy=function(e){return sn(e)===wm};Fe.isMemo=function(e){return sn(e)===_m};Fe.isPortal=function(e){return sn(e)===Db};Fe.isProfiler=function(e){return sn(e)===mm};Fe.isStrictMode=function(e){return sn(e)===pm};Fe.isSuspense=function(e){return sn(e)===xm};Fe.isSuspenseList=function(e){return sn(e)===bm};Fe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hm||e===mm||e===pm||e===xm||e===bm||e===mB||typeof e=="object"&&e!==null&&(e.$$typeof===wm||e.$$typeof===_m||e.$$typeof===gm||e.$$typeof===ym||e.$$typeof===vm||e.$$typeof===PP||e.getModuleId!==void 0)};Fe.typeOf=sn;AP.exports=Fe;var gB=AP.exports,yB=Ca,vB=Ta,xB="[object Number]";function bB(e){return typeof e=="number"||vB(e)&&yB(e)==xB}var EP=bB;const _B=De(EP);var wB=EP;function kB(e){return wB(e)&&e!=+e}var jB=kB;const Jl=De(jB);var tr=function(t){return t===0?0:t>0?1:-1},Xi=function(t){return As(t)&&t.indexOf("%")===t.length-1},Z=function(t){return _B(t)&&!Jl(t)},SB=function(t){return we(t)},Nt=function(t){return Z(t)||As(t)},NB=0,Xl=function(t){var r=++NB;return"".concat(t||"").concat(r)},rr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(t)&&!As(t))return n;var i;if(Xi(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Jl(i)&&(i=n),a&&i>r&&(i=r),i},Va=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},OB=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},dr=function(t,r){return Z(t)&&Z(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ch(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):$r(n,t))===r})}var AB=function(t,r){return Z(t)&&Z(r)?t-r:As(t)&&As(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Do(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function qy(e){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(e)}var PB=["viewBox","children"],EB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rk=["points","pathLength"],Bg={svg:PB,polygon:rk,polyline:rk},Lb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Th=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),!Vl(n))return null;var a={};return Object.keys(n).forEach(function(i){Lb.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},CB=function(t,r,n){return function(a){return t(r,n,a),null}},Ps=function(t,r,n){if(!Vl(t)||qy(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];Lb.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=CB(s,r,n))}),a},TB=["children"],$B=["children"];function nk(e,t){if(e==null)return{};var r=RB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ky(e){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ky(e)}var ak={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ma=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ik=null,Fg=null,zb=function e(t){if(t===ik&&Array.isArray(Fg))return Fg;var r=[];return N.Children.forEach(t,function(n){we(n)||(gB.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Fg=r,ik=t,r};function en(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ma(a)}):n=[ma(t)],zb(e).forEach(function(a){var i=$r(a,"type.displayName")||$r(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Or(e,t){var r=en(e,t);return r&&r[0]}var sk=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Z(n)||n<=0||!Z(a)||a<=0)},IB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],MB=function(t){return t&&t.type&&As(t.type)&&IB.indexOf(t.type)>=0},DB=function(t){return t&&Ky(t)==="object"&&"clipDot"in t},LB=function(t,r,n,a){var i,s=(i=Bg==null?void 0:Bg[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!xe(t)&&(a&&s.includes(r)||EB.includes(r))||n&&Lb.includes(r)},he=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!Vl(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;LB((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},Wy=function e(t,r){if(t===r)return!0;var n=N.Children.count(t);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ok(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!ok(i,s))return!1}return!0},ok=function(t,r){if(we(t)&&we(r))return!0;if(!we(t)&&!we(r)){var n=t.props||{},a=n.children,i=nk(n,TB),s=r.props||{},l=s.children,c=nk(s,$B);return a&&l?Do(i,c)&&Wy(a,l):!a&&!l?Do(i,c):!1}return!1},lk=function(t,r){var n=[],a={};return zb(t).forEach(function(i,s){if(MB(i))n.push(i);else if(i){var l=ma(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,s);n.push(f),a[l]=!0}}}),n},zB=function(t){var r=t&&t.type;return r&&ak[r]?ak[r]:null},BB=function(t,r){return zb(r).indexOf(t)},FB=["children","width","height","viewBox","className","style","title","desc"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(this,arguments)}function UB(e,t){if(e==null)return{};var r=qB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vy(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,u=UB(e,FB),d=a||{width:r,height:n,x:0,y:0},f=je("recharts-surface",i);return R.createElement("svg",Hy({},he(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),R.createElement("title",null,l),R.createElement("desc",null,c),t)}var KB=["children","className"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gy.apply(this,arguments)}function WB(e,t){if(e==null)return{};var r=HB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Te=R.forwardRef(function(e,t){var r=e.children,n=e.className,a=WB(e,KB),i=je("recharts-layer",n);return R.createElement("g",Gy({className:i},he(a,!0),{ref:t}),r)}),Sn=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function VB(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var GB=VB,QB=GB;function YB(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:QB(e,t,r)}var JB=YB,XB="\\ud800-\\udfff",ZB="\\u0300-\\u036f",eF="\\ufe20-\\ufe2f",tF="\\u20d0-\\u20ff",rF=ZB+eF+tF,nF="\\ufe0e\\ufe0f",aF="\\u200d",iF=RegExp("["+aF+XB+rF+nF+"]");function sF(e){return iF.test(e)}var CP=sF;function oF(e){return e.split("")}var lF=oF,TP="\\ud800-\\udfff",cF="\\u0300-\\u036f",uF="\\ufe20-\\ufe2f",dF="\\u20d0-\\u20ff",fF=cF+uF+dF,hF="\\ufe0e\\ufe0f",pF="["+TP+"]",Qy="["+fF+"]",Yy="\\ud83c[\\udffb-\\udfff]",mF="(?:"+Qy+"|"+Yy+")",$P="[^"+TP+"]",RP="(?:\\ud83c[\\udde6-\\uddff]){2}",IP="[\\ud800-\\udbff][\\udc00-\\udfff]",gF="\\u200d",MP=mF+"?",DP="["+hF+"]?",yF="(?:"+gF+"(?:"+[$P,RP,IP].join("|")+")"+DP+MP+")*",vF=DP+MP+yF,xF="(?:"+[$P+Qy+"?",Qy,RP,IP,pF].join("|")+")",bF=RegExp(Yy+"(?="+Yy+")|"+xF+vF,"g");function _F(e){return e.match(bF)||[]}var wF=_F,kF=lF,jF=CP,SF=wF;function NF(e){return jF(e)?SF(e):kF(e)}var OF=NF,AF=JB,PF=CP,EF=OF,CF=SP;function TF(e){return function(t){t=CF(t);var r=PF(t)?EF(t):void 0,n=r?r[0]:t.charAt(0),a=r?AF(r,1).join(""):t.slice(1);return n[e]()+a}}var $F=TF,RF=$F,IF=RF("toUpperCase"),MF=IF;const km=De(MF);function Ge(e){return function(){return e}}const LP=Math.cos,$h=Math.sin,On=Math.sqrt,Rh=Math.PI,jm=2*Rh,Jy=Math.PI,Xy=2*Jy,Bi=1e-6,DF=Xy-Bi;function zP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function LF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zP;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class zF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zP:LF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Bi)if(!(Math.abs(f*c-u*d)>Bi)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,m=a-l,y=c*c+u*u,v=p*p+m*m,x=Math.sqrt(y),g=Math.sqrt(h),_=i*Math.tan((Jy-Math.acos((y+h-v)/(2*x*g)))/2),k=_/g,w=_/x;Math.abs(k-1)>Bi&&this._append`L${t+k*d},${r+k*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Bi||Math.abs(this._y1-d)>Bi)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Xy+Xy),h>DF?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Bi&&this._append`A${n},${n},0,${+(h>=Jy)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Bb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new zF(t)}function Fb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function BP(e){this._context=e}BP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sm(e){return new BP(e)}function FP(e){return e[0]}function UP(e){return e[1]}function qP(e,t){var r=Ge(!0),n=null,a=Sm,i=null,s=Bb(l);e=typeof e=="function"?e:e===void 0?FP:Ge(e),t=typeof t=="function"?t:t===void 0?UP:Ge(t);function l(c){var u,d=(c=Fb(c)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ge(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ge(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ge(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function ff(e,t,r){var n=null,a=Ge(!0),i=null,s=Sm,l=null,c=Bb(u);e=typeof e=="function"?e:e===void 0?FP:Ge(+e),t=typeof t=="function"?t:Ge(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?UP:Ge(+r);function u(f){var h,p,m,y=(f=Fb(f)).length,v,x=!1,g,_=new Array(y),k=new Array(y);for(i==null&&(l=s(g=c())),h=0;h<=y;++h){if(!(h<y&&a(v=f[h],h,f))===x)if(x=!x)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(_[m],k[m]);l.lineEnd(),l.areaEnd()}x&&(_[h]=+e(v,h,f),k[h]=+t(v,h,f),l.point(n?+n(v,h,f):_[h],r?+r(v,h,f):k[h]))}if(g)return l=null,g+""||null}function d(){return qP().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ge(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ge(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ge(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ge(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ge(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ge(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ge(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class KP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function BF(e){return new KP(e,!0)}function FF(e){return new KP(e,!1)}const Ub={draw(e,t){const r=On(t/Rh);e.moveTo(r,0),e.arc(0,0,r,0,jm)}},UF={draw(e,t){const r=On(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},WP=On(1/3),qF=WP*2,KF={draw(e,t){const r=On(t/qF),n=r*WP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},WF={draw(e,t){const r=On(t),n=-r/2;e.rect(n,n,r,r)}},HF=.8908130915292852,HP=$h(Rh/10)/$h(7*Rh/10),VF=$h(jm/10)*HP,GF=-LP(jm/10)*HP,QF={draw(e,t){const r=On(t*HF),n=VF*r,a=GF*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=jm*i/5,l=LP(s),c=$h(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Ug=On(3),YF={draw(e,t){const r=-On(t/(Ug*3));e.moveTo(0,r*2),e.lineTo(-Ug*r,-r),e.lineTo(Ug*r,-r),e.closePath()}},Fr=-.5,Ur=On(3)/2,Zy=1/On(12),JF=(Zy/2+1)*3,XF={draw(e,t){const r=On(t/JF),n=r/2,a=r*Zy,i=n,s=r*Zy+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(Fr*n-Ur*a,Ur*n+Fr*a),e.lineTo(Fr*i-Ur*s,Ur*i+Fr*s),e.lineTo(Fr*l-Ur*c,Ur*l+Fr*c),e.lineTo(Fr*n+Ur*a,Fr*a-Ur*n),e.lineTo(Fr*i+Ur*s,Fr*s-Ur*i),e.lineTo(Fr*l+Ur*c,Fr*c-Ur*l),e.closePath()}};function ZF(e,t){let r=null,n=Bb(a);e=typeof e=="function"?e:Ge(e||Ub),t=typeof t=="function"?t:Ge(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ge(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ge(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ih(){}function Mh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function VP(e){this._context=e}VP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eU(e){return new VP(e)}function GP(e){this._context=e}GP.prototype={areaStart:Ih,areaEnd:Ih,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tU(e){return new GP(e)}function QP(e){this._context=e}QP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rU(e){return new QP(e)}function YP(e){this._context=e}YP.prototype={areaStart:Ih,areaEnd:Ih,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nU(e){return new YP(e)}function ck(e){return e<0?-1:1}function uk(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(ck(i)+ck(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function dk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qg(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function Dh(e){this._context=e}Dh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qg(this,this._t0,dk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qg(this,dk(this,r=uk(this,e,t)),r);break;default:qg(this,this._t0,r=uk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function JP(e){this._context=new XP(e)}(JP.prototype=Object.create(Dh.prototype)).point=function(e,t){Dh.prototype.point.call(this,t,e)};function XP(e){this._context=e}XP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function aU(e){return new Dh(e)}function iU(e){return new JP(e)}function ZP(e){this._context=e}ZP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=fk(e),a=fk(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fk(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function sU(e){return new ZP(e)}function Nm(e,t){this._context=e,this._t=t}Nm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function oU(e){return new Nm(e,.5)}function lU(e){return new Nm(e,0)}function cU(e){return new Nm(e,1)}function ul(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ev(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function uU(e,t){return e[t]}function dU(e){const t=[];return t.key=e,t}function fU(){var e=Ge([]),t=ev,r=ul,n=uU;function a(i){var s=Array.from(e.apply(this,arguments),dU),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=Fb(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ge(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ge(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?ev:typeof i=="function"?i:Ge(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??ul,a):r},a}function hU(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}ul(e,t)}}function pU(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}ul(e,t)}}function mU(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<l;++m){var y=e[t[m]],v=y[n][1]||0,x=y[n-1][1]||0;p+=v-x}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,ul(e,t)}}function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}var gU=["type","size","sizeType"];function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(this,arguments)}function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){yU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yU(e,t,r){return t=vU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=xU(e,"string");return Tu(t)=="symbol"?t:t+""}function xU(e,t){if(Tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bU(e,t){if(e==null)return{};var r=_U(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _U(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var eE={symbolCircle:Ub,symbolCross:UF,symbolDiamond:KF,symbolSquare:WF,symbolStar:QF,symbolTriangle:YF,symbolWye:XF},wU=Math.PI/180,kU=function(t){var r="symbol".concat(km(t));return eE[r]||Ub},jU=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*wU;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},SU=function(t,r){eE["symbol".concat(km(t))]=r},qb=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,l=s===void 0?"area":s,c=bU(t,gU),u=pk(pk({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=kU(n),x=ZF().type(v).size(jU(i,l,n));return x()},f=u.className,h=u.cx,p=u.cy,m=he(u,!0);return h===+h&&p===+p&&i===+i?R.createElement("path",tv({},m,{className:je("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};qb.registerSymbol=SU;function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(this,arguments)}function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){$u(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rE(n.key),n)}}function PU(e,t,r){return t&&AU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EU(e,t,r){return t=Lh(t),CU(e,tE()?Reflect.construct(t,r||[],Lh(e).constructor):t.apply(e,r))}function CU(e,t){if(t&&(dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TU(e)}function TU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tE=function(){return!!e})()}function Lh(e){return Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lh(e)}function $U(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nv(e,t)}function nv(e,t){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nv(e,t)}function $u(e,t,r){return t=rE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rE(e){var t=RU(e,"string");return dl(t)=="symbol"?t:t+""}function RU(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qr=32,Kb=function(e){function t(){return OU(this,t),EU(this,t,arguments)}return $U(t,e),PU(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=qr/2,s=qr/6,l=qr/3,c=n.inactive?a:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:qr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(qr,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(qr/8,"h").concat(qr,"v").concat(qr*3/4,"h").concat(-qr,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var u=NU({},n);return delete u.legendIcon,R.cloneElement(n.legendIcon,u)}return R.createElement(qb,{fill:c,cx:i,cy:i,size:qr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:qr,height:qr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var y=p.formatter||c,v=je($u($u({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=xe(p.value)?null:p.value;Sn(!xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?u:p.color;return R.createElement("li",rv({className:v,style:f,key:"legend-item-".concat(m)},Ps(n.props,p,m)),R.createElement(Vy,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y?y(x,p,m):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);$u(Kb,"displayName","Legend");$u(Kb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var IU=um;function MU(){this.__data__=new IU,this.size=0}var DU=MU;function LU(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var zU=LU;function BU(e){return this.__data__.get(e)}var FU=BU;function UU(e){return this.__data__.has(e)}var qU=UU,KU=um,WU=Cb,HU=Tb,VU=200;function GU(e,t){var r=this.__data__;if(r instanceof KU){var n=r.__data__;if(!WU||n.length<VU-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new HU(n)}return r.set(e,t),this.size=r.size,this}var QU=GU,YU=um,JU=DU,XU=zU,ZU=FU,e9=qU,t9=QU;function Zl(e){var t=this.__data__=new YU(e);this.size=t.size}Zl.prototype.clear=JU;Zl.prototype.delete=XU;Zl.prototype.get=ZU;Zl.prototype.has=e9;Zl.prototype.set=t9;var nE=Zl,r9="__lodash_hash_undefined__";function n9(e){return this.__data__.set(e,r9),this}var a9=n9;function i9(e){return this.__data__.has(e)}var s9=i9,o9=Tb,l9=a9,c9=s9;function zh(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new o9;++t<r;)this.add(e[t])}zh.prototype.add=zh.prototype.push=l9;zh.prototype.has=c9;var aE=zh;function u9(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var iE=u9;function d9(e,t){return e.has(t)}var sE=d9,f9=aE,h9=iE,p9=sE,m9=1,g9=2;function y9(e,t,r,n,a,i){var s=r&m9,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&g9?new f9:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var m=e[f],y=t[f];if(n)var v=s?n(y,m,f,t,e,i):n(m,y,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!h9(t,function(x,g){if(!p9(p,g)&&(m===x||a(m,x,r,n,i)))return p.push(g)})){h=!1;break}}else if(!(m===y||a(m,y,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var oE=y9,v9=Yn,x9=v9.Uint8Array,b9=x9;function _9(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var w9=_9;function k9(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Wb=k9,gk=Ad,yk=b9,j9=Eb,S9=oE,N9=w9,O9=Wb,A9=1,P9=2,E9="[object Boolean]",C9="[object Date]",T9="[object Error]",$9="[object Map]",R9="[object Number]",I9="[object RegExp]",M9="[object Set]",D9="[object String]",L9="[object Symbol]",z9="[object ArrayBuffer]",B9="[object DataView]",vk=gk?gk.prototype:void 0,Kg=vk?vk.valueOf:void 0;function F9(e,t,r,n,a,i,s){switch(r){case B9:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case z9:return!(e.byteLength!=t.byteLength||!i(new yk(e),new yk(t)));case E9:case C9:case R9:return j9(+e,+t);case T9:return e.name==t.name&&e.message==t.message;case I9:case D9:return e==t+"";case $9:var l=N9;case M9:var c=n&A9;if(l||(l=O9),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=P9,s.set(e,t);var d=S9(l(e),l(t),n,a,i,s);return s.delete(e),d;case L9:if(Kg)return Kg.call(e)==Kg.call(t)}return!1}var U9=F9;function q9(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var lE=q9,K9=lE,W9=kr;function H9(e,t,r){var n=t(e);return W9(e)?n:K9(n,r(e))}var V9=H9;function G9(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var Q9=G9;function Y9(){return[]}var J9=Y9,X9=Q9,Z9=J9,e7=Object.prototype,t7=e7.propertyIsEnumerable,xk=Object.getOwnPropertySymbols,r7=xk?function(e){return e==null?[]:(e=Object(e),X9(xk(e),function(t){return t7.call(e,t)}))}:Z9,n7=r7;function a7(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var i7=a7,s7=Ca,o7=Ta,l7="[object Arguments]";function c7(e){return o7(e)&&s7(e)==l7}var u7=c7,bk=u7,d7=Ta,cE=Object.prototype,f7=cE.hasOwnProperty,h7=cE.propertyIsEnumerable,p7=bk(function(){return arguments}())?bk:function(e){return d7(e)&&f7.call(e,"callee")&&!h7.call(e,"callee")},Hb=p7,Bh={exports:{}};function m7(){return!1}var g7=m7;Bh.exports;(function(e,t){var r=Yn,n=g7,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Bh,Bh.exports);var uE=Bh.exports,y7=9007199254740991,v7=/^(?:0|[1-9]\d*)$/;function x7(e,t){var r=typeof e;return t=t??y7,!!t&&(r=="number"||r!="symbol"&&v7.test(e))&&e>-1&&e%1==0&&e<t}var Vb=x7,b7=9007199254740991;function _7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=b7}var Gb=_7,w7=Ca,k7=Gb,j7=Ta,S7="[object Arguments]",N7="[object Array]",O7="[object Boolean]",A7="[object Date]",P7="[object Error]",E7="[object Function]",C7="[object Map]",T7="[object Number]",$7="[object Object]",R7="[object RegExp]",I7="[object Set]",M7="[object String]",D7="[object WeakMap]",L7="[object ArrayBuffer]",z7="[object DataView]",B7="[object Float32Array]",F7="[object Float64Array]",U7="[object Int8Array]",q7="[object Int16Array]",K7="[object Int32Array]",W7="[object Uint8Array]",H7="[object Uint8ClampedArray]",V7="[object Uint16Array]",G7="[object Uint32Array]",Xe={};Xe[B7]=Xe[F7]=Xe[U7]=Xe[q7]=Xe[K7]=Xe[W7]=Xe[H7]=Xe[V7]=Xe[G7]=!0;Xe[S7]=Xe[N7]=Xe[L7]=Xe[O7]=Xe[z7]=Xe[A7]=Xe[P7]=Xe[E7]=Xe[C7]=Xe[T7]=Xe[$7]=Xe[R7]=Xe[I7]=Xe[M7]=Xe[D7]=!1;function Q7(e){return j7(e)&&k7(e.length)&&!!Xe[w7(e)]}var Y7=Q7;function J7(e){return function(t){return e(t)}}var dE=J7,Fh={exports:{}};Fh.exports;(function(e,t){var r=xP,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(Fh,Fh.exports);var X7=Fh.exports,Z7=Y7,eq=dE,_k=X7,wk=_k&&_k.isTypedArray,tq=wk?eq(wk):Z7,fE=tq,rq=i7,nq=Hb,aq=kr,iq=uE,sq=Vb,oq=fE,lq=Object.prototype,cq=lq.hasOwnProperty;function uq(e,t){var r=aq(e),n=!r&&nq(e),a=!r&&!n&&iq(e),i=!r&&!n&&!a&&oq(e),s=r||n||a||i,l=s?rq(e.length,String):[],c=l.length;for(var u in e)(t||cq.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||sq(u,c)))&&l.push(u);return l}var dq=uq,fq=Object.prototype;function hq(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||fq;return e===r}var pq=hq;function mq(e,t){return function(r){return e(t(r))}}var hE=mq,gq=hE,yq=gq(Object.keys,Object),vq=yq,xq=pq,bq=vq,_q=Object.prototype,wq=_q.hasOwnProperty;function kq(e){if(!xq(e))return bq(e);var t=[];for(var r in Object(e))wq.call(e,r)&&r!="constructor"&&t.push(r);return t}var jq=kq,Sq=Pb,Nq=Gb;function Oq(e){return e!=null&&Nq(e.length)&&!Sq(e)}var Pd=Oq,Aq=dq,Pq=jq,Eq=Pd;function Cq(e){return Eq(e)?Aq(e):Pq(e)}var Om=Cq,Tq=V9,$q=n7,Rq=Om;function Iq(e){return Tq(e,Rq,$q)}var Mq=Iq,kk=Mq,Dq=1,Lq=Object.prototype,zq=Lq.hasOwnProperty;function Bq(e,t,r,n,a,i){var s=r&Dq,l=kk(e),c=l.length,u=kk(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=l[f];if(!(s?h in t:zq.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var y=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<c;){h=l[f];var x=e[h],g=t[h];if(n)var _=s?n(g,x,h,t,e,i):n(x,g,h,e,t,i);if(!(_===void 0?x===g||a(x,g,r,n,i):_)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var k=e.constructor,w=t.constructor;k!=w&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof w=="function"&&w instanceof w)&&(y=!1)}return i.delete(e),i.delete(t),y}var Fq=Bq,Uq=Ls,qq=Yn,Kq=Uq(qq,"DataView"),Wq=Kq,Hq=Ls,Vq=Yn,Gq=Hq(Vq,"Promise"),Qq=Gq,Yq=Ls,Jq=Yn,Xq=Yq(Jq,"Set"),pE=Xq,Zq=Ls,eK=Yn,tK=Zq(eK,"WeakMap"),rK=tK,av=Wq,iv=Cb,sv=Qq,ov=pE,lv=rK,mE=Ca,ec=_P,jk="[object Map]",nK="[object Object]",Sk="[object Promise]",Nk="[object Set]",Ok="[object WeakMap]",Ak="[object DataView]",aK=ec(av),iK=ec(iv),sK=ec(sv),oK=ec(ov),lK=ec(lv),Fi=mE;(av&&Fi(new av(new ArrayBuffer(1)))!=Ak||iv&&Fi(new iv)!=jk||sv&&Fi(sv.resolve())!=Sk||ov&&Fi(new ov)!=Nk||lv&&Fi(new lv)!=Ok)&&(Fi=function(e){var t=mE(e),r=t==nK?e.constructor:void 0,n=r?ec(r):"";if(n)switch(n){case aK:return Ak;case iK:return jk;case sK:return Sk;case oK:return Nk;case lK:return Ok}return t});var cK=Fi,Wg=nE,uK=oE,dK=U9,fK=Fq,Pk=cK,Ek=kr,Ck=uE,hK=fE,pK=1,Tk="[object Arguments]",$k="[object Array]",hf="[object Object]",mK=Object.prototype,Rk=mK.hasOwnProperty;function gK(e,t,r,n,a,i){var s=Ek(e),l=Ek(t),c=s?$k:Pk(e),u=l?$k:Pk(t);c=c==Tk?hf:c,u=u==Tk?hf:u;var d=c==hf,f=u==hf,h=c==u;if(h&&Ck(e)){if(!Ck(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new Wg),s||hK(e)?uK(e,t,r,n,a,i):dK(e,t,c,r,n,a,i);if(!(r&pK)){var p=d&&Rk.call(e,"__wrapped__"),m=f&&Rk.call(t,"__wrapped__");if(p||m){var y=p?e.value():e,v=m?t.value():t;return i||(i=new Wg),a(y,v,r,n,i)}}return h?(i||(i=new Wg),fK(e,t,r,n,a,i)):!1}var yK=gK,vK=yK,Ik=Ta;function gE(e,t,r,n,a){return e===t?!0:e==null||t==null||!Ik(e)&&!Ik(t)?e!==e&&t!==t:vK(e,t,r,n,gE,a)}var Qb=gE,xK=nE,bK=Qb,_K=1,wK=2;function kK(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new xK;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?bK(d,u,_K|wK,n,f):h))return!1}}return!0}var jK=kK,SK=Ai;function NK(e){return e===e&&!SK(e)}var yE=NK,OK=yE,AK=Om;function PK(e){for(var t=AK(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,OK(a)]}return t}var EK=PK;function CK(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var vE=CK,TK=jK,$K=EK,RK=vE;function IK(e){var t=$K(e);return t.length==1&&t[0][2]?RK(t[0][0],t[0][1]):function(r){return r===e||TK(r,e,t)}}var MK=IK;function DK(e,t){return e!=null&&t in Object(e)}var LK=DK,zK=NP,BK=Hb,FK=kr,UK=Vb,qK=Gb,KK=fm;function WK(e,t,r){t=zK(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=KK(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&qK(a)&&UK(s,a)&&(FK(e)||BK(e)))}var HK=WK,VK=LK,GK=HK;function QK(e,t){return e!=null&&GK(e,t,VK)}var YK=QK,JK=Qb,XK=OP,ZK=YK,eW=Ab,tW=yE,rW=vE,nW=fm,aW=1,iW=2;function sW(e,t){return eW(e)&&tW(t)?rW(nW(e),t):function(r){var n=XK(r,e);return n===void 0&&n===t?ZK(r,e):JK(t,n,aW|iW)}}var oW=sW;function lW(e){return e}var tc=lW;function cW(e){return function(t){return t==null?void 0:t[e]}}var uW=cW,dW=Ib;function fW(e){return function(t){return dW(t,e)}}var hW=fW,pW=uW,mW=hW,gW=Ab,yW=fm;function vW(e){return gW(e)?pW(yW(e)):mW(e)}var xW=vW,bW=MK,_W=oW,wW=tc,kW=kr,jW=xW;function SW(e){return typeof e=="function"?e:e==null?wW:typeof e=="object"?kW(e)?_W(e[0],e[1]):bW(e):jW(e)}var Jn=SW;function NW(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var xE=NW;function OW(e){return e!==e}var AW=OW;function PW(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var EW=PW,CW=xE,TW=AW,$W=EW;function RW(e,t,r){return t===t?$W(e,t,r):CW(e,TW,r)}var IW=RW,MW=IW;function DW(e,t){var r=e==null?0:e.length;return!!r&&MW(e,t,0)>-1}var LW=DW;function zW(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var BW=zW;function FW(){}var UW=FW,Hg=pE,qW=UW,KW=Wb,WW=1/0,HW=Hg&&1/KW(new Hg([,-0]))[1]==WW?function(e){return new Hg(e)}:qW,VW=HW,GW=aE,QW=LW,YW=BW,JW=sE,XW=VW,ZW=Wb,eH=200;function tH(e,t,r){var n=-1,a=QW,i=e.length,s=!0,l=[],c=l;if(r)s=!1,a=YW;else if(i>=eH){var u=t?null:XW(e);if(u)return ZW(u);s=!1,a=JW,c=new GW}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var rH=tH,nH=Jn,aH=rH;function iH(e,t){return e&&e.length?aH(e,nH(t)):[]}var sH=iH;const Mk=De(sH);function bE(e,t,r){return t===!0?Mk(e,r):xe(t)?Mk(e,t):e}function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}var oH=["ref"];function Dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(r),!0).forEach(function(n){Am(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wE(n.key),n)}}function cH(e,t,r){return t&&Lk(e.prototype,t),r&&Lk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uH(e,t,r){return t=Uh(t),dH(e,_E()?Reflect.construct(t,r||[],Uh(e).constructor):t.apply(e,r))}function dH(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fH(e)}function fH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_E=function(){return!!e})()}function Uh(e){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uh(e)}function hH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cv(e,t)}function cv(e,t){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cv(e,t)}function Am(e,t,r){return t=wE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wE(e){var t=pH(e,"string");return fl(t)=="symbol"?t:t+""}function pH(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mH(e,t){if(e==null)return{};var r=gH(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yH(e){return e.value}function vH(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=mH(t,oH);return R.createElement(Kb,r)}var zk=1,Lo=function(e){function t(){var r;lH(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=uH(this,t,[].concat(a)),Am(r,"lastBoundingBox",{width:-1,height:-1}),r}return hH(t,e),cH(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>zk||Math.abs(a.height-this.lastBoundingBox.height)>zk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Zn(Zn({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Zn(Zn({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},vH(i,Zn(Zn({},this.props),{},{payload:bE(d,u,yH)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Zn(Zn({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Z(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(N.PureComponent);Am(Lo,"displayName","Legend");Am(Lo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Bk=Ad,xH=Hb,bH=kr,Fk=Bk?Bk.isConcatSpreadable:void 0;function _H(e){return bH(e)||xH(e)||!!(Fk&&e&&e[Fk])}var wH=_H,kH=lE,jH=wH;function kE(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=jH),a||(a=[]);++i<s;){var l=e[i];t>0&&r(l)?t>1?kE(l,t-1,r,n,a):kH(a,l):n||(a[a.length]=l)}return a}var jE=kE;function SH(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var NH=SH,OH=NH,AH=OH(),PH=AH,EH=PH,CH=Om;function TH(e,t){return e&&EH(e,t,CH)}var SE=TH,$H=Pd;function RH(e,t){return function(r,n){if(r==null)return r;if(!$H(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var IH=RH,MH=SE,DH=IH,LH=DH(MH),Yb=LH,zH=Yb,BH=Pd;function FH(e,t){var r=-1,n=BH(e)?Array(e.length):[];return zH(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var NE=FH;function UH(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var qH=UH,Uk=Hl;function KH(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Uk(e),s=t!==void 0,l=t===null,c=t===t,u=Uk(t);if(!l&&!u&&!i&&e>t||i&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!s&&a||!c)return-1}return 0}var WH=KH,HH=WH;function VH(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,l=r.length;++n<s;){var c=HH(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var GH=VH,Vg=Rb,QH=Ib,YH=Jn,JH=NE,XH=qH,ZH=dE,eV=GH,tV=tc,rV=kr;function nV(e,t,r){t.length?t=Vg(t,function(i){return rV(i)?function(s){return QH(s,i.length===1?i[0]:i)}:i}):t=[tV];var n=-1;t=Vg(t,ZH(YH));var a=JH(e,function(i,s,l){var c=Vg(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return XH(a,function(i,s){return eV(i,s,r)})}var aV=nV;function iV(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var sV=iV,oV=sV,qk=Math.max;function lV(e,t,r){return t=qk(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=qk(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(s),oV(e,this,l)}}var cV=lV;function uV(e){return function(){return e}}var dV=uV,fV=Ls,hV=function(){try{var e=fV(Object,"defineProperty");return e({},"",{}),e}catch{}}(),OE=hV,pV=dV,Kk=OE,mV=tc,gV=Kk?function(e,t){return Kk(e,"toString",{configurable:!0,enumerable:!1,value:pV(t),writable:!0})}:mV,yV=gV,vV=800,xV=16,bV=Date.now;function _V(e){var t=0,r=0;return function(){var n=bV(),a=xV-(n-r);if(r=n,a>0){if(++t>=vV)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wV=_V,kV=yV,jV=wV,SV=jV(kV),NV=SV,OV=tc,AV=cV,PV=NV;function EV(e,t){return PV(AV(e,t,OV),e+"")}var CV=EV,TV=Eb,$V=Pd,RV=Vb,IV=Ai;function MV(e,t,r){if(!IV(r))return!1;var n=typeof t;return(n=="number"?$V(r)&&RV(t,r.length):n=="string"&&t in r)?TV(r[t],e):!1}var Pm=MV,DV=jE,LV=aV,zV=CV,Wk=Pm,BV=zV(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Wk(e,t[0],t[1])?t=[]:r>2&&Wk(t[0],t[1],t[2])&&(t=[t[0]]),LV(e,DV(t,1),[])}),FV=BV;const Jb=De(FV);function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(this,arguments)}function UV(e,t){return HV(e)||WV(e,t)||KV(e,t)||qV()}function qV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KV(e,t){if(e){if(typeof e=="string")return Hk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hk(e,t)}}function Hk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function HV(e){if(Array.isArray(e))return e}function Vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(r),!0).forEach(function(n){VV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VV(e,t,r){return t=GV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GV(e){var t=QV(e,"string");return Ru(t)=="symbol"?t:t+""}function QV(e,t){if(Ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YV(e){return Array.isArray(e)&&Nt(e[0])&&Nt(e[1])?e.join(" ~ "):e}var JV=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,y=t.label,v=t.labelFormatter,x=t.accessibilityLayer,g=x===void 0?!1:x,_=function(){if(d&&d.length){var M={padding:0,margin:0},L=(h?Jb(d,h):d).map(function(U,A){if(U.type==="none")return null;var D=Gg({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),E=U.formatter||f||YV,$=U.value,P=U.name,z=$,B=P;if(E&&z!=null&&B!=null){var q=E($,P,U,A,d);if(Array.isArray(q)){var X=UV(q,2);z=X[0],B=X[1]}else z=q}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:D},Nt(B)?R.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Nt(B)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},z),R.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:M},L)}return null},k=Gg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Gg({margin:0},u),b=!we(y),S=b?y:"",j=je("recharts-default-tooltip",p),O=je("recharts-tooltip-label",m);b&&v&&d!==void 0&&d!==null&&(S=v(y,d));var C=g?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",uv({className:j,style:k},C),R.createElement("p",{className:O,style:w},R.isValidElement(S)?S:"".concat(S)),_())};function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function pf(e,t,r){return t=XV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XV(e){var t=ZV(e,"string");return Iu(t)=="symbol"?t:t+""}function ZV(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xc="recharts-tooltip-wrapper",eG={visibility:"hidden"};function tG(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return je(xc,pf(pf(pf(pf({},"".concat(xc,"-right"),Z(r)&&t&&Z(t.x)&&r>=t.x),"".concat(xc,"-left"),Z(r)&&t&&Z(t.x)&&r<t.x),"".concat(xc,"-bottom"),Z(n)&&t&&Z(t.y)&&n>=t.y),"".concat(xc,"-top"),Z(n)&&t&&Z(t.y)&&n<t.y))}function Gk(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Z(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var m=f+l,y=c[n]+u;return m>y?Math.max(d,c[n]):Math.max(f,c[n])}function rG(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function nG(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=Gk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=Gk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=rG({translateX:d,translateY:f,useTranslate3d:l})):u=eG,{cssProperties:u,cssClasses:tG({translateX:d,translateY:f,coordinate:r})}}function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){fv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PE(n.key),n)}}function sG(e,t,r){return t&&iG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oG(e,t,r){return t=qh(t),lG(e,AE()?Reflect.construct(t,r||[],qh(e).constructor):t.apply(e,r))}function lG(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cG(e)}function cG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AE=function(){return!!e})()}function qh(e){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qh(e)}function uG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dv(e,t)}function dv(e,t){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dv(e,t)}function fv(e,t,r){return t=PE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PE(e){var t=dG(e,"string");return hl(t)=="symbol"?t:t+""}function dG(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jk=1,fG=function(e){function t(){var r;aG(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=oG(this,t,[].concat(a)),fv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fv(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return uG(t,e),sG(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Jk||Math.abs(n.height-this.state.lastBoundingBox.height)>Jk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,y=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,g=a.wrapperStyle,_=nG({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),k=_.cssClasses,w=_.cssProperties,b=Yk(Yk({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return R.createElement("div",{tabIndex:-1,className:k,style:b,ref:function(j){n.wrapperNode=j}},u)}}])}(N.PureComponent),hG=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},zs={isSsr:hG()};function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(n){Xb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CE(n.key),n)}}function gG(e,t,r){return t&&mG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yG(e,t,r){return t=Kh(t),vG(e,EE()?Reflect.construct(t,r||[],Kh(e).constructor):t.apply(e,r))}function vG(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xG(e)}function xG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EE=function(){return!!e})()}function Kh(e){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kh(e)}function bG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hv(e,t)}function hv(e,t){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hv(e,t)}function Xb(e,t,r){return t=CE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CE(e){var t=_G(e,"string");return pl(t)=="symbol"?t:t+""}function _G(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wG(e){return e.dataKey}function kG(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(JV,t)}var ht=function(e){function t(){return pG(this,t),yG(this,t,arguments)}return bG(t,e),gG(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,y=a.payloadUniqBy,v=a.position,x=a.reverseDirection,g=a.useTranslate3d,_=a.viewBox,k=a.wrapperStyle,w=m??[];f&&w.length&&(w=bE(m.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),y,wG));var b=w.length>0;return R.createElement(fG,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:b,offset:p,position:v,reverseDirection:x,useTranslate3d:g,viewBox:_,wrapperStyle:k},kG(u,Zk(Zk({},this.props),{},{payload:w})))}}])}(N.PureComponent);Xb(ht,"displayName","Tooltip");Xb(ht,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!zs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jG=Yn,SG=function(){return jG.Date.now()},NG=SG,OG=/\s/;function AG(e){for(var t=e.length;t--&&OG.test(e.charAt(t)););return t}var PG=AG,EG=PG,CG=/^\s+/;function TG(e){return e&&e.slice(0,EG(e)+1).replace(CG,"")}var $G=TG,RG=$G,ej=Ai,IG=Hl,tj=NaN,MG=/^[-+]0x[0-9a-f]+$/i,DG=/^0b[01]+$/i,LG=/^0o[0-7]+$/i,zG=parseInt;function BG(e){if(typeof e=="number")return e;if(IG(e))return tj;if(ej(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ej(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=RG(e);var r=DG.test(e);return r||LG.test(e)?zG(e.slice(2),r?2:8):MG.test(e)?tj:+e}var TE=BG,FG=Ai,Qg=NG,rj=TE,UG="Expected a function",qG=Math.max,KG=Math.min;function WG(e,t,r){var n,a,i,s,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(UG);t=rj(t)||0,FG(r)&&(d=!!r.leading,f="maxWait"in r,i=f?qG(rj(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(b){var S=n,j=a;return n=a=void 0,u=b,s=e.apply(j,S),s}function m(b){return u=b,l=setTimeout(x,t),d?p(b):s}function y(b){var S=b-c,j=b-u,O=t-S;return f?KG(O,i-j):O}function v(b){var S=b-c,j=b-u;return c===void 0||S>=t||S<0||f&&j>=i}function x(){var b=Qg();if(v(b))return g(b);l=setTimeout(x,y(b))}function g(b){return l=void 0,h&&n?p(b):(n=a=void 0,s)}function _(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function k(){return l===void 0?s:g(Qg())}function w(){var b=Qg(),S=v(b);if(n=arguments,a=this,c=b,S){if(l===void 0)return m(c);if(f)return clearTimeout(l),l=setTimeout(x,t),p(c)}return l===void 0&&(l=setTimeout(x,t)),s}return w.cancel=_,w.flush=k,w}var HG=WG,VG=HG,GG=Ai,QG="Expected a function";function YG(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(QG);return GG(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),VG(e,t,{leading:n,maxWait:t,trailing:a})}var JG=YG;const $E=De(JG);function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){XG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XG(e,t,r){return t=ZG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=eQ(e,"string");return Mu(t)=="symbol"?t:t+""}function eQ(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tQ(e,t){return iQ(e)||aQ(e,t)||nQ(e,t)||rQ()}function rQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nQ(e,t){if(e){if(typeof e=="string")return aj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aj(e,t)}}function aj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function iQ(e){if(Array.isArray(e))return e}var bn=N.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,y=m===void 0?0:m,v=e.id,x=e.className,g=e.onResize,_=e.style,k=_===void 0?{}:_,w=N.useRef(null),b=N.useRef();b.current=g,N.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var S=N.useState({containerWidth:a.width,containerHeight:a.height}),j=tQ(S,2),O=j[0],C=j[1],T=N.useCallback(function(L,U){C(function(A){var D=Math.round(L),E=Math.round(U);return A.containerWidth===D&&A.containerHeight===E?A:{containerWidth:D,containerHeight:E}})},[]);N.useEffect(function(){var L=function(P){var z,B=P[0].contentRect,q=B.width,X=B.height;T(q,X),(z=b.current)===null||z===void 0||z.call(b,q,X)};y>0&&(L=$E(L,y,{trailing:!0,leading:!1}));var U=new ResizeObserver(L),A=w.current.getBoundingClientRect(),D=A.width,E=A.height;return T(D,E),U.observe(w.current),function(){U.disconnect()}},[T,y]);var M=N.useMemo(function(){var L=O.containerWidth,U=O.containerHeight;if(L<0||U<0)return null;Sn(Xi(s)||Xi(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Sn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var A=Xi(s)?L:s,D=Xi(c)?U:c;r&&r>0&&(A?D=A/r:D&&(A=D*r),h&&D>h&&(D=h)),Sn(A>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,D,s,c,d,f,r);var E=!Array.isArray(p)&&ma(p.type).endsWith("Chart");return R.Children.map(p,function($){return R.isValidElement($)?N.cloneElement($,mf({width:A,height:D},E?{style:mf({height:"100%",width:"100%",maxHeight:D,maxWidth:A},$.props.style)}:{})):$})},[r,p,c,h,f,d,O,s]);return R.createElement("div",{id:v?"".concat(v):void 0,className:je("recharts-responsive-container",x),style:mf(mf({},k),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},M)}),ps=function(t){return null};ps.displayName="Cell";function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(r),!0).forEach(function(n){sQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sQ(e,t,r){return t=oQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oQ(e){var t=lQ(e,"string");return Du(t)=="symbol"?t:t+""}function lQ(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xs={widthCache:{},cacheCount:0},cQ=2e3,uQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sj="recharts_measurement_span";function dQ(e){var t=pv({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Gc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zs.isSsr)return{width:0,height:0};var n=dQ(r),a=JSON.stringify({text:t,copyStyle:n});if(Xs.widthCache[a])return Xs.widthCache[a];try{var i=document.getElementById(sj);i||(i=document.createElement("span"),i.setAttribute("id",sj),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=pv(pv({},uQ),n);Object.assign(i.style,s),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Xs.widthCache[a]=c,++Xs.cacheCount>cQ&&(Xs.cacheCount=0,Xs.widthCache={}),c}catch{return{width:0,height:0}}},fQ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function Wh(e,t){return gQ(e)||mQ(e,t)||pQ(e,t)||hQ()}function hQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pQ(e,t){if(e){if(typeof e=="string")return oj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oj(e,t)}}function oj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function gQ(e){if(Array.isArray(e))return e}function yQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xQ(n.key),n)}}function vQ(e,t,r){return t&&lj(e.prototype,t),r&&lj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xQ(e){var t=bQ(e,"string");return Lu(t)=="symbol"?t:t+""}function bQ(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_Q=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kQ=Object.keys(RE),So="NaN";function jQ(e,t){return e*RE[t]}var gf=function(){function e(t,r){yQ(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!_Q.test(r)&&(this.num=NaN,this.unit=""),kQ.includes(r)&&(this.num=jQ(t,r),this.unit="px")}return vQ(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=wQ.exec(r))!==null&&n!==void 0?n:[],i=Wh(a,3),s=i[1],l=i[2];return new e(parseFloat(s),l??"")}}])}();function IE(e){if(e.includes(So))return So;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=cj.exec(t))!==null&&r!==void 0?r:[],a=Wh(n,4),i=a[1],s=a[2],l=a[3],c=gf.parse(i??""),u=gf.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return So;t=t.replace(cj,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=uj.exec(t))!==null&&f!==void 0?f:[],p=Wh(h,4),m=p[1],y=p[2],v=p[3],x=gf.parse(m??""),g=gf.parse(v??""),_=y==="+"?x.add(g):x.subtract(g);if(_.isNaN())return So;t=t.replace(uj,_.toString())}return t}var dj=/\(([^()]*)\)/;function SQ(e){for(var t=e;t.includes("(");){var r=dj.exec(t),n=Wh(r,2),a=n[1];t=t.replace(dj,IE(a))}return t}function NQ(e){var t=e.replace(/\s+/g,"");return t=SQ(t),t=IE(t),t}function OQ(e){try{return NQ(e)}catch{return So}}function Yg(e){var t=OQ(e.slice(5,-1));return t===So?"":t}var AQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PQ=["dx","dy","angle","className","breakAll"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(this,arguments)}function fj(e,t){if(e==null)return{};var r=EQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hj(e,t){return RQ(e)||$Q(e,t)||TQ(e,t)||CQ()}function CQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(e,t){if(e){if(typeof e=="string")return pj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pj(e,t)}}function pj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Q(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function RQ(e){if(Array.isArray(e))return e}var ME=/[ \f\n\r\t\v\u2028\u2029]+/,DE=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];we(r)||(n?i=r.toString().split(""):i=r.toString().split(ME));var s=i.map(function(c){return{word:c,width:Gc(c,a).width}}),l=n?0:Gc("",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},IQ=function(t,r,n,a,i){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Z(s),f=l,h=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A.reduce(function(D,E){var $=E.word,P=E.width,z=D[D.length-1];if(z&&(a==null||i||z.width+P+n<Number(a)))z.words.push($),z.width+=P+n;else{var B={words:[$],width:P};D.push(B)}return D},[])},p=h(r),m=function(A){return A.reduce(function(D,E){return D.width>E.width?D:E})};if(!d)return p;for(var y="",v=function(A){var D=f.slice(0,A),E=DE({breakAll:u,style:c,children:D+y}).wordsWithComputedWidth,$=h(E),P=$.length>s||m($).width>Number(a);return[P,$]},x=0,g=f.length-1,_=0,k;x<=g&&_<=f.length-1;){var w=Math.floor((x+g)/2),b=w-1,S=v(b),j=hj(S,2),O=j[0],C=j[1],T=v(w),M=hj(T,1),L=M[0];if(!O&&!L&&(x=w+1),O&&L&&(g=w-1),!O&&L){k=C;break}_++}return k||p},mj=function(t){var r=we(t)?[]:t.toString().split(ME);return[{words:r}]},MQ=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!zs.isSsr){var c,u,d=DE({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return mj(a);return IQ({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return mj(a)},gj="#808080",Es=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,y=m===void 0?"end":m,v=t.fill,x=v===void 0?gj:v,g=fj(t,AQ),_=N.useMemo(function(){return MQ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),k=g.dx,w=g.dy,b=g.angle,S=g.className,j=g.breakAll,O=fj(g,PQ);if(!Nt(n)||!Nt(i))return null;var C=n+(Z(k)?k:0),T=i+(Z(w)?w:0),M;switch(y){case"start":M=Yg("calc(".concat(u,")"));break;case"middle":M=Yg("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=Yg("calc(".concat(_.length-1," * -").concat(l,")"));break}var L=[];if(f){var U=_[0].width,A=g.width;L.push("scale(".concat((Z(A)?A/U:1)/U,")"))}return b&&L.push("rotate(".concat(b,", ").concat(C,", ").concat(T,")")),L.length&&(O.transform=L.join(" ")),R.createElement("text",mv({},he(O,!0),{x:C,y:T,className:je("recharts-text",S),textAnchor:p,fill:x.includes("url")?gj:x}),_.map(function(D,E){var $=D.words.join(j?"":" ");return R.createElement("tspan",{x:C,dy:E===0?M:l,key:"".concat($,"-").concat(E)},$)}))};function vi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zb(e){let t,r,n;e.length!==2?(t=vi,r=(l,c)=>vi(e(l),c),n=(l,c)=>e(l)-c):(t=e===vi||e===DQ?e:LQ,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function LQ(){return 0}function LE(e){return e===null?NaN:+e}function*zQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const BQ=Zb(vi),Ed=BQ.right;Zb(LE).center;class yj extends Map{constructor(t,r=qQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(vj(this,t))}has(t){return super.has(vj(this,t))}set(t,r){return super.set(FQ(this,t),r)}delete(t){return super.delete(UQ(this,t))}}function vj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function FQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function UQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function qQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function KQ(e=vi){if(e===vi)return zE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function zE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const WQ=Math.sqrt(50),HQ=Math.sqrt(10),VQ=Math.sqrt(2);function Hh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=WQ?10:i>=HQ?5:i>=VQ?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Hh(e,t,r*2):[l,c,u]}function gv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Hh(t,e,r):Hh(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function yv(e,t,r){return t=+t,e=+e,r=+r,Hh(e,t,r)[2]}function vv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?yv(t,e,r):yv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function xj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function bj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function BE(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?zE:KQ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),m=Math.min(n,Math.floor(t+(c-u)*f/c+h));BE(e,t,p,m,a)}const i=e[t];let s=r,l=n;for(bc(e,r,t),a(e[n],i)>0&&bc(e,r,n);s<l;){for(bc(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?bc(e,r,l):(++l,bc(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function bc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function GQ(e,t,r){if(e=Float64Array.from(zQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return bj(e);if(t>=1)return xj(e);var n,a=(n-1)*t,i=Math.floor(a),s=xj(BE(e,i).subarray(0,i+1)),l=bj(e.subarray(i+1));return s+(l-s)*(a-i)}}function QQ(e,t,r=LE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function YQ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function on(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function $a(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xv=Symbol("implicit");function e_(){var e=new yj,t=[],r=[],n=xv;function a(i){let s=e.get(i);if(s===void 0){if(n!==xv)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new yj;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return e_(t,r).unknown(n)},on.apply(a,arguments),a}function zu(){var e=e_().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,y=p?n:a;i=(y-m)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),m+=(y-m-i*(h-c))*d,s=i*(1-c),l&&(m=Math.round(m),s=Math.round(s));var v=YQ(h).map(function(x){return m+i*x});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return zu(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},on.apply(f(),arguments)}function FE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return FE(t())},e}function Qc(){return FE(zu.apply(null,arguments).paddingInner(1))}function t_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function UE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Cd(){}var Bu=.7,Vh=1/Bu,zo="\\s*([+-]?\\d+)\\s*",Fu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JQ=/^#([0-9a-f]{3,8})$/,XQ=new RegExp(`^rgb\\(${zo},${zo},${zo}\\)$`),ZQ=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),eY=new RegExp(`^rgba\\(${zo},${zo},${zo},${Fu}\\)$`),tY=new RegExp(`^rgba\\(${qn},${qn},${qn},${Fu}\\)$`),rY=new RegExp(`^hsl\\(${Fu},${qn},${qn}\\)$`),nY=new RegExp(`^hsla\\(${Fu},${qn},${qn},${Fu}\\)$`),_j={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t_(Cd,Uu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wj,formatHex:wj,formatHex8:aY,formatHsl:iY,formatRgb:kj,toString:kj});function wj(){return this.rgb().formatHex()}function aY(){return this.rgb().formatHex8()}function iY(){return qE(this).formatHsl()}function kj(){return this.rgb().formatRgb()}function Uu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=JQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?jj(t):r===3?new pr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XQ.exec(e))?new pr(t[1],t[2],t[3],1):(t=ZQ.exec(e))?new pr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eY.exec(e))?yf(t[1],t[2],t[3],t[4]):(t=tY.exec(e))?yf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rY.exec(e))?Oj(t[1],t[2]/100,t[3]/100,1):(t=nY.exec(e))?Oj(t[1],t[2]/100,t[3]/100,t[4]):_j.hasOwnProperty(e)?jj(_j[e]):e==="transparent"?new pr(NaN,NaN,NaN,0):null}function jj(e){return new pr(e>>16&255,e>>8&255,e&255,1)}function yf(e,t,r,n){return n<=0&&(e=t=r=NaN),new pr(e,t,r,n)}function sY(e){return e instanceof Cd||(e=Uu(e)),e?(e=e.rgb(),new pr(e.r,e.g,e.b,e.opacity)):new pr}function bv(e,t,r,n){return arguments.length===1?sY(e):new pr(e,t,r,n??1)}function pr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}t_(pr,bv,UE(Cd,{brighter(e){return e=e==null?Vh:Math.pow(Vh,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bu:Math.pow(Bu,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pr(ms(this.r),ms(this.g),ms(this.b),Gh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sj,formatHex:Sj,formatHex8:oY,formatRgb:Nj,toString:Nj}));function Sj(){return`#${Zi(this.r)}${Zi(this.g)}${Zi(this.b)}`}function oY(){return`#${Zi(this.r)}${Zi(this.g)}${Zi(this.b)}${Zi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nj(){const e=Gh(this.opacity);return`${e===1?"rgb(":"rgba("}${ms(this.r)}, ${ms(this.g)}, ${ms(this.b)}${e===1?")":`, ${e})`}`}function Gh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ms(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zi(e){return e=ms(e),(e<16?"0":"")+e.toString(16)}function Oj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xn(e,t,r,n)}function qE(e){if(e instanceof xn)return new xn(e.h,e.s,e.l,e.opacity);if(e instanceof Cd||(e=Uu(e)),!e)return new xn;if(e instanceof xn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new xn(s,l,c,e.opacity)}function lY(e,t,r,n){return arguments.length===1?qE(e):new xn(e,t,r,n??1)}function xn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}t_(xn,lY,UE(Cd,{brighter(e){return e=e==null?Vh:Math.pow(Vh,e),new xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bu:Math.pow(Bu,e),new xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new pr(Jg(e>=240?e-240:e+120,a,n),Jg(e,a,n),Jg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new xn(Aj(this.h),vf(this.s),vf(this.l),Gh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gh(this.opacity);return`${e===1?"hsl(":"hsla("}${Aj(this.h)}, ${vf(this.s)*100}%, ${vf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Aj(e){return e=(e||0)%360,e<0?e+360:e}function vf(e){return Math.max(0,Math.min(1,e||0))}function Jg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const r_=e=>()=>e;function cY(e,t){return function(r){return e+r*t}}function uY(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function dY(e){return(e=+e)==1?KE:function(t,r){return r-t?uY(t,r,e):r_(isNaN(t)?r:t)}}function KE(e,t){var r=t-e;return r?cY(e,r):r_(isNaN(e)?t:e)}const Pj=function e(t){var r=dY(t);function n(a,i){var s=r((a=bv(a)).r,(i=bv(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=KE(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function fY(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function hY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pY(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=rc(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function mY(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Qh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function gY(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=rc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var _v=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xg=new RegExp(_v.source,"g");function yY(e){return function(){return e}}function vY(e){return function(t){return e(t)+""}}function xY(e,t){var r=_v.lastIndex=Xg.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=_v.exec(e))&&(a=Xg.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:Qh(n,a)})),r=Xg.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?vY(c[0].x):yY(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function rc(e,t){var r=typeof t,n;return t==null||r==="boolean"?r_(t):(r==="number"?Qh:r==="string"?(n=Uu(t))?(t=n,Pj):xY:t instanceof Uu?Pj:t instanceof Date?mY:hY(t)?fY:Array.isArray(t)?pY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gY:Qh)(e,t)}function n_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function bY(e,t){t===void 0&&(t=e,e=rc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function _Y(e){return function(){return e}}function Yh(e){return+e}var Ej=[0,1];function nr(e){return e}function wv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:_Y(isNaN(t)?NaN:.5)}function wY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kY(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=wv(a,n),i=r(s,i)):(n=wv(n,a),i=r(i,s)),function(l){return i(n(l))}}function jY(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=wv(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=Ed(e,l,1,n)-1;return i[c](a[c](l))}}function Td(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Em(){var e=Ej,t=Ej,r=rc,n,a,i,s=nr,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==nr&&(s=wY(e[0],e[h-1])),l=h>2?jY:kY,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=l(t,e.map(n),Qh)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Yh),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=n_,d()},f.clamp=function(h){return arguments.length?(s=h?!0:nr,d()):s!==nr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function a_(){return Em()(nr,nr)}function SY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jh(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ml(e){return e=Jh(Math.abs(e)),e?e[1]:NaN}function NY(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function OY(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var AY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qu(e){if(!(t=AY.exec(e)))throw new Error("invalid format: "+e);var t;return new i_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qu.prototype=i_.prototype;function i_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}i_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PY(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Xh;function EY(e,t){var r=Jh(e,t);if(!r)return Xh=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Xh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Jh(e,Math.max(0,t+i-1))[0]}function Cj(e,t){var r=Jh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Tj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:SY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Cj(e*100,t),r:Cj,s:EY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $j(e){return e}var Rj=Array.prototype.map,Ij=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function CY(e){var t=e.grouping===void 0||e.thousands===void 0?$j:NY(Rj.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?$j:OY(Rj.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=qu(f);var p=f.fill,m=f.align,y=f.sign,v=f.symbol,x=f.zero,g=f.width,_=f.comma,k=f.precision,w=f.trim,b=f.type;b==="n"?(_=!0,b="g"):Tj[b]||(k===void 0&&(k=12),w=!0,b="g"),(x||p==="0"&&m==="=")&&(x=!0,p="0",m="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():""),j=(v==="$"?n:/[%p]/.test(b)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),O=Tj[b],C=/[defgprs%]/.test(b);k=k===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function T(M){var L=S,U=j,A,D,E;if(b==="c")U=O(M)+U,M="";else{M=+M;var $=M<0||1/M<0;if(M=isNaN(M)?c:O(Math.abs(M),k),w&&(M=PY(M)),$&&+M==0&&y!=="+"&&($=!1),L=($?y==="("?y:l:y==="-"||y==="("?"":y)+L,U=(b==="s"&&!isNaN(M)&&Xh!==void 0?Ij[8+Xh/3]:"")+U+($&&y==="("?")":""),C){for(A=-1,D=M.length;++A<D;)if(E=M.charCodeAt(A),48>E||E>57){U=(E===46?a+M.slice(A+1):M.slice(A))+U,M=M.slice(0,A);break}}}_&&!x&&(M=t(M,1/0));var P=L.length+M.length+U.length,z=P<g?new Array(g-P+1).join(p):"";switch(_&&x&&(M=t(z+M,z.length?g-U.length:1/0),z=""),m){case"<":M=L+M+U+z;break;case"=":M=L+z+M+U;break;case"^":M=z.slice(0,P=z.length>>1)+L+M+U+z.slice(P);break;default:M=z+L+M+U;break}return i(M)}return T.toString=function(){return f+""},T}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(ml(h)/3)))*3,m=Math.pow(10,-p),y=u((f=qu(f),f.type="f",f),{suffix:Ij[8+p/3]});return function(v){return y(m*v)}}return{format:u,formatPrefix:d}}var xf,s_,WE;TY({thousands:",",grouping:[3],currency:["$",""]});function TY(e){return xf=CY(e),s_=xf.format,WE=xf.formatPrefix,xf}function $Y(e){return Math.max(0,-ml(Math.abs(e)))}function RY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ml(t)/3)))*3-ml(Math.abs(e)))}function IY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ml(t)-ml(e))+1}function HE(e,t,r,n){var a=vv(e,t,r),i;switch(n=qu(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=RY(a,s))&&(n.precision=i),WE(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=IY(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=$Y(a))&&(n.precision=i-(n.type==="%")*2);break}}return s_(n)}function Pi(e){var t=e.domain;return e.ticks=function(r){var n=t();return gv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return HE(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=yv(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Zh(){var e=a_();return e.copy=function(){return Td(e,Zh())},on.apply(e,arguments),Pi(e)}function VE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return VE(e).unknown(t)},e=arguments.length?Array.from(e,Yh):[0,1],Pi(r)}function GE(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Mj(e){return Math.log(e)}function Dj(e){return Math.exp(e)}function MY(e){return-Math.log(-e)}function DY(e){return-Math.exp(-e)}function LY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zY(e){return e===10?LY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function BY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Lj(e){return(t,r)=>-e(-t,r)}function o_(e){const t=e(Mj,Dj),r=t.domain;let n=10,a,i;function s(){return a=BY(n),i=zY(n),r()[0]<0?(a=Lj(a),i=Lj(i),e(MY,DY)):e(Mj,Dj),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),m,y;const v=l==null?10:+l;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(y=h<0?m/i(-h):m*i(h),!(y<u)){if(y>d)break;x.push(y)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(y=h>0?m/i(-h):m*i(h),!(y<u)){if(y>d)break;x.push(y)}x.length*2<v&&(x=gv(u,d,v))}else x=gv(h,p,Math.min(p-h,v)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=qu(c)).precision==null&&(c.trim=!0),c=s_(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(GE(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function QE(){const e=o_(Em()).domain([1,10]);return e.copy=()=>Td(e,QE()).base(e.base()),on.apply(e,arguments),e}function zj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Bj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function l_(e){var t=1,r=e(zj(t),Bj(t));return r.constant=function(n){return arguments.length?e(zj(t=+n),Bj(t)):t},Pi(r)}function YE(){var e=l_(Em());return e.copy=function(){return Td(e,YE()).constant(e.constant())},on.apply(e,arguments)}function Fj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function FY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function UY(e){return e<0?-e*e:e*e}function c_(e){var t=e(nr,nr),r=1;function n(){return r===1?e(nr,nr):r===.5?e(FY,UY):e(Fj(r),Fj(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Pi(t)}function u_(){var e=c_(Em());return e.copy=function(){return Td(e,u_()).exponent(e.exponent())},on.apply(e,arguments),e}function qY(){return u_.apply(null,arguments).exponent(.5)}function Uj(e){return Math.sign(e)*e*e}function KY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JE(){var e=a_(),t=[0,1],r=!1,n;function a(i){var s=KY(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(Uj(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Yh)).map(Uj)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return JE(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},on.apply(a,arguments),Pi(a)}function XE(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=QQ(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Ed(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(vi),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return XE().domain(e).range(t).unknown(n)},on.apply(i,arguments)}function ZE(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Ed(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return ZE().domain([e,t]).range(a).unknown(i)},on.apply(Pi(s),arguments)}function eC(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Ed(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return eC().domain(e).range(t).unknown(r)},on.apply(a,arguments)}const Zg=new Date,e0=new Date;function Ot(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>Ot(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Zg.setTime(+i),e0.setTime(+s),e(Zg),e(e0),Math.floor(r(Zg,e0))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const ep=Ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ep.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ep);ep.range;const da=1e3,Jr=da*60,fa=Jr*60,ja=fa*24,d_=ja*7,qj=ja*30,t0=ja*365,es=Ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getUTCSeconds());es.range;const f_=Ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*da)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getMinutes());f_.range;const h_=Ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getUTCMinutes());h_.range;const p_=Ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*da-e.getMinutes()*Jr)},(e,t)=>{e.setTime(+e+t*fa)},(e,t)=>(t-e)/fa,e=>e.getHours());p_.range;const m_=Ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fa)},(e,t)=>(t-e)/fa,e=>e.getUTCHours());m_.range;const $d=Ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jr)/ja,e=>e.getDate()-1);$d.range;const Cm=Ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ja,e=>e.getUTCDate()-1);Cm.range;const tC=Ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ja,e=>Math.floor(e/ja));tC.range;function Bs(e){return Ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Jr)/d_)}const Tm=Bs(0),tp=Bs(1),WY=Bs(2),HY=Bs(3),gl=Bs(4),VY=Bs(5),GY=Bs(6);Tm.range;tp.range;WY.range;HY.range;gl.range;VY.range;GY.range;function Fs(e){return Ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/d_)}const $m=Fs(0),rp=Fs(1),QY=Fs(2),YY=Fs(3),yl=Fs(4),JY=Fs(5),XY=Fs(6);$m.range;rp.range;QY.range;YY.range;yl.range;JY.range;XY.range;const g_=Ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());g_.range;const y_=Ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());y_.range;const Sa=Ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Sa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Sa.range;const Na=Ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Na.range;function rC(e,t,r,n,a,i){const s=[[es,1,da],[es,5,5*da],[es,15,15*da],[es,30,30*da],[i,1,Jr],[i,5,5*Jr],[i,15,15*Jr],[i,30,30*Jr],[a,1,fa],[a,3,3*fa],[a,6,6*fa],[a,12,12*fa],[n,1,ja],[n,2,2*ja],[r,1,d_],[t,1,qj],[t,3,3*qj],[e,1,t0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function c(u,d,f){const h=Math.abs(d-u)/f,p=Zb(([,,v])=>v).right(s,h);if(p===s.length)return e.every(vv(u/t0,d/t0,f));if(p===0)return ep.every(Math.max(vv(u,d,f),1));const[m,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(y)}return[l,c]}const[ZY,eJ]=rC(Na,y_,$m,tC,m_,h_),[tJ,rJ]=rC(Sa,g_,Tm,$d,p_,f_);function r0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function n0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _c(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function nJ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=wc(a),d=kc(a),f=wc(i),h=kc(i),p=wc(s),m=kc(s),y=wc(l),v=kc(l),x=wc(c),g=kc(c),_={a:E,A:$,b:P,B:z,c:null,d:Qj,e:Qj,f:NJ,g:MJ,G:LJ,H:kJ,I:jJ,j:SJ,L:nC,m:OJ,M:AJ,p:B,q,Q:Xj,s:Zj,S:PJ,u:EJ,U:CJ,V:TJ,w:$J,W:RJ,x:null,X:null,y:IJ,Y:DJ,Z:zJ,"%":Jj},k={a:X,A:F,b:J,B:K,c:null,d:Yj,e:Yj,f:qJ,g:ZJ,G:tX,H:BJ,I:FJ,j:UJ,L:iC,m:KJ,M:WJ,p:ae,q:se,Q:Xj,s:Zj,S:HJ,u:VJ,U:GJ,V:QJ,w:YJ,W:JJ,x:null,X:null,y:XJ,Y:eX,Z:rX,"%":Jj},w={a:C,A:T,b:M,B:L,c:U,d:Vj,e:Vj,f:xJ,g:Hj,G:Wj,H:Gj,I:Gj,j:mJ,L:vJ,m:pJ,M:gJ,p:O,q:hJ,Q:_J,s:wJ,S:yJ,u:lJ,U:cJ,V:uJ,w:oJ,W:dJ,x:A,X:D,y:Hj,Y:Wj,Z:fJ,"%":bJ};_.x=b(r,_),_.X=b(n,_),_.c=b(t,_),k.x=b(r,k),k.X=b(n,k),k.c=b(t,k);function b(Y,te){return function(ce){var G=[],be=-1,Se=0,Ue=Y.length,Ke,Ee,qt;for(ce instanceof Date||(ce=new Date(+ce));++be<Ue;)Y.charCodeAt(be)===37&&(G.push(Y.slice(Se,be)),(Ee=Kj[Ke=Y.charAt(++be)])!=null?Ke=Y.charAt(++be):Ee=Ke==="e"?" ":"0",(qt=te[Ke])&&(Ke=qt(ce,Ee)),G.push(Ke),Se=be+1);return G.push(Y.slice(Se,be)),G.join("")}}function S(Y,te){return function(ce){var G=_c(1900,void 0,1),be=j(G,Y,ce+="",0),Se,Ue;if(be!=ce.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(te&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Se=n0(_c(G.y,0,1)),Ue=Se.getUTCDay(),Se=Ue>4||Ue===0?rp.ceil(Se):rp(Se),Se=Cm.offset(Se,(G.V-1)*7),G.y=Se.getUTCFullYear(),G.m=Se.getUTCMonth(),G.d=Se.getUTCDate()+(G.w+6)%7):(Se=r0(_c(G.y,0,1)),Ue=Se.getDay(),Se=Ue>4||Ue===0?tp.ceil(Se):tp(Se),Se=$d.offset(Se,(G.V-1)*7),G.y=Se.getFullYear(),G.m=Se.getMonth(),G.d=Se.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Ue="Z"in G?n0(_c(G.y,0,1)).getUTCDay():r0(_c(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Ue+5)%7:G.w+G.U*7-(Ue+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,n0(G)):r0(G)}}function j(Y,te,ce,G){for(var be=0,Se=te.length,Ue=ce.length,Ke,Ee;be<Se;){if(G>=Ue)return-1;if(Ke=te.charCodeAt(be++),Ke===37){if(Ke=te.charAt(be++),Ee=w[Ke in Kj?te.charAt(be++):Ke],!Ee||(G=Ee(Y,ce,G))<0)return-1}else if(Ke!=ce.charCodeAt(G++))return-1}return G}function O(Y,te,ce){var G=u.exec(te.slice(ce));return G?(Y.p=d.get(G[0].toLowerCase()),ce+G[0].length):-1}function C(Y,te,ce){var G=p.exec(te.slice(ce));return G?(Y.w=m.get(G[0].toLowerCase()),ce+G[0].length):-1}function T(Y,te,ce){var G=f.exec(te.slice(ce));return G?(Y.w=h.get(G[0].toLowerCase()),ce+G[0].length):-1}function M(Y,te,ce){var G=x.exec(te.slice(ce));return G?(Y.m=g.get(G[0].toLowerCase()),ce+G[0].length):-1}function L(Y,te,ce){var G=y.exec(te.slice(ce));return G?(Y.m=v.get(G[0].toLowerCase()),ce+G[0].length):-1}function U(Y,te,ce){return j(Y,t,te,ce)}function A(Y,te,ce){return j(Y,r,te,ce)}function D(Y,te,ce){return j(Y,n,te,ce)}function E(Y){return s[Y.getDay()]}function $(Y){return i[Y.getDay()]}function P(Y){return c[Y.getMonth()]}function z(Y){return l[Y.getMonth()]}function B(Y){return a[+(Y.getHours()>=12)]}function q(Y){return 1+~~(Y.getMonth()/3)}function X(Y){return s[Y.getUTCDay()]}function F(Y){return i[Y.getUTCDay()]}function J(Y){return c[Y.getUTCMonth()]}function K(Y){return l[Y.getUTCMonth()]}function ae(Y){return a[+(Y.getUTCHours()>=12)]}function se(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var te=b(Y+="",_);return te.toString=function(){return Y},te},parse:function(Y){var te=S(Y+="",!1);return te.toString=function(){return Y},te},utcFormat:function(Y){var te=b(Y+="",k);return te.toString=function(){return Y},te},utcParse:function(Y){var te=S(Y+="",!0);return te.toString=function(){return Y},te}}}var Kj={"-":"",_:" ",0:"0"},It=/^\s*\d+/,aJ=/^%/,iJ=/[\\^$*+?|[\]().{}]/g;function Re(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function sJ(e){return e.replace(iJ,"\\$&")}function wc(e){return new RegExp("^(?:"+e.map(sJ).join("|")+")","i")}function kc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function oJ(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function lJ(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function cJ(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function uJ(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function dJ(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Wj(e,t,r){var n=It.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Hj(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function fJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function hJ(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function pJ(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Vj(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function mJ(e,t,r){var n=It.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Gj(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function gJ(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function yJ(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function vJ(e,t,r){var n=It.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function xJ(e,t,r){var n=It.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function bJ(e,t,r){var n=aJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function _J(e,t,r){var n=It.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function wJ(e,t,r){var n=It.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Qj(e,t){return Re(e.getDate(),t,2)}function kJ(e,t){return Re(e.getHours(),t,2)}function jJ(e,t){return Re(e.getHours()%12||12,t,2)}function SJ(e,t){return Re(1+$d.count(Sa(e),e),t,3)}function nC(e,t){return Re(e.getMilliseconds(),t,3)}function NJ(e,t){return nC(e,t)+"000"}function OJ(e,t){return Re(e.getMonth()+1,t,2)}function AJ(e,t){return Re(e.getMinutes(),t,2)}function PJ(e,t){return Re(e.getSeconds(),t,2)}function EJ(e){var t=e.getDay();return t===0?7:t}function CJ(e,t){return Re(Tm.count(Sa(e)-1,e),t,2)}function aC(e){var t=e.getDay();return t>=4||t===0?gl(e):gl.ceil(e)}function TJ(e,t){return e=aC(e),Re(gl.count(Sa(e),e)+(Sa(e).getDay()===4),t,2)}function $J(e){return e.getDay()}function RJ(e,t){return Re(tp.count(Sa(e)-1,e),t,2)}function IJ(e,t){return Re(e.getFullYear()%100,t,2)}function MJ(e,t){return e=aC(e),Re(e.getFullYear()%100,t,2)}function DJ(e,t){return Re(e.getFullYear()%1e4,t,4)}function LJ(e,t){var r=e.getDay();return e=r>=4||r===0?gl(e):gl.ceil(e),Re(e.getFullYear()%1e4,t,4)}function zJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Re(t/60|0,"0",2)+Re(t%60,"0",2)}function Yj(e,t){return Re(e.getUTCDate(),t,2)}function BJ(e,t){return Re(e.getUTCHours(),t,2)}function FJ(e,t){return Re(e.getUTCHours()%12||12,t,2)}function UJ(e,t){return Re(1+Cm.count(Na(e),e),t,3)}function iC(e,t){return Re(e.getUTCMilliseconds(),t,3)}function qJ(e,t){return iC(e,t)+"000"}function KJ(e,t){return Re(e.getUTCMonth()+1,t,2)}function WJ(e,t){return Re(e.getUTCMinutes(),t,2)}function HJ(e,t){return Re(e.getUTCSeconds(),t,2)}function VJ(e){var t=e.getUTCDay();return t===0?7:t}function GJ(e,t){return Re($m.count(Na(e)-1,e),t,2)}function sC(e){var t=e.getUTCDay();return t>=4||t===0?yl(e):yl.ceil(e)}function QJ(e,t){return e=sC(e),Re(yl.count(Na(e),e)+(Na(e).getUTCDay()===4),t,2)}function YJ(e){return e.getUTCDay()}function JJ(e,t){return Re(rp.count(Na(e)-1,e),t,2)}function XJ(e,t){return Re(e.getUTCFullYear()%100,t,2)}function ZJ(e,t){return e=sC(e),Re(e.getUTCFullYear()%100,t,2)}function eX(e,t){return Re(e.getUTCFullYear()%1e4,t,4)}function tX(e,t){var r=e.getUTCDay();return e=r>=4||r===0?yl(e):yl.ceil(e),Re(e.getUTCFullYear()%1e4,t,4)}function rX(){return"+0000"}function Jj(){return"%"}function Xj(e){return+e}function Zj(e){return Math.floor(+e/1e3)}var Zs,oC,lC;nX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nX(e){return Zs=nJ(e),oC=Zs.format,Zs.parse,lC=Zs.utcFormat,Zs.utcParse,Zs}function aX(e){return new Date(e)}function iX(e){return e instanceof Date?+e:+new Date(+e)}function v_(e,t,r,n,a,i,s,l,c,u){var d=a_(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),y=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),g=u("%b %d"),_=u("%B"),k=u("%Y");function w(b){return(c(b)<b?p:l(b)<b?m:s(b)<b?y:i(b)<b?v:n(b)<b?a(b)<b?x:g:r(b)<b?_:k)(b)}return d.invert=function(b){return new Date(f(b))},d.domain=function(b){return arguments.length?h(Array.from(b,iX)):h().map(aX)},d.ticks=function(b){var S=h();return e(S[0],S[S.length-1],b??10)},d.tickFormat=function(b,S){return S==null?w:u(S)},d.nice=function(b){var S=h();return(!b||typeof b.range!="function")&&(b=t(S[0],S[S.length-1],b??10)),b?h(GE(S,b)):d},d.copy=function(){return Td(d,v_(e,t,r,n,a,i,s,l,c,u))},d}function sX(){return on.apply(v_(tJ,rJ,Sa,g_,Tm,$d,p_,f_,es,oC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oX(){return on.apply(v_(ZY,eJ,Na,y_,$m,Cm,m_,h_,es,lC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rm(){var e=0,t=1,r,n,a,i,s=nr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),u):[s(0),s(1)]}}return u.range=d(rc),u.rangeRound=d(n_),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ei(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cC(){var e=Pi(Rm()(nr));return e.copy=function(){return Ei(e,cC())},$a.apply(e,arguments)}function uC(){var e=o_(Rm()).domain([1,10]);return e.copy=function(){return Ei(e,uC()).base(e.base())},$a.apply(e,arguments)}function dC(){var e=l_(Rm());return e.copy=function(){return Ei(e,dC()).constant(e.constant())},$a.apply(e,arguments)}function x_(){var e=c_(Rm());return e.copy=function(){return Ei(e,x_()).exponent(e.exponent())},$a.apply(e,arguments)}function lX(){return x_.apply(null,arguments).exponent(.5)}function fC(){var e=[],t=nr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ed(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(vi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>GQ(e,i/n))},r.copy=function(){return fC(t).domain(e)},$a.apply(r,arguments)}function Im(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=nr,d,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(n*y<n*i?l:c),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function m(y){return function(v){var x,g,_;return arguments.length?([x,g,_]=v,u=bY(y,[x,g,_]),p):[u(0),u(.5),u(1)]}}return p.range=m(rc),p.rangeRound=m(n_),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return d=y,a=y(e),i=y(t),s=y(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function hC(){var e=Pi(Im()(nr));return e.copy=function(){return Ei(e,hC())},$a.apply(e,arguments)}function pC(){var e=o_(Im()).domain([.1,1,10]);return e.copy=function(){return Ei(e,pC()).base(e.base())},$a.apply(e,arguments)}function mC(){var e=l_(Im());return e.copy=function(){return Ei(e,mC()).constant(e.constant())},$a.apply(e,arguments)}function b_(){var e=c_(Im());return e.copy=function(){return Ei(e,b_()).exponent(e.exponent())},$a.apply(e,arguments)}function cX(){return b_.apply(null,arguments).exponent(.5)}const eS=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zu,scaleDiverging:hC,scaleDivergingLog:pC,scaleDivergingPow:b_,scaleDivergingSqrt:cX,scaleDivergingSymlog:mC,scaleIdentity:VE,scaleImplicit:xv,scaleLinear:Zh,scaleLog:QE,scaleOrdinal:e_,scalePoint:Qc,scalePow:u_,scaleQuantile:XE,scaleQuantize:ZE,scaleRadial:JE,scaleSequential:cC,scaleSequentialLog:uC,scaleSequentialPow:x_,scaleSequentialQuantile:fC,scaleSequentialSqrt:lX,scaleSequentialSymlog:dC,scaleSqrt:qY,scaleSymlog:YE,scaleThreshold:eC,scaleTime:sX,scaleUtc:oX,tickFormat:HE},Symbol.toStringTag,{value:"Module"}));var uX=Hl;function dX(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(l===void 0?s===s&&!uX(s):r(s,l)))var l=s,c=i}return c}var Mm=dX;function fX(e,t){return e>t}var gC=fX,hX=Mm,pX=gC,mX=tc;function gX(e){return e&&e.length?hX(e,mX,pX):void 0}var yX=gX;const si=De(yX);function vX(e,t){return e<t}var yC=vX,xX=Mm,bX=yC,_X=tc;function wX(e){return e&&e.length?xX(e,_X,bX):void 0}var kX=wX;const Dm=De(kX);var jX=Rb,SX=Jn,NX=NE,OX=kr;function AX(e,t){var r=OX(e)?jX:NX;return r(e,SX(t))}var PX=AX,EX=jE,CX=PX;function TX(e,t){return EX(CX(e,t),1)}var $X=TX;const RX=De($X);var IX=Qb;function MX(e,t){return IX(e,t)}var DX=MX;const vl=De(DX);var nc=1e9,LX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},w_,rt=!0,an="[DecimalError] ",gs=an+"Invalid argument: ",__=an+"Exponent out of range: ",ac=Math.floor,Ui=Math.pow,zX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Er,Ct=1e7,Ze=7,vC=9007199254740991,np=ac(vC/Ze),le={};le.absoluteValue=le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};le.comparedTo=le.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};le.decimalPlaces=le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ze;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(e){return ga(this,new this.constructor(e))};le.dividedToIntegerBy=le.idiv=function(e){var t=this,r=t.constructor;return We(ga(t,new r(e),0,1),r.precision)};le.equals=le.eq=function(e){return!this.cmp(e)};le.exponent=function(){return vt(this)};le.greaterThan=le.gt=function(e){return this.cmp(e)>0};le.greaterThanOrEqualTo=le.gte=function(e){return this.cmp(e)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(e){return this.cmp(e)<0};le.lessThanOrEqualTo=le.lte=function(e){return this.cmp(e)<1};le.logarithm=le.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Er))throw Error(an+"NaN");if(r.s<1)throw Error(an+(r.s?"NaN":"-Infinity"));return r.eq(Er)?new n(0):(rt=!1,t=ga(Ku(r,i),Ku(e,i),i),rt=!0,We(t,a))};le.minus=le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_C(t,e):xC(t,(e.s=-e.s,e))};le.modulo=le.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(an+"NaN");return r.s?(rt=!1,t=ga(r,e,0,1).times(e),rt=!0,r.minus(t)):We(new n(r),a)};le.naturalExponential=le.exp=function(){return bC(this)};le.naturalLogarithm=le.ln=function(){return Ku(this)};le.negated=le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};le.plus=le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xC(t,e):_C(t,(e.s=-e.s,e))};le.precision=le.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gs+e);if(t=vt(a)+1,n=a.d.length-1,r=n*Ze+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};le.squareRoot=le.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(an+"NaN")}for(e=vt(l),rt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=zn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ac((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(ga(l,i,s+2)).times(.5),zn(i.d).slice(0,s)===(t=zn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(We(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return rt=!0,We(n,r)};le.times=le.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%Ct|0,t=l/Ct|0;i[a]=(i[a]+t)%Ct|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,rt?We(e,f.precision):e};le.toDecimalPlaces=le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Vn(e,0,nc),t===void 0?t=n.rounding:Vn(t,0,8),We(r,e+vt(r)+1,t))};le.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Cs(n,!0):(Vn(e,0,nc),t===void 0?t=a.rounding:Vn(t,0,8),n=We(new a(n),e+1,t),r=Cs(n,!0,e+1)),r};le.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Cs(a):(Vn(e,0,nc),t===void 0?t=i.rounding:Vn(t,0,8),n=We(new i(a),e+vt(a)+1,t),r=Cs(n.abs(),!1,e+vt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var e=this,t=e.constructor;return We(new t(e),vt(e)+1,t.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Er);if(l=new c(l),!l.s){if(e.s<1)throw Error(an+"Infinity");return l}if(l.eq(Er))return l;if(n=c.precision,e.eq(Er))return We(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=vC){for(a=new c(Er),t=Math.ceil(n/Ze+4),rt=!1;r%2&&(a=a.times(l),rS(a.d,t)),r=ac(r/2),r!==0;)l=l.times(l),rS(l.d,t);return rt=!0,e.s<0?new c(Er).div(a):We(a,n)}}else if(i<0)throw Error(an+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,rt=!1,a=e.times(Ku(l,n+u)),rt=!0,a=bC(a),a.s=i,a};le.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=vt(a),n=Cs(a,r<=i.toExpNeg||r>=i.toExpPos)):(Vn(e,1,nc),t===void 0?t=i.rounding:Vn(t,0,8),a=We(new i(a),e,t),r=vt(a),n=Cs(a,e<=r||r<=i.toExpNeg,e)),n};le.toSignificantDigits=le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Vn(e,1,nc),t===void 0?t=n.rounding:Vn(t,0,8)),We(new n(r),e,t)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vt(e),r=e.constructor;return Cs(e,t<=r.toExpNeg||t>=r.toExpPos)};function xC(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),rt?We(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Ze),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ct|0,c[i]%=Ct;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,rt?We(t,f):t}function Vn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(gs+e)}function zn(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Ze-n.length,r&&(i+=qa(r)),i+=n;s=e[t],n=s+"",r=Ze-n.length,r&&(i+=qa(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ga=function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%Ct|0,s=i/Ct|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ct+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,h,p,m,y,v,x,g,_,k,w,b,S,j,O=n.constructor,C=n.s==a.s?1:-1,T=n.d,M=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(an+"Division by zero");for(c=n.e-a.e,S=M.length,w=T.length,p=new O(C),m=p.d=[],u=0;M[u]==(T[u]||0);)++u;if(M[u]>(T[u]||0)&&--c,i==null?g=i=O.precision:s?g=i+(vt(n)-vt(a))+1:g=i,g<0)return new O(0);if(g=g/Ze+2|0,u=0,S==1)for(d=0,M=M[0],g++;(u<w||d)&&g--;u++)_=d*Ct+(T[u]||0),m[u]=_/M|0,d=_%M|0;else{for(d=Ct/(M[0]+1)|0,d>1&&(M=e(M,d),T=e(T,d),S=M.length,w=T.length),k=S,y=T.slice(0,S),v=y.length;v<S;)y[v++]=0;j=M.slice(),j.unshift(0),b=M[0],M[1]>=Ct/2&&++b;do d=0,l=t(M,y,S,v),l<0?(x=y[0],S!=v&&(x=x*Ct+(y[1]||0)),d=x/b|0,d>1?(d>=Ct&&(d=Ct-1),f=e(M,d),h=f.length,v=y.length,l=t(f,y,h,v),l==1&&(d--,r(f,S<h?j:M,h))):(d==0&&(l=d=1),f=M.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),l==-1&&(v=y.length,l=t(M,y,S,v),l<1&&(d++,r(y,S<v?j:M,v))),v=y.length):l===0&&(d++,y=[0]),m[u++]=d,l&&y[0]?y[v++]=T[k]||0:(y=[T[k]],v=1);while((k++<w||y[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=c,We(p,s?i+vt(p)+1:i)}}();function bC(e,t){var r,n,a,i,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(vt(e)>16)throw Error(__+vt(e));if(!e.s)return new d(Er);for(rt=!1,l=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ui(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Er),d.precision=l;;){if(a=We(a.times(e),l),r=r.times(++c),s=i.plus(ga(a,r,l)),zn(s.d).slice(0,l)===zn(i.d).slice(0,l)){for(;u--;)i=We(i.times(i),l);return d.precision=f,t==null?(rt=!0,We(i,f)):i}i=s}}function vt(e){for(var t=e.e*Ze,r=e.d[0];r>=10;r/=10)t++;return t}function a0(e,t,r){if(t>e.LN10.sd())throw rt=!0,r&&(e.precision=r),Error(an+"LN10 precision limit exceeded");return We(new e(e.LN10),t)}function qa(e){for(var t="";e--;)t+="0";return t}function Ku(e,t){var r,n,a,i,s,l,c,u,d,f=1,h=10,p=e,m=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(an+(p.s?"NaN":"-Infinity"));if(p.eq(Er))return new y(0);if(t==null?(rt=!1,u=v):u=t,p.eq(10))return t==null&&(rt=!0),a0(y,u);if(u+=h,y.precision=u,r=zn(m),n=r.charAt(0),i=vt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=zn(p.d),n=r.charAt(0),f++;i=vt(p),n>1?(p=new y("0."+r),i++):p=new y(n+"."+r.slice(1))}else return c=a0(y,u+2,v).times(i+""),p=Ku(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=v,t==null?(rt=!0,We(p,v)):p;for(l=s=p=ga(p.minus(Er),p.plus(Er),u),d=We(p.times(p),u),a=3;;){if(s=We(s.times(d),u),c=l.plus(ga(s,new y(a),u)),zn(c.d).slice(0,u)===zn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(a0(y,u+2,v).times(i+""))),l=ga(l,new y(f),u),y.precision=v,t==null?(rt=!0,We(l,v)):l;l=c,a+=2}}function tS(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ac(r/Ze),e.d=[],n=(r+1)%Ze,r<0&&(n+=Ze),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ze;n<a;)e.d.push(+t.slice(n,n+=Ze));t=t.slice(n),n=Ze-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),rt&&(e.e>np||e.e<-np))throw Error(__+r)}else e.s=0,e.e=0,e.d=[0];return e}function We(e,t,r){var n,a,i,s,l,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Ze,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ze),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Ze,a=n-Ze+s}if(r!==void 0&&(i=Ui(10,s-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ui(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=vt(e),f.length=1,t=t-i-1,f[0]=Ui(10,(Ze-t%Ze)%Ze),e.e=ac(-t/Ze)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ui(10,Ze-n),f[d]=a>0?(u/Ui(10,s-a)%Ui(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Ct&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Ct)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(rt&&(e.e>np||e.e<-np))throw Error(__+vt(e));return e}function _C(e,t){var r,n,a,i,s,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rt?We(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Ze),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Ct-1;--c[i],c[a]+=Ct}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rt?We(t,p):t):new h(0)}function Cs(e,t,r){var n,a=vt(e),i=zn(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+qa(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+qa(-a-1)+i,r&&(n=r-s)>0&&(i+=qa(n))):a>=s?(i+=qa(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+qa(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=qa(n))),e.s<0?"-"+i:i}function rS(e,t){if(e.length>t)return e.length=t,!0}function wC(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(gs+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return tS(s,i.toString())}else if(typeof i!="string")throw Error(gs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,zX.test(i))tS(s,i);else throw Error(gs+i)}if(a.prototype=le,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=wC,a.config=a.set=BX,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function BX(e){if(!e||typeof e!="object")throw Error(an+"Object expected");var t,r,n,a=["precision",1,nc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ac(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(gs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(gs+r+": "+n);return this}var w_=wC(LX);Er=new w_(1);const qe=w_;function FX(e){return WX(e)||KX(e)||qX(e)||UX()}function UX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qX(e,t){if(e){if(typeof e=="string")return kv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kv(e,t)}}function KX(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function WX(e){if(Array.isArray(e))return kv(e)}function kv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var HX=function(t){return t},kC={},jC=function(t){return t===kC},nS=function(t){return function r(){return arguments.length===0||arguments.length===1&&jC(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},VX=function e(t,r){return t===1?r:nS(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==kC}).length;return s>=t?r.apply(void 0,a):e(t-s,nS(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return jC(f)?c.shift():f});return r.apply(void 0,FX(d).concat(c))}))})},Lm=function(t){return VX(t.length,t)},jv=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},GX=Lm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),QX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return HX;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Sv=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},SC=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function YX(e){var t;return e===0?t=1:t=Math.floor(new qe(e).abs().log(10).toNumber())+1,t}function JX(e,t,r){for(var n=new qe(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var XX=Lm(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),ZX=Lm(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),eZ=Lm(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const zm={rangeStep:JX,getDigitCount:YX,interpolateNumber:XX,uninterpolateNumber:ZX,uninterpolateTruncation:eZ};function Nv(e){return nZ(e)||rZ(e)||NC(e)||tZ()}function tZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rZ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nZ(e){if(Array.isArray(e))return Ov(e)}function Wu(e,t){return sZ(e)||iZ(e,t)||NC(e,t)||aZ()}function aZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NC(e,t){if(e){if(typeof e=="string")return Ov(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ov(e,t)}}function Ov(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iZ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function sZ(e){if(Array.isArray(e))return e}function OC(e){var t=Wu(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function AC(e,t,r){if(e.lte(0))return new qe(0);var n=zm.getDigitCount(e.toNumber()),a=new qe(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new qe(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?c:new qe(Math.ceil(c))}function oZ(e,t,r){var n=1,a=new qe(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new qe(10).pow(zm.getDigitCount(e)-1),a=new qe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new qe(Math.floor(e)))}else e===0?a=new qe(Math.floor((t-1)/2)):r||(a=new qe(Math.floor(e)));var s=Math.floor((t-1)/2),l=QX(GX(function(c){return a.add(new qe(c-s).mul(n)).toNumber()}),jv);return l(0,t)}function PC(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var i=AC(new qe(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new qe(0):(s=new qe(e).add(t).div(2),s=s.sub(new qe(s).mod(i)));var l=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new qe(t).sub(s).div(i).toNumber()),u=l+c+1;return u>r?PC(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:s.sub(new qe(l).mul(i)),tickMax:s.add(new qe(c).mul(i))})}function lZ(e){var t=Wu(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=OC([r,n]),c=Wu(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Nv(jv(0,a-1).map(function(){return 1/0}))):[].concat(Nv(jv(0,a-1).map(function(){return-1/0})),[d]);return r>n?Sv(f):f}if(u===d)return oZ(u,a,i);var h=PC(u,d,s,i),p=h.step,m=h.tickMin,y=h.tickMax,v=zm.rangeStep(m,y.add(new qe(.1).mul(p)),p);return r>n?Sv(v):v}function cZ(e,t){var r=Wu(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=OC([n,a]),l=Wu(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=AC(new qe(u).sub(c).div(d-1),i,0),h=[].concat(Nv(zm.rangeStep(new qe(c),new qe(u).sub(new qe(.99).mul(f)),f)),[u]);return n>a?Sv(h):h}var uZ=SC(lZ),dZ=SC(cZ),fZ="Invariant failed";function Ts(e,t){throw new Error(fZ)}var hZ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(this,arguments)}function pZ(e,t){return vZ(e)||yZ(e,t)||gZ(e,t)||mZ()}function mZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gZ(e,t){if(e){if(typeof e=="string")return aS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aS(e,t)}}function aS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function vZ(e){if(Array.isArray(e))return e}function xZ(e,t){if(e==null)return{};var r=bZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TC(n.key),n)}}function kZ(e,t,r){return t&&wZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jZ(e,t,r){return t=ip(t),SZ(e,EC()?Reflect.construct(t,r||[],ip(e).constructor):t.apply(e,r))}function SZ(e,t){if(t&&(xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NZ(e)}function NZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EC=function(){return!!e})()}function ip(e){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ip(e)}function OZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Av(e,t)}function Av(e,t){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Av(e,t)}function CC(e,t,r){return t=TC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TC(e){var t=AZ(e,"string");return xl(t)=="symbol"?t:t+""}function AZ(e,t){if(xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bm=function(e){function t(){return _Z(this,t),jZ(this,t,arguments)}return OZ(t,e),kZ(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=xZ(n,hZ),p=he(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ts();var m=c.map(function(y){var v=u(y,l),x=v.x,g=v.y,_=v.value,k=v.errorVal;if(!k)return null;var w=[],b,S;if(Array.isArray(k)){var j=pZ(k,2);b=j[0],S=j[1]}else b=S=k;if(i==="vertical"){var O=d.scale,C=g+a,T=C+s,M=C-s,L=O(_-b),U=O(_+S);w.push({x1:U,y1:T,x2:U,y2:M}),w.push({x1:L,y1:C,x2:U,y2:C}),w.push({x1:L,y1:T,x2:L,y2:M})}else if(i==="horizontal"){var A=f.scale,D=x+a,E=D-s,$=D+s,P=A(_-b),z=A(_+S);w.push({x1:E,y1:z,x2:$,y2:z}),w.push({x1:D,y1:P,x2:D,y2:z}),w.push({x1:E,y1:P,x2:$,y2:P})}return R.createElement(Te,ap({className:"recharts-errorBar",key:"bar-".concat(w.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},p),w.map(function(B){return R.createElement("line",ap({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return R.createElement(Te,{className:"recharts-errorBars"},m)}}])}(R.Component);CC(Bm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});CC(Bm,"displayName","ErrorBar");function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){PZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PZ(e,t,r){return t=EZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e){var t=CZ(e,"string");return Hu(t)=="symbol"?t:t+""}function CZ(e,t){if(Hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $C=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Or(r,Lo);if(!s)return null;var l=Lo.defaultProps,c=l!==void 0?Ri(Ri({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(y){return{type:s.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Ri(Ri({},h),f.props):{},m=p.dataKey,y=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:c.iconType||v||"square",color:k_(f),value:y||m,payload:p}}),Ri(Ri(Ri({},c),Lo.getWithHeight(s,a)),{},{payload:u,item:s})};function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function sS(e){return IZ(e)||RZ(e)||$Z(e)||TZ()}function TZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Z(e,t){if(e){if(typeof e=="string")return Pv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pv(e,t)}}function RZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IZ(e){if(Array.isArray(e))return Pv(e)}function Pv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){Bo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bo(e,t,r){return t=MZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MZ(e){var t=DZ(e,"string");return Vu(t)=="symbol"?t:t+""}function DZ(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jt(e,t,r){return we(e)||we(t)?r:Nt(t)?$r(e,t,r):xe(t)?t(e):r}function Yc(e,t,r,n){var a=RX(e,function(l){return jt(l,t)});if(r==="number"){var i=a.filter(function(l){return Z(l)||parseFloat(l)});return i.length?[Dm(i),si(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!we(l)}):a;return s.map(function(l){return Nt(l)||l instanceof Date?l:""})}var LZ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(tr(f-d)!==tr(h-f)){var m=[];if(tr(h-f)===tr(c[1]-c[0])){p=h;var y=f+c[1]-c[0];m[0]=Math.min(y,(y+d)/2),m[1]=Math.max(y,(y+d)/2)}else{p=d;var v=h+c[1]-c[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>x[0]&&t<=x[1]||t>=m[0]&&t<=m[1]){s=a[u].index;break}}else{var g=Math.min(d,h),_=Math.max(d,h);if(t>(g+f)/2&&t<=(_+f)/2){s=a[u].index;break}}}else for(var k=0;k<l;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<l-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===l-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){s=n[k].index;break}return s},k_=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?dt(dt({},t.type.defaultProps),t.props):t.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},zZ=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],y=m.items,v=m.cateAxisId,x=y.filter(function(S){return ma(S.type).indexOf("Bar")>=0});if(x&&x.length){var g=x[0].type.defaultProps,_=g!==void 0?dt(dt({},g),x[0].props):x[0].props,k=_.barSize,w=_[v];s[w]||(s[w]=[]);var b=we(k)?r:k;s[w].push({item:x[0],stackList:x.slice(1),barSize:we(b)?void 0:rr(b,n,0)})}}return s},BZ=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=rr(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/c,m=s.reduce(function(k,w){return k+w.barSize||0},0);m+=(c-1)*u,m>=a&&(m-=(c-1)*u,u=0),m>=a&&p>0&&(h=!0,p*=.9,m=c*p);var y=(a-m)/2>>0,v={offset:y-u,size:0};d=s.reduce(function(k,w){var b={item:w.item,position:{offset:v.offset+v.size+u,size:h?p:w.barSize}},S=[].concat(sS(k),[b]);return v=S[S.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){S.push({item:j,position:v})}),S},f)}else{var x=rr(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var g=(a-2*x-(c-1)*u)/c;g>1&&(g>>=0);var _=l===+l?Math.min(g,l):g;d=s.reduce(function(k,w,b){var S=[].concat(sS(k),[{item:w.item,position:{offset:x+(g+u)*b+(g-_)/2,size:_}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){S.push({item:j,position:S[S.length-1].position})}),S},f)}return d},FZ=function(t,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=$C({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&Z(t[p]))return dt(dt({},t),{},Bo({},p,t[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&Z(t[m]))return dt(dt({},t),{},Bo({},m,t[m]+(h||0)))}return t},UZ=function(t,r,n){return we(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},RC=function(t,r,n,a,i){var s=r.props.children,l=en(s,Bm).filter(function(u){return UZ(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=jt(d,n);if(we(f))return u;var h=Array.isArray(f)?[Dm(f),si(f)]:[f,f],p=c.reduce(function(m,y){var v=jt(d,y,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),g=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},qZ=function(t,r,n,a,i){var s=r.map(function(l){return RC(t,l,n,i,a)}).filter(function(l){return!we(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},IC=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&RC(t,c,u,a)||Yc(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},MC=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},DC=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},ha=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?tr(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Jl(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},i0=new WeakMap,bf=function(t,r){if(typeof r!="function")return t;i0.has(t)||i0.set(t,new WeakMap);var n=i0.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},LC=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,l=t.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:zu(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Zh(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Qc(),realScaleType:"point"}:i==="category"?{scale:zu(),realScaleType:"band"}:{scale:Zh(),realScaleType:"linear"};if(As(a)){var c="scale".concat(km(a));return{scale:(eS[c]||Qc)(),realScaleType:eS[c]?c:"point"}}return xe(a)?{scale:a}:{scale:Qc(),realScaleType:"point"}},lS=1e-4,zC=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-lS,s=Math.max(a[0],a[1])+lS,l=t(r[0]),c=t(r[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},KZ=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},WZ=function(t,r){if(!r||r.length!==2||!Z(r[0])||!Z(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Z(t[0])||t[0]<n)&&(i[0]=n),(!Z(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},HZ=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=Jl(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},VZ=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=Jl(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},GZ={sign:HZ,expand:hU,none:ul,silhouette:pU,wiggle:mU,positive:VZ},QZ=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=GZ[n],s=fU().keys(a).value(function(l,c){return+jt(l,c,0)}).order(ev).offset(i);return s(t)},YZ=function(t,r,n,a,i,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?dt(dt({},h.type.defaultProps),h.props):h.props,y=m.stackId,v=m.hide;if(v)return f;var x=m[n],g=f[x]||{hasStack:!1,stackGroups:{}};if(Nt(y)){var _=g.stackGroups[y]||{numericAxisId:n,cateAxisId:a,items:[]};_.items.push(h),g.hasStack=!0,g.stackGroups[y]=_}else g.stackGroups[Xl("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return dt(dt({},f),{},Bo({},x,g))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var x=p.stackGroups[v];return dt(dt({},y),{},Bo({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:QZ(t,x.items,i)}))},m)}return dt(dt({},f),{},Bo({},h,p))},d)},BC=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=uZ(u,i,l);return t.domain([Dm(d),si(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=dZ(f,i,l);return{niceTicks:h}}return null};function cS(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!we(a[t.dataKey])){var l=Ch(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=jt(a,we(s)?t.dataKey:s);return we(c)?null:t.scale(c)}var uS=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=jt(s,r.dataKey,r.domain[l]);return we(c)?null:r.scale(c)-i/2+a},JZ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},XZ=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?dt(dt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Nt(i)){var s=r[i];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},ZZ=function(t){return t.reduce(function(r,n){return[Dm(n.concat([r[0]]).filter(Z)),si(n.concat([r[1]]).filter(Z))]},[1/0,-1/0])},FC=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],l=s.stackedData,c=l.reduce(function(u,d){var f=ZZ(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},dS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ev=function(t,r,n){if(xe(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Z(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(dS.test(t[0])){var i=+dS.exec(t[0])[1];a[0]=r[0]-i}else xe(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Z(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(fS.test(t[1])){var s=+fS.exec(t[1])[1];a[1]=r[1]+s}else xe(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},sp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=Jb(r,function(f){return f.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},hS=function(t,r,n){return!t||!t.length||vl(t,$r(n,"type.defaultProps.domain"))?r:t},UC=function(t,r){var n=t.type.defaultProps?dt(dt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return dt(dt({},he(t,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:k_(t),value:jt(r,a),type:c,payload:r,chartType:u,hide:d})};function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){qC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qC(e,t,r){return t=eee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eee(e){var t=tee(e,"string");return Gu(t)=="symbol"?t:t+""}function tee(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ree(e,t){return see(e)||iee(e,t)||aee(e,t)||nee()}function nee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aee(e,t){if(e){if(typeof e=="string")return mS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mS(e,t)}}function mS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function see(e){if(Array.isArray(e))return e}var op=Math.PI/180,oee=function(t){return t*180/Math.PI},Ye=function(t,r,n,a){return{x:t+Math.cos(-op*a)*n,y:r+Math.sin(-op*a)*n}},KC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},lee=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=rr(t.cx,s,s/2),f=rr(t.cy,l,l/2),h=KC(s,l,n),p=rr(t.innerRadius,h,0),m=rr(t.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(v,x){var g=r[x],_=g.domain,k=g.reversed,w;if(we(g.range))a==="angleAxis"?w=[c,u]:a==="radiusAxis"&&(w=[p,m]),k&&(w=[w[1],w[0]]);else{w=g.range;var b=w,S=ree(b,2);c=S[0],u=S[1]}var j=LC(g,i),O=j.realScaleType,C=j.scale;C.domain(_).range(w),zC(C);var T=BC(C,na(na({},g),{},{realScaleType:O})),M=na(na(na({},g),T),{},{range:w,radius:m,realScaleType:O,scale:C,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:c,endAngle:u});return na(na({},v),{},qC({},x,M))},{})},cee=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},uee=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,l=cee({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:oee(u),angleInRadian:u}},dee=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},fee=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return t+l*360},gS=function(t,r){var n=t.x,a=t.y,i=uee({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=dee(r),f=d.startAngle,h=d.endAngle,p=l,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?na(na({},r),{},{radius:s,angle:fee(p,r)}):null},WC=function(t){return!N.isValidElement(t)&&!xe(t)&&typeof t!="boolean"?t.className:""};function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}var hee=["offset"];function pee(e){return vee(e)||yee(e)||gee(e)||mee()}function mee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gee(e,t){if(e){if(typeof e=="string")return Cv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cv(e,t)}}function yee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vee(e){if(Array.isArray(e))return Cv(e)}function Cv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xee(e,t){if(e==null)return{};var r=bee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){_ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ee(e,t,r){return t=wee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wee(e){var t=kee(e,"string");return Qu(t)=="symbol"?t:t+""}function kee(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(this,arguments)}var jee=function(t){var r=t.value,n=t.formatter,a=we(t.children)?r:t.children;return xe(n)?n(a):a},See=function(t,r){var n=tr(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Nee=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,y=c.clockWise,v=(f+h)/2,x=See(p,m),g=x>=0?1:-1,_,k;a==="insideStart"?(_=p+g*s,k=y):a==="insideEnd"?(_=m-g*s,k=!y):a==="end"&&(_=m+g*s,k=y),k=x<=0?k:!k;var w=Ye(u,d,v,_),b=Ye(u,d,v,_+(k?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(b.x,",").concat(b.y),j=we(t.id)?Xl("recharts-radial-line-"):t.id;return R.createElement("text",Yu({},n,{dominantBaseline:"central",className:je("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:j,d:S})),R.createElement("textPath",{xlinkHref:"#".concat(j)},r))},Oee=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Ye(s,l,u+n,h),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=Ye(s,l,v,h),g=x.x,_=x.y;return{x:g,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Aee=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",y=u>=0?1:-1,v=y*a,x=y>0?"end":"start",g=y>0?"start":"end";if(i==="top"){var _={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return bt(bt({},_),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var k={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:m};return bt(bt({},k),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return bt(bt({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var b={x:l+u+v,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return bt(bt({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?bt({x:l+v,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):i==="insideRight"?bt({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):i==="insideTop"?bt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},S):i==="insideBottom"?bt({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?bt({x:l+v,y:c+h,textAnchor:g,verticalAnchor:m},S):i==="insideTopRight"?bt({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:m},S):i==="insideBottomLeft"?bt({x:l+v,y:c+d-h,textAnchor:g,verticalAnchor:p},S):i==="insideBottomRight"?bt({x:l+u-v,y:c+d-h,textAnchor:x,verticalAnchor:p},S):Vl(i)&&(Z(i.x)||Xi(i.x))&&(Z(i.y)||Xi(i.y))?bt({x:l+rr(i.x,u),y:c+rr(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):bt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Pee=function(t){return"cx"in t&&Z(t.cx)};function $t(e){var t=e.offset,r=t===void 0?5:t,n=xee(e,hee),a=bt({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||we(l)&&we(c)&&!N.isValidElement(u)&&!xe(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var p;if(xe(u)){if(p=N.createElement(u,a),N.isValidElement(p))return p}else p=jee(a);var m=Pee(i),y=he(a,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Nee(a,p,y);var v=m?Oee(a):Aee(a);return R.createElement(Es,Yu({className:je("recharts-label",f)},y,v,{breakAll:h}),p)}$t.displayName="Label";var HC=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,y=t.width,v=t.height,x=t.clockWise,g=t.labelViewBox;if(g)return g;if(Z(y)&&Z(v)){if(Z(f)&&Z(h))return{x:f,y:h,width:y,height:v};if(Z(p)&&Z(m))return{x:p,y:m,width:y,height:v}}return Z(f)&&Z(h)?{x:f,y:h,width:0,height:0}:Z(r)&&Z(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},Eee=function(t,r){return t?t===!0?R.createElement($t,{key:"label-implicit",viewBox:r}):Nt(t)?R.createElement($t,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===$t?N.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement($t,{key:"label-implicit",content:t,viewBox:r}):xe(t)?R.createElement($t,{key:"label-implicit",content:t,viewBox:r}):Vl(t)?R.createElement($t,Yu({viewBox:r},t,{key:"label-implicit"})):null:null},Cee=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=HC(t),s=en(a,$t).map(function(c,u){return N.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=Eee(t.label,r||i);return[l].concat(pee(s))};$t.parseViewBox=HC;$t.renderCallByParent=Cee;function Tee(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var $ee=Tee;const Ree=De($ee);function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}var Iee=["valueAccessor"],Mee=["data","dataKey","clockWise","id","textBreakAll"];function Dee(e){return Fee(e)||Bee(e)||zee(e)||Lee()}function Lee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zee(e,t){if(e){if(typeof e=="string")return Tv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tv(e,t)}}function Bee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fee(e){if(Array.isArray(e))return Tv(e)}function Tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(this,arguments)}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){Uee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uee(e,t,r){return t=qee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qee(e){var t=Kee(e,"string");return Ju(t)=="symbol"?t:t+""}function Kee(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bS(e,t){if(e==null)return{};var r=Wee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Hee=function(t){return Array.isArray(t.value)?Ree(t.value):t.value};function ya(e){var t=e.valueAccessor,r=t===void 0?Hee:t,n=bS(e,Iee),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=bS(n,Mee);return!a||!a.length?null:R.createElement(Te,{className:"recharts-label-list"},a.map(function(d,f){var h=we(i)?r(d,f):jt(d&&d.payload,i),p=we(l)?{}:{id:"".concat(l,"-").concat(f)};return R.createElement($t,lp({},he(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:$t.parseViewBox(we(s)?d:xS(xS({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}ya.displayName="LabelList";function Vee(e,t){return e?e===!0?R.createElement(ya,{key:"labelList-implicit",data:t}):R.isValidElement(e)||xe(e)?R.createElement(ya,{key:"labelList-implicit",data:t,content:e}):Vl(e)?R.createElement(ya,lp({data:t},e,{key:"labelList-implicit"})):null:null}function Gee(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=en(n,ya).map(function(s,l){return N.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Vee(e.label,t);return[i].concat(Dee(a))}ya.renderCallByParent=Gee;function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(this,arguments)}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){Qee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qee(e,t,r){return t=Yee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yee(e){var t=Jee(e,"string");return Xu(t)=="symbol"?t:t+""}function Jee(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xee=function(t,r){var n=tr(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},_f=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/op,h=u?i:i+s*f,p=Ye(r,n,d,h),m=Ye(r,n,a,h),y=u?i-s*f:i,v=Ye(r,n,d*Math.cos(f*op),y);return{center:p,circleTangency:m,lineTangency:v,theta:f}},VC=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=Xee(s,l),u=s+c,d=Ye(r,n,i,s),f=Ye(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Ye(r,n,a,s),m=Ye(r,n,a,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Zee=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=tr(d-u),h=_f({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,m=h.lineTangency,y=h.theta,v=_f({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),x=v.circleTangency,g=v.lineTangency,_=v.theta,k=c?Math.abs(u-d):Math.abs(u-d)-y-_;if(k<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):VC({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var b=_f({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),S=b.circleTangency,j=b.lineTangency,O=b.theta,C=_f({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),T=C.circleTangency,M=C.lineTangency,L=C.theta,U=c?Math.abs(u-d):Math.abs(u-d)-O-L;if(U<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},ete={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GC=function(t){var r=wS(wS({},ete),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var p=je("recharts-sector",h),m=s-i,y=rr(l,m,0,!0),v;return y>0&&Math.abs(d-f)<360?v=Zee({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(y,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=VC({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),R.createElement("path",$v({},he(r,!0),{className:p,d:v,role:"img"}))};function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rv.apply(this,arguments)}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tte(e,t,r){return t=rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=nte(e,"string");return Zu(t)=="symbol"?t:t+""}function nte(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SS={curveBasisClosed:tU,curveBasisOpen:rU,curveBasis:eU,curveBumpX:BF,curveBumpY:FF,curveLinearClosed:nU,curveLinear:Sm,curveMonotoneX:aU,curveMonotoneY:iU,curveNatural:sU,curveStep:oU,curveStepAfter:cU,curveStepBefore:lU},wf=function(t){return t.x===+t.x&&t.y===+t.y},jc=function(t){return t.x},Sc=function(t){return t.y},ate=function(t,r){if(xe(t))return t;var n="curve".concat(km(t));return(n==="curveMonotone"||n==="curveBump")&&r?SS["".concat(n).concat(r==="vertical"?"Y":"X")]:SS[n]||Sm},ite=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=ate(n,l),f=u?i.filter(function(y){return wf(y)}):i,h;if(Array.isArray(s)){var p=u?s.filter(function(y){return wf(y)}):s,m=f.map(function(y,v){return jS(jS({},y),{},{base:p[v]})});return l==="vertical"?h=ff().y(Sc).x1(jc).x0(function(y){return y.base.x}):h=ff().x(jc).y1(Sc).y0(function(y){return y.base.y}),h.defined(wf).curve(d),h(m)}return l==="vertical"&&Z(s)?h=ff().y(Sc).x1(jc).x0(s):Z(s)?h=ff().x(jc).y1(Sc).y0(s):h=qP().x(jc).y(Sc),h.defined(wf).curve(d),h(f)},Fo=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?ite(t):a;return N.createElement("path",Rv({},he(t,!1),Th(t),{className:je("recharts-curve",r),d:s,ref:i}))},QC={exports:{}},ste="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ote=ste,lte=ote;function YC(){}function JC(){}JC.resetWarningCache=YC;var cte=function(){function e(n,a,i,s,l,c){if(c!==lte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:JC,resetWarningCache:YC};return r.PropTypes=r,r};QC.exports=cte();var ute=QC.exports;const Ie=De(ute),{getOwnPropertyNames:dte,getOwnPropertySymbols:fte}=Object,{hasOwnProperty:hte}=Object.prototype;function s0(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function kf(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function pte(e){return e!=null?e[Symbol.toStringTag]:void 0}function NS(e){return dte(e).concat(fte(e))}const mte=Object.hasOwn||((e,t)=>hte.call(e,t));function Us(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const gte="__v",yte="__o",vte="_owner",{getOwnPropertyDescriptor:OS,keys:AS}=Object;function xte(e,t){return e.byteLength===t.byteLength&&cp(new Uint8Array(e),new Uint8Array(t))}function bte(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function _te(e,t){return e.byteLength===t.byteLength&&cp(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function wte(e,t){return Us(e.getTime(),t.getTime())}function kte(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function jte(e,t){return e===t}function PS(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let s,l,c=0;for(;(s=i.next())&&!s.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=s.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const Ste=Us;function Nte(e,t,r){const n=AS(e);let a=n.length;if(AS(t).length!==a)return!1;for(;a-- >0;)if(!XC(e,t,r,n[a]))return!1;return!0}function Nc(e,t,r){const n=NS(e);let a=n.length;if(NS(t).length!==a)return!1;let i,s,l;for(;a-- >0;)if(i=n[a],!XC(e,t,r,i)||(s=OS(e,i),l=OS(t,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Ote(e,t){return Us(e.valueOf(),t.valueOf())}function Ate(e,t){return e.source===t.source&&e.flags===t.flags}function ES(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let s,l;for(;(s=i.next())&&!s.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function cp(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Pte(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function XC(e,t,r,n){return(n===vte||n===yte||n===gte)&&(e.$$typeof||t.$$typeof)?!0:mte(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Ete="[object ArrayBuffer]",Cte="[object Arguments]",Tte="[object Boolean]",$te="[object DataView]",Rte="[object Date]",Ite="[object Error]",Mte="[object Map]",Dte="[object Number]",Lte="[object Object]",zte="[object RegExp]",Bte="[object Set]",Fte="[object String]",Ute={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},qte="[object URL]",Kte=Object.prototype.toString;function Wte({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(v,x,g){if(v===x)return!0;if(v==null||x==null)return!1;const _=typeof v;if(_!==typeof x)return!1;if(_!=="object")return _==="number"?l(v,x,g):_==="function"?i(v,x,g):!1;const k=v.constructor;if(k!==x.constructor)return!1;if(k===Object)return c(v,x,g);if(Array.isArray(v))return t(v,x,g);if(k===Date)return n(v,x,g);if(k===RegExp)return d(v,x,g);if(k===Map)return s(v,x,g);if(k===Set)return f(v,x,g);const w=Kte.call(v);if(w===Rte)return n(v,x,g);if(w===zte)return d(v,x,g);if(w===Mte)return s(v,x,g);if(w===Bte)return f(v,x,g);if(w===Lte)return typeof v.then!="function"&&typeof x.then!="function"&&c(v,x,g);if(w===qte)return p(v,x,g);if(w===Ite)return a(v,x,g);if(w===Cte)return c(v,x,g);if(Ute[w])return h(v,x,g);if(w===Ete)return e(v,x,g);if(w===$te)return r(v,x,g);if(w===Tte||w===Dte||w===Fte)return u(v,x,g);if(m){let b=m[w];if(!b){const S=pte(v);S&&(b=m[S])}if(b)return b(v,x,g)}return!1}}function Hte({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:xte,areArraysEqual:r?Nc:bte,areDataViewsEqual:_te,areDatesEqual:wte,areErrorsEqual:kte,areFunctionsEqual:jte,areMapsEqual:r?s0(PS,Nc):PS,areNumbersEqual:Ste,areObjectsEqual:r?Nc:Nte,arePrimitiveWrappersEqual:Ote,areRegExpsEqual:Ate,areSetsEqual:r?s0(ES,Nc):ES,areTypedArraysEqual:r?s0(cp,Nc):cp,areUrlsEqual:Pte,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=kf(n.areArraysEqual),i=kf(n.areMapsEqual),s=kf(n.areObjectsEqual),l=kf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:l})}return n}function Vte(e){return function(t,r,n,a,i,s,l){return e(t,r,l)}}function Gte({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const Qte=Ci();Ci({strict:!0});Ci({circular:!0});Ci({circular:!0,strict:!0});Ci({createInternalComparator:()=>Us});Ci({strict:!0,createInternalComparator:()=>Us});Ci({circular:!0,createInternalComparator:()=>Us});Ci({circular:!0,createInternalComparator:()=>Us,strict:!0});function Ci(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=Hte(e),s=Wte(i),l=r?r(s):Vte(s);return Gte({circular:t,comparator:s,createState:n,equals:l,strict:a})}function Yte(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function CS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Yte(a)};requestAnimationFrame(n)}function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function Jte(e){return tre(e)||ere(e)||Zte(e)||Xte()}function Xte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zte(e,t){if(e){if(typeof e=="string")return TS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TS(e,t)}}function TS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ere(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tre(e){if(Array.isArray(e))return e}function rre(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=Jte(s),c=l[0],u=l.slice(1);if(typeof c=="number"){CS(a.bind(null,u),c);return}a(c),CS(a.bind(null,u));return}Iv(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){ZC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZC(e,t,r){return t=nre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nre(e){var t=are(e,"string");return ed(t)==="symbol"?t:String(t)}function are(e,t){if(ed(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ed(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ire=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},sre=function(t){return t},ore=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Jc=function(t,r){return Object.keys(r).reduce(function(n,a){return RS(RS({},n),{},ZC({},a,t(a,r[a])))},{})},IS=function(t,r,n){return t.map(function(a){return"".concat(ore(a)," ").concat(r,"ms ").concat(n)}).join(",")};function lre(e,t){return dre(e)||ure(e,t)||eT(e,t)||cre()}function cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ure(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function dre(e){if(Array.isArray(e))return e}function fre(e){return mre(e)||pre(e)||eT(e)||hre()}function hre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eT(e,t){if(e){if(typeof e=="string")return Mv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mv(e,t)}}function pre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mre(e){if(Array.isArray(e))return Mv(e)}function Mv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var up=1e-4,tT=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},rT=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},MS=function(t,r){return function(n){var a=tT(t,r);return rT(a,n)}},gre=function(t,r){return function(n){var a=tT(t,r),i=[].concat(fre(a.map(function(s,l){return s*l}).slice(1)),[0]);return rT(i,n)}},DS=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=lre(u,4);a=d[0],i=d[1],s=d[2],l=d[3]}}}var f=MS(a,s),h=MS(i,l),p=gre(a,s),m=function(x){return x>1?1:x<0?0:x},y=function(x){for(var g=x>1?1:x,_=g,k=0;k<8;++k){var w=f(_)-g,b=p(_);if(Math.abs(w-g)<up||b<up)return h(_);_=m(_-w/b)}return h(_)};return y.isStepper=!1,y},yre=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,l=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*n,m=h*i,y=h+(p-m)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<up&&Math.abs(y)<up?[f,0]:[v,y]};return c.isStepper=!0,c.dt=l,c},vre=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DS(a);case"spring":return yre();default:if(a.split("(")[0]==="cubic-bezier")return DS(a)}return typeof a=="function"?a:null};function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function LS(e){return _re(e)||bre(e)||nT(e)||xre()}function xre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _re(e){if(Array.isArray(e))return Lv(e)}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){Dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dv(e,t,r){return t=wre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wre(e){var t=kre(e,"string");return td(t)==="symbol"?t:String(t)}function kre(e,t){if(td(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(td(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jre(e,t){return Ore(e)||Nre(e,t)||nT(e,t)||Sre()}function Sre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nT(e,t){if(e){if(typeof e=="string")return Lv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lv(e,t)}}function Lv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Ore(e){if(Array.isArray(e))return e}var dp=function(t,r,n){return t+(r-t)*n},zv=function(t){var r=t.from,n=t.to;return r!==n},Are=function e(t,r,n){var a=Jc(function(i,s){if(zv(s)){var l=t(s.from,s.to,s.velocity),c=jre(l,2),u=c[0],d=c[1];return Lt(Lt({},s),{},{from:u,velocity:d})}return s},r);return n<1?Jc(function(i,s){return zv(s)?Lt(Lt({},s),{},{velocity:dp(s.velocity,a[i].velocity,n),from:dp(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const Pre=function(e,t,r,n,a){var i=ire(e,t),s=i.reduce(function(v,x){return Lt(Lt({},v),{},Dv({},x,[e[x],t[x]]))},{}),l=i.reduce(function(v,x){return Lt(Lt({},v),{},Dv({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Jc(function(x,g){return g.from},l)},p=function(){return!Object.values(l).filter(zv).length},m=function(x){u||(u=x);var g=x-u,_=g/r.dt;l=Are(r,l,_),a(Lt(Lt(Lt({},e),t),h())),u=x,p()||(c=requestAnimationFrame(f))},y=function(x){d||(d=x);var g=(x-d)/n,_=Jc(function(w,b){return dp.apply(void 0,LS(b).concat([r(g)]))},s);if(a(Lt(Lt(Lt({},e),t),_)),g<1)c=requestAnimationFrame(f);else{var k=Jc(function(w,b){return dp.apply(void 0,LS(b).concat([r(1)]))},s);a(Lt(Lt(Lt({},e),t),k))}};return f=r.isStepper?m:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}var Ere=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Cre(e,t){if(e==null)return{};var r=Tre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tre(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function o0(e){return Mre(e)||Ire(e)||Rre(e)||$re()}function $re(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rre(e,t){if(e){if(typeof e=="string")return Bv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bv(e,t)}}function Ire(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mre(e){if(Array.isArray(e))return Bv(e)}function Bv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){Ic(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ic(e,t,r){return t=aT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aT(n.key),n)}}function zre(e,t,r){return t&&Lre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aT(e){var t=Bre(e,"string");return bl(t)==="symbol"?t:String(t)}function Bre(e,t){if(bl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fv(e,t)}function Fv(e,t){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fv(e,t)}function Ure(e){var t=qre();return function(){var n=fp(e),a;if(t){var i=fp(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Uv(this,a)}}function Uv(e,t){if(t&&(bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qv(e)}function qv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(e)}var Gn=function(e){Fre(r,e);var t=Ure(r);function r(n,a){var i;Dre(this,r),i=t.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(qv(i)),i.changeStyle=i.changeStyle.bind(qv(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Uv(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Uv(i);i.state={style:c?Ic({},c,u):u}}else i.state={style:{}};return i}return zre(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!s){var p={style:c?Ic({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(Qte(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||u?f:a.to;if(this.state&&h){var v={style:c?Ic({},c,y):y};(c&&h[c]!==y||!c&&h!==y)&&this.setState(v)}this.runAnimation(cn(cn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=Pre(s,l,vre(u),c,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,d,m,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(y,v,x){if(x===0)return y;var g=v.duration,_=v.easing,k=_===void 0?"ease":_,w=v.style,b=v.properties,S=v.onAnimationEnd,j=x>0?s[x-1]:v,O=b||Object.keys(w);if(typeof k=="function"||k==="spring")return[].concat(o0(y),[i.runJSAnimation.bind(i,{from:j.style,to:w,duration:g,easing:k}),g]);var C=IS(O,g,k),T=cn(cn(cn({},j.style),w),{},{transition:C});return[].concat(o0(y),[T,g,S]).filter(sre)};return this.manager.start([c].concat(o0(s.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=rre());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var y=l?Ic({},l,c):c,v=IS(Object.keys(y),s,u);m.start([d,i,cn(cn({},y),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Cre(a,Ere),u=N.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||s<=0)return i;var f=function(p){var m=p.props,y=m.style,v=y===void 0?{}:y,x=m.className,g=N.cloneElement(p,cn(cn({},c),{},{style:cn(cn({},v),d),className:x}));return g};return u===1?f(N.Children.only(i)):R.createElement("div",null,N.Children.map(i,function(h){return f(h)}))}}]),r}(N.PureComponent);Gn.displayName="Animate";Gn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Gn.propTypes={from:Ie.oneOfType([Ie.object,Ie.string]),to:Ie.oneOfType([Ie.object,Ie.string]),attributeName:Ie.string,duration:Ie.number,begin:Ie.number,easing:Ie.oneOfType([Ie.string,Ie.func]),steps:Ie.arrayOf(Ie.shape({duration:Ie.number.isRequired,style:Ie.object.isRequired,easing:Ie.oneOfType([Ie.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ie.func]),properties:Ie.arrayOf("string"),onAnimationEnd:Ie.func})),children:Ie.oneOfType([Ie.node,Ie.func]),isActive:Ie.bool,canBegin:Ie.bool,onAnimationEnd:Ie.func,shouldReAnimate:Ie.bool,onAnimationStart:Ie.func,onAnimationReStart:Ie.func};function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(this,arguments)}function Kre(e,t){return Gre(e)||Vre(e,t)||Hre(e,t)||Wre()}function Wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hre(e,t){if(e){if(typeof e=="string")return FS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(e,t)}}function FS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Gre(e){if(Array.isArray(e))return e}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){Qre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qre(e,t,r){return t=Yre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yre(e){var t=Jre(e,"string");return rd(t)=="symbol"?t:t+""}function Jre(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KS=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);d="M ".concat(t,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+c*m,",").concat(r,`
            L `).concat(t+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*m,`
            L `).concat(t+n,",").concat(r+a-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n-c*m,",").concat(r+a,`
            L `).concat(t+c*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Xre=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Zre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},j_=function(t){var r=qS(qS({},Zre),t),n=N.useRef(),a=N.useState(-1),i=Kre(a,2),s=i[0],l=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&l(k)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,y=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=je("recharts-rectangle",p);return g?R.createElement(Gn,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:m,isActive:g},function(k){var w=k.width,b=k.height,S=k.x,j=k.y;return R.createElement(Gn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:x,easing:m},R.createElement("path",hp({},he(r,!0),{className:_,d:KS(S,j,w,b,h),ref:n})))}):R.createElement("path",hp({},he(r,!0),{className:_,d:KS(c,u,d,f,h)}))},ene=["points","className","baseLinePoints","connectNulls"];function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},No.apply(this,arguments)}function tne(e,t){if(e==null)return{};var r=rne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WS(e){return sne(e)||ine(e)||ane(e)||nne()}function nne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ane(e,t){if(e){if(typeof e=="string")return Kv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kv(e,t)}}function ine(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sne(e){if(Array.isArray(e))return Kv(e)}function Kv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var HS=function(t){return t&&t.x===+t.x&&t.y===+t.y},one=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){HS(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),HS(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Xc=function(t,r){var n=one(t);r&&(n=[n.reduce(function(i,s){return[].concat(WS(i),WS(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},lne=function(t,r,n){var a=Xc(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Xc(r.reverse(),n).slice(1))},cne=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=tne(t,ene);if(!r||!r.length)return null;var l=je("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=lne(r,a,i);return R.createElement("g",{className:l},R.createElement("path",No({},he(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?R.createElement("path",No({},he(s,!0),{fill:"none",d:Xc(r,i)})):null,c?R.createElement("path",No({},he(s,!0),{fill:"none",d:Xc(a,i)})):null)}var d=Xc(r,i);return R.createElement("path",No({},he(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(this,arguments)}var Fm=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=je("recharts-dot",i);return r===+r&&n===+n&&a===+a?N.createElement("circle",Wv({},he(t,!1),Th(t),{className:s,cx:r,cy:n,r:a})):null};function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}var une=["x","y","top","left","width","height","className"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(this,arguments)}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fne(e,t,r){return t=hne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hne(e){var t=pne(e,"string");return nd(t)=="symbol"?t:t+""}function pne(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mne(e,t){if(e==null)return{};var r=gne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yne=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},vne=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,y=mne(t,une),v=dne({x:n,y:i,top:l,left:u,width:f,height:p},y);return!Z(n)||!Z(i)||!Z(f)||!Z(p)||!Z(l)||!Z(u)?null:R.createElement("path",Hv({},he(v,!0),{className:je("recharts-cross",m),d:yne(n,i,f,p,l,u)}))},xne=Mm,bne=gC,_ne=Jn;function wne(e,t){return e&&e.length?xne(e,_ne(t),bne):void 0}var kne=wne;const jne=De(kne);var Sne=Mm,Nne=Jn,One=yC;function Ane(e,t){return e&&e.length?Sne(e,Nne(t),One):void 0}var Pne=Ane;const Ene=De(Pne);var Cne=["cx","cy","angle","ticks","axisLine"],Tne=["ticks","tick","angle","tickFormatter","stroke"];function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(this,arguments)}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){Um(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QS(e,t){if(e==null)return{};var r=$ne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sT(n.key),n)}}function Ine(e,t,r){return t&&YS(e.prototype,t),r&&YS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mne(e,t,r){return t=pp(t),Dne(e,iT()?Reflect.construct(t,r||[],pp(e).constructor):t.apply(e,r))}function Dne(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lne(e)}function Lne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iT=function(){return!!e})()}function pp(e){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pp(e)}function zne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vv(e,t)}function Vv(e,t){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vv(e,t)}function Um(e,t,r){return t=sT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sT(e){var t=Bne(e,"string");return _l(t)=="symbol"?t:t+""}function Bne(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qm=function(e){function t(){return Rne(this,t),Mne(this,t,arguments)}return zne(t,e),Ine(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,c=i.cy;return Ye(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=jne(l,function(d){return d.coordinate||0}),u=Ene(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=QS(n,Cne),d=l.reduce(function(m,y){return[Math.min(m[0],y.coordinate),Math.max(m[1],y.coordinate)]},[1/0,-1/0]),f=Ye(a,i,d[0],s),h=Ye(a,i,d[1],s),p=Ii(Ii(Ii({},he(u,!1)),{},{fill:"none"},he(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return R.createElement("line",Zc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=QS(a,Tne),f=this.getTickTextAnchor(),h=he(d,!1),p=he(s,!1),m=i.map(function(y,v){var x=n.getTickValueCoord(y),g=Ii(Ii(Ii(Ii({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},x),{},{payload:y});return R.createElement(Te,Zc({className:je("recharts-polar-radius-axis-tick",WC(s)),key:"tick-".concat(y.coordinate)},Ps(n.props,y,v)),t.renderTickItem(s,g,c?c(y.value,v):y.value))});return R.createElement(Te,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:R.createElement(Te,{className:je("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),$t.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return R.isValidElement(n)?s=R.cloneElement(n,a):xe(n)?s=n(a):s=R.createElement(Es,Zc({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(N.PureComponent);Um(qm,"displayName","PolarRadiusAxis");Um(qm,"axisType","radiusAxis");Um(qm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function wl(e){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(e)}function Wi(){return Wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wi.apply(this,arguments)}function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){Km(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lT(n.key),n)}}function Une(e,t,r){return t&&XS(e.prototype,t),r&&XS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qne(e,t,r){return t=mp(t),Kne(e,oT()?Reflect.construct(t,r||[],mp(e).constructor):t.apply(e,r))}function Kne(e,t){if(t&&(wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wne(e)}function Wne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oT=function(){return!!e})()}function mp(e){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mp(e)}function Hne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gv(e,t)}function Gv(e,t){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gv(e,t)}function Km(e,t,r){return t=lT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lT(e){var t=Vne(e,"string");return wl(t)=="symbol"?t:t+""}function Vne(e,t){if(wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gne=Math.PI/180,ZS=1e-5,Wm=function(e){function t(){return Fne(this,t),qne(this,t,arguments)}return Hne(t,e),Une(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Ye(i,s,l,n.coordinate),h=Ye(i,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Gne),s;return i>ZS?s=a==="outer"?"start":"end":i<-ZS?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=Mi(Mi({},he(this.props,!1)),{},{fill:"none"},he(l,!1));if(c==="circle")return R.createElement(Fm,Wi({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(h){return Ye(a,i,s,h.coordinate)});return R.createElement(cne,Wi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=he(this.props,!1),f=he(s,!1),h=Mi(Mi({},d),{},{fill:"none"},he(l,!1)),p=i.map(function(m,y){var v=n.getTickLineCoord(m),x=n.getTickTextAnchor(m),g=Mi(Mi(Mi({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:m,x:v.x2,y:v.y2});return R.createElement(Te,Wi({className:je("recharts-polar-angle-axis-tick",WC(s)),key:"tick-".concat(m.coordinate)},Ps(n.props,m,y)),l&&R.createElement("line",Wi({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&t.renderTickItem(s,g,c?c(m.value,y):m.value))});return R.createElement(Te,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:R.createElement(Te,{className:je("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return R.isValidElement(n)?s=R.cloneElement(n,a):xe(n)?s=n(a):s=R.createElement(Es,Wi({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(N.PureComponent);Km(Wm,"displayName","PolarAngleAxis");Km(Wm,"axisType","angleAxis");Km(Wm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Qne=hE,Yne=Qne(Object.getPrototypeOf,Object),Jne=Yne,Xne=Ca,Zne=Jne,eae=Ta,tae="[object Object]",rae=Function.prototype,nae=Object.prototype,cT=rae.toString,aae=nae.hasOwnProperty,iae=cT.call(Object);function sae(e){if(!eae(e)||Xne(e)!=tae)return!1;var t=Zne(e);if(t===null)return!0;var r=aae.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&cT.call(r)==iae}var oae=sae;const lae=De(oae);var cae=Ca,uae=Ta,dae="[object Boolean]";function fae(e){return e===!0||e===!1||uae(e)&&cae(e)==dae}var hae=fae;const pae=De(hae);function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(this,arguments)}function mae(e,t){return xae(e)||vae(e,t)||yae(e,t)||gae()}function gae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yae(e,t){if(e){if(typeof e=="string")return e2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e2(e,t)}}function e2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function xae(e){if(Array.isArray(e))return e}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){bae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bae(e,t,r){return t=_ae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ae(e){var t=wae(e,"string");return ad(t)=="symbol"?t:t+""}function wae(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n2=function(t,r,n,a,i){var s=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+i),l+="L ".concat(t+n-s/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},kae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jae=function(t){var r=r2(r2({},kae),t),n=N.useRef(),a=N.useState(-1),i=mae(a,2),s=i[0],l=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,y=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=je("recharts-trapezoid",p);return x?R.createElement(Gn,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:y,animationEasing:m,isActive:x},function(_){var k=_.upperWidth,w=_.lowerWidth,b=_.height,S=_.x,j=_.y;return R.createElement(Gn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:m},R.createElement("path",gp({},he(r,!0),{className:g,d:n2(S,j,k,w,b),ref:n})))}):R.createElement("g",null,R.createElement("path",gp({},he(r,!0),{className:g,d:n2(c,u,d,f,h)})))},Sae=["option","shapeType","propTransformer","activeClassName","isActive"];function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function Nae(e,t){if(e==null)return{};var r=Oae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){Aae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aae(e,t,r){return t=Pae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pae(e){var t=Eae(e,"string");return id(t)=="symbol"?t:t+""}function Eae(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cae(e,t){return yp(yp({},t),e)}function Tae(e,t){return e==="symbols"}function i2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(j_,r);case"trapezoid":return R.createElement(jae,r);case"sector":return R.createElement(GC,r);case"symbols":if(Tae(t))return R.createElement(qb,r);break;default:return null}}function $ae(e){return N.isValidElement(e)?e.props:e}function uT(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Cae:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Nae(e,Sae),u;if(N.isValidElement(t))u=N.cloneElement(t,yp(yp({},c),$ae(t)));else if(xe(t))u=t(c);else if(lae(t)&&!pae(t)){var d=a(t,c);u=R.createElement(i2,{shapeType:r,elementProps:d})}else{var f=c;u=R.createElement(i2,{shapeType:r,elementProps:f})}return l?R.createElement(Te,{className:s},u):u}function Hm(e,t){return t!=null&&"trapezoids"in e.props}function Vm(e,t){return t!=null&&"sectors"in e.props}function sd(e,t){return t!=null&&"points"in e.props}function Rae(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Iae(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Mae(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Dae(e,t){var r;return Hm(e,t)?r=Rae:Vm(e,t)?r=Iae:sd(e,t)&&(r=Mae),r}function Lae(e,t){var r;return Hm(e,t)?r="trapezoids":Vm(e,t)?r="sectors":sd(e,t)&&(r="points"),r}function zae(e,t){if(Hm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Vm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return sd(e,t)?t.payload:{}}function Bae(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Lae(r,t),i=zae(r,t),s=n.filter(function(c,u){var d=vl(i,c),f=r.props[a].filter(function(m){var y=Dae(r,t);return y(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(s[s.length-1]);return l}var Qf;function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oo.apply(this,arguments)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){Qr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fT(n.key),n)}}function Uae(e,t,r){return t&&o2(e.prototype,t),r&&o2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qae(e,t,r){return t=vp(t),Kae(e,dT()?Reflect.construct(t,r||[],vp(e).constructor):t.apply(e,r))}function Kae(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wae(e)}function Wae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dT=function(){return!!e})()}function vp(e){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vp(e)}function Hae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qv(e,t)}function Qv(e,t){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qv(e,t)}function Qr(e,t,r){return t=fT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fT(e){var t=Vae(e,"string");return kl(t)=="symbol"?t:t+""}function Vae(e,t){if(kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qn=function(e){function t(r){var n;return Fae(this,t),n=qae(this,t,[r]),Qr(n,"pieRef",null),Qr(n,"sectorRefs",[]),Qr(n,"id",Xl("recharts-pie-")),Qr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),xe(a)&&a()}),Qr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),xe(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Hae(t,e),Uae(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=he(this.props,!1),f=he(s,!1),h=he(l,!1),p=s&&s.offsetRadius||20,m=n.map(function(y,v){var x=(y.startAngle+y.endAngle)/2,g=Ye(y.cx,y.cy,y.outerRadius+p,x),_=Ve(Ve(Ve(Ve({},d),y),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(g.x,y.cx)},g),k=Ve(Ve(Ve(Ve({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[Ye(y.cx,y.cy,y.outerRadius,x),g]}),w=c;return we(c)&&we(u)?w="value":we(c)&&(w=u),R.createElement(Te,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,k,"line"),t.renderLabelItem(s,_,jt(y,w)))});return R.createElement(Te,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?s:h,m=Ve(Ve({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return R.createElement(Te,Oo({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Ps(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),R.createElement(uT,Oo({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return R.createElement(Gn,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var y=m.t,v=[],x=i&&i[0],g=x.startAngle;return i.forEach(function(_,k){var w=h&&h[k],b=k>0?$r(_,"paddingAngle",0):0;if(w){var S=dr(w.endAngle-w.startAngle,_.endAngle-_.startAngle),j=Ve(Ve({},_),{},{startAngle:g+b,endAngle:g+S(y)+b});v.push(j),g=j.endAngle}else{var O=_.endAngle,C=_.startAngle,T=dr(0,O-C),M=T(y),L=Ve(Ve({},_),{},{startAngle:g+b,endAngle:g+M+b});v.push(L),g=L.endAngle}}),R.createElement(Te,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!vl(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!s||!s.length||!Z(u)||!Z(d)||!Z(f)||!Z(h))return null;var y=je("recharts-pie",l);return R.createElement(Te,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(s),$t.renderCallByParent(this.props,null,!1),(!p||m)&&ya.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(R.isValidElement(n))return R.cloneElement(n,a);if(xe(n))return n(a);var s=je("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return R.createElement(Fo,Oo({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(R.isValidElement(n))return R.cloneElement(n,a);var s=i;if(xe(n)&&(s=n(a),R.isValidElement(s)))return s;var l=je("recharts-pie-label-text",typeof n!="boolean"&&!xe(n)?n.className:"");return R.createElement(Es,Oo({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(N.PureComponent);Qf=Qn;Qr(Qn,"displayName","Pie");Qr(Qn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!zs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Qr(Qn,"parseDeltaAngle",function(e,t){var r=tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Qr(Qn,"getRealPieData",function(e){var t=e.data,r=e.children,n=he(e,!1),a=en(r,ps);return t&&t.length?t.map(function(i,s){return Ve(Ve(Ve({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return Ve(Ve({},n),i.props)}):[]});Qr(Qn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=KC(a,i),l=n+rr(e.cx,a,a/2),c=r+rr(e.cy,i,i/2),u=rr(e.innerRadius,s,0),d=rr(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Qr(Qn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ve(Ve({},t.type.defaultProps),t.props):t.props,a=Qf.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=Qf.parseCoordinateOfPie(n,r),y=Qf.parseDeltaAngle(s,l),v=Math.abs(y),x=u;we(u)&&we(f)?(Sn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):we(u)&&(Sn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var g=a.filter(function(j){return jt(j,x,0)!==0}).length,_=(v>=360?g:g-1)*c,k=v-g*p-_,w=a.reduce(function(j,O){var C=jt(O,x,0);return j+(Z(C)?C:0)},0),b;if(w>0){var S;b=a.map(function(j,O){var C=jt(j,x,0),T=jt(j,d,O),M=(Z(C)?C:0)/w,L;O?L=S.endAngle+tr(y)*c*(C!==0?1:0):L=s;var U=L+tr(y)*((C!==0?p:0)+M*k),A=(L+U)/2,D=(m.innerRadius+m.outerRadius)/2,E=[{name:T,value:C,payload:j,dataKey:x,type:h}],$=Ye(m.cx,m.cy,D,A);return S=Ve(Ve(Ve({percent:M,cornerRadius:i,name:T,tooltipPayload:E,midAngle:A,middleRadius:D,tooltipPosition:$},j),m),{},{value:jt(j,x),startAngle:L,endAngle:U,payload:j,paddingAngle:tr(y)*c}),S})}return Ve(Ve({},m),{},{sectors:b,data:a})});var Gae=Math.ceil,Qae=Math.max;function Yae(e,t,r,n){for(var a=-1,i=Qae(Gae((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var Jae=Yae,Xae=TE,l2=1/0,Zae=17976931348623157e292;function eie(e){if(!e)return e===0?e:0;if(e=Xae(e),e===l2||e===-l2){var t=e<0?-1:1;return t*Zae}return e===e?e:0}var hT=eie,tie=Jae,rie=Pm,l0=hT;function nie(e){return function(t,r,n){return n&&typeof n!="number"&&rie(t,r,n)&&(r=n=void 0),t=l0(t),r===void 0?(r=t,t=0):r=l0(r),n=n===void 0?t<r?1:-1:l0(n),tie(t,r,n,e)}}var aie=nie,iie=aie,sie=iie(),oie=sie;const xp=De(oie);function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){pT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pT(e,t,r){return t=lie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lie(e){var t=cie(e,"string");return od(t)=="symbol"?t:t+""}function cie(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uie=["Webkit","Moz","O","ms"],die=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=uie.reduce(function(i,s){return u2(u2({},i),{},pT({},s+n,r))},{});return a[t]=r,a};function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(this,arguments)}function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){Sr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gT(n.key),n)}}function hie(e,t,r){return t&&f2(e.prototype,t),r&&f2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pie(e,t,r){return t=_p(t),mie(e,mT()?Reflect.construct(t,r||[],_p(e).constructor):t.apply(e,r))}function mie(e,t){if(t&&(jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gie(e)}function gie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mT=function(){return!!e})()}function _p(e){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(e)}function yie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yv(e,t)}function Yv(e,t){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yv(e,t)}function Sr(e,t,r){return t=gT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gT(e){var t=vie(e,"string");return jl(t)=="symbol"?t:t+""}function vie(e,t){if(jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xie=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Qc().domain(xp(0,c)).range([i,i+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},h2=function(t){return t.changedTouches&&!!t.changedTouches.length},Sl=function(e){function t(r){var n;return fie(this,t),n=pie(this,t,[r]),Sr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Sr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Sr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Sr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Sr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Sr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Sr(n,"handleSlideDragStart",function(a){var i=h2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return yie(t,e),hie(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),m=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=jt(i[n],l,n);return xe(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,m=c.onChange,y=n.pageX-i;y>0?y=Math.min(y,u+d-f-l,u+d-f-s):y<0&&(y=Math.max(y,u-s,u-l));var v=this.getIndex({startX:s+y,endX:l+y});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:s+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=h2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,y=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},g=n.pageX-i;g>0?g=Math.min(g,f+h-p-u):g<0&&(g=Math.max(g,f-u)),x[s]=u+g;var _=this.getIndex(x),k=_.startIndex,w=_.endIndex,b=function(){var j=v.length-1;return s==="startX"&&(l>c?k%y===0:w%y===0)||l<c&&w===j||s==="endX"&&(l>c?w%y===0:k%y===0)||l>c&&w===j};this.setState(Sr(Sr({},s,u+g),"brushMoveStartX",n.pageX),function(){m&&b()&&m(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Sr({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return R.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=N.Children.only(u);return f?R.cloneElement(f,{x:a,y:i,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,m=c.data,y=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),g=c0(c0({},he(this.props,!1)),{},{x,y:u,width:d,height:f}),_=p||"Min value: ".concat((i=m[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return R.createElement(Te,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return R.createElement(Te,{className:"recharts-brush-texts"},R.createElement(Es,bp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+l/2},m),this.getTextOfTick(a)),R.createElement(Es,bp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+l/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,y=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!Z(l)||!Z(c)||!Z(u)||!Z(d)||u<=0||d<=0)return null;var _=je("recharts-brush",i),k=R.Children.count(s)===1,w=die("userSelect","none");return R.createElement(Te,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(y||v||x||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),R.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return R.isValidElement(n)?i=R.cloneElement(n,a):xe(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return c0({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?xie({data:i,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])}(N.PureComponent);Sr(Sl,"displayName","Brush");Sr(Sl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bie=Yb;function _ie(e,t){var r;return bie(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var wie=_ie,kie=iE,jie=Jn,Sie=wie,Nie=kr,Oie=Pm;function Aie(e,t,r){var n=Nie(e)?kie:Sie;return r&&Oie(e,t,r)&&(t=void 0),n(e,jie(t))}var Pie=Aie;const Eie=De(Pie);var Kn=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},p2=OE;function Cie(e,t,r){t=="__proto__"&&p2?p2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Tie=Cie,$ie=Tie,Rie=SE,Iie=Jn;function Mie(e,t){var r={};return t=Iie(t),Rie(e,function(n,a,i){$ie(r,a,t(n,a,i))}),r}var Die=Mie;const Lie=De(Die);function zie(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Bie=zie,Fie=Yb;function Uie(e,t){var r=!0;return Fie(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var qie=Uie,Kie=Bie,Wie=qie,Hie=Jn,Vie=kr,Gie=Pm;function Qie(e,t,r){var n=Vie(e)?Kie:Wie;return r&&Gie(e,t,r)&&(t=void 0),n(e,Hie(t))}var Yie=Qie;const yT=De(Yie);var Jie=["x","y"];function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(this,arguments)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){Xie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xie(e,t,r){return t=Zie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zie(e){var t=ese(e,"string");return ld(t)=="symbol"?t:t+""}function ese(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tse(e,t){if(e==null)return{};var r=rse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nse(e,t){var r=e.x,n=e.y,a=tse(e,Jie),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Oc(Oc(Oc(Oc(Oc({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function g2(e){return R.createElement(uT,Jv({shapeType:"rectangle",propTransformer:nse,activeClassName:"recharts-active-bar"},e))}var ase=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Z(n)||SB(n);return i?t(n,a):(i||Ts(),r)}},ise=["value","background"],vT;function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function sse(e,t){if(e==null)return{};var r=ose(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ose(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(this,arguments)}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){oi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bT(n.key),n)}}function cse(e,t,r){return t&&v2(e.prototype,t),r&&v2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function use(e,t,r){return t=kp(t),dse(e,xT()?Reflect.construct(t,r||[],kp(e).constructor):t.apply(e,r))}function dse(e,t){if(t&&(Nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fse(e)}function fse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xT=function(){return!!e})()}function kp(e){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(e)}function hse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xv(e,t)}function Xv(e,t){return Xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xv(e,t)}function oi(e,t,r){return t=bT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bT(e){var t=pse(e,"string");return Nl(t)=="symbol"?t:t+""}function pse(e,t){if(Nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ra=function(e){function t(){var r;lse(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=use(this,t,[].concat(a)),oi(r,"state",{isAnimationFinished:!1}),oi(r,"id",Xl("recharts-bar-")),oi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),oi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return hse(t,e),cse(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=he(this.props,!1);return n&&n.map(function(f,h){var p=h===c,m=p?u:s,y=mt(mt(mt({},d),f),{},{isActive:p,option:m,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return R.createElement(Te,wp({className:"recharts-bar-rectangle"},Ps(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),R.createElement(g2,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return R.createElement(Gn,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,y=i.map(function(v,x){var g=h&&h[x];if(g){var _=dr(g.x,v.x),k=dr(g.y,v.y),w=dr(g.width,v.width),b=dr(g.height,v.height);return mt(mt({},v),{},{x:_(m),y:k(m),width:w(m),height:b(m)})}if(s==="horizontal"){var S=dr(0,v.height),j=S(m);return mt(mt({},v),{},{y:v.y+v.height-j,height:j})}var O=dr(0,v.width),C=O(m);return mt(mt({},v),{},{width:C})});return R.createElement(Te,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!vl(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=he(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=sse(u,ise);if(!f)return null;var p=mt(mt(mt(mt(mt({},h),{},{fill:"#eee"},f),c),Ps(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return R.createElement(g2,wp({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=en(d,Bm);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,x){var g=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:g,errorVal:jt(v,x)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return R.createElement(Te,m,f.map(function(y){return R.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,y=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=je("recharts-bar",s),g=l&&l.allowDataOverflow,_=c&&c.allowDataOverflow,k=g||_,w=we(y)?this.id:y;return R.createElement(Te,{className:x},g||_?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(w)},R.createElement("rect",{x:g?u:u-f/2,y:_?d:d-h/2,width:g?f:f*2,height:_?h:h*2}))):null,R.createElement(Te,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,w),(!p||v)&&ya.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(N.PureComponent);vT=Ra;oi(Ra,"displayName","Bar");oi(Ra,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!zs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oi(Ra,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=KZ(n,r);if(!p)return null;var m=t.layout,y=r.type.defaultProps,v=y!==void 0?mt(mt({},y),r.props):r.props,x=v.dataKey,g=v.children,_=v.minPointSize,k=m==="horizontal"?s:i,w=u?k.scale.domain():null,b=JZ({numericAxis:k}),S=en(g,ps),j=f.map(function(O,C){var T,M,L,U,A,D;u?T=WZ(u[d+C],w):(T=jt(O,x),Array.isArray(T)||(T=[b,T]));var E=ase(_,vT.defaultProps.minPointSize)(T[1],C);if(m==="horizontal"){var $,P=[s.scale(T[0]),s.scale(T[1])],z=P[0],B=P[1];M=uS({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:O,index:C}),L=($=B??z)!==null&&$!==void 0?$:void 0,U=p.size;var q=z-B;if(A=Number.isNaN(q)?0:q,D={x:M,y:s.y,width:U,height:s.height},Math.abs(E)>0&&Math.abs(A)<Math.abs(E)){var X=tr(A||E)*(Math.abs(E)-Math.abs(A));L-=X,A+=X}}else{var F=[i.scale(T[0]),i.scale(T[1])],J=F[0],K=F[1];if(M=J,L=uS({axis:s,ticks:c,bandSize:a,offset:p.offset,entry:O,index:C}),U=K-J,A=p.size,D={x:i.x,y:L,width:i.width,height:A},Math.abs(E)>0&&Math.abs(U)<Math.abs(E)){var ae=tr(U||E)*(Math.abs(E)-Math.abs(U));U+=ae}}return mt(mt(mt({},O),{},{x:M,y:L,width:U,height:A,value:u?T:T[1],payload:O,background:D},S&&S[C]&&S[C].props),{},{tooltipPayload:[UC(r,O)],tooltipPosition:{x:M+U/2,y:L+A/2}})});return mt({data:j,layout:m},h)});function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function mse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_T(n.key),n)}}function gse(e,t,r){return t&&x2(e.prototype,t),r&&x2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){Gm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gm(e,t,r){return t=_T(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _T(e){var t=yse(e,"string");return cd(t)=="symbol"?t:t+""}function yse(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wT=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Or(u,Ra);return d.reduce(function(p,m){var y=r[m],v=y.orientation,x=y.domain,g=y.padding,_=g===void 0?{}:g,k=y.mirror,w=y.reversed,b="".concat(v).concat(k?"Mirror":""),S,j,O,C,T;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var M=x[1]-x[0],L=1/0,U=y.categoricalDomain.sort(AB);if(U.forEach(function(F,J){J>0&&(L=Math.min((F||0)-(U[J-1]||0),L))}),Number.isFinite(L)){var A=L/M,D=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(S=A*D/2),y.padding==="no-gap"){var E=rr(t.barCategoryGap,A*D),$=A*D/2;S=$-E-($-E)/D*E}}}a==="xAxis"?j=[n.left+(_.left||0)+(S||0),n.left+n.width-(_.right||0)-(S||0)]:a==="yAxis"?j=c==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(S||0),n.top+n.height-(_.bottom||0)-(S||0)]:j=y.range,w&&(j=[j[1],j[0]]);var P=LC(y,i,h),z=P.scale,B=P.realScaleType;z.domain(x).range(j),zC(z);var q=BC(z,yn(yn({},y),{},{realScaleType:B}));a==="xAxis"?(T=v==="top"&&!k||v==="bottom"&&k,O=n.left,C=f[b]-T*y.height):a==="yAxis"&&(T=v==="left"&&!k||v==="right"&&k,O=f[b]-T*y.width,C=n.top);var X=yn(yn(yn({},y),q),{},{realScaleType:B,x:O,y:C,scale:z,width:a==="xAxis"?n.width:y.width,height:a==="yAxis"?n.height:y.height});return X.bandSize=sp(X,q),!y.hide&&a==="xAxis"?f[b]+=(T?-1:1)*X.height:y.hide||(f[b]+=(T?-1:1)*X.width),yn(yn({},p),{},Gm({},m,X))},{})},kT=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},vse=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return kT({x:r,y:n},{x:a,y:i})},jT=function(){function e(t){mse(this,e),this.scale=t}return gse(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Gm(jT,"EPS",1e-4);var S_=function(t){var r=Object.keys(t).reduce(function(n,a){return yn(yn({},n),{},Gm({},a,jT.create(t[a])))},{});return yn(yn({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return Lie(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return yT(a,function(i,s){return r[s].isInRange(i)})}})};function xse(e){return(e%180+180)%180}var bse=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=xse(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},_se=Jn,wse=Pd,kse=Om;function jse(e){return function(t,r,n){var a=Object(t);if(!wse(t)){var i=_se(r);t=kse(t),r=function(l){return i(a[l],l,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var Sse=jse,Nse=hT;function Ose(e){var t=Nse(e),r=t%1;return t===t?r?t-r:t:0}var Ase=Ose,Pse=xE,Ese=Jn,Cse=Ase,Tse=Math.max;function $se(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Cse(r);return a<0&&(a=Tse(n+a,0)),Pse(e,Ese(t),a)}var Rse=$se,Ise=Sse,Mse=Rse,Dse=Ise(Mse),Lse=Dse;const zse=De(Lse);var Bse=Cz(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),N_=N.createContext(void 0),O_=N.createContext(void 0),ST=N.createContext(void 0),NT=N.createContext({}),OT=N.createContext(void 0),AT=N.createContext(0),PT=N.createContext(0),_2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=Bse(i);return R.createElement(N_.Provider,{value:n},R.createElement(O_.Provider,{value:a},R.createElement(NT.Provider,{value:i},R.createElement(ST.Provider,{value:d},R.createElement(OT.Provider,{value:s},R.createElement(AT.Provider,{value:u},R.createElement(PT.Provider,{value:c},l)))))))},Fse=function(){return N.useContext(OT)},ET=function(t){var r=N.useContext(N_);r==null&&Ts();var n=r[t];return n==null&&Ts(),n},Use=function(){var t=N.useContext(N_);return Va(t)},qse=function(){var t=N.useContext(O_),r=zse(t,function(n){return yT(n.domain,Number.isFinite)});return r||Va(t)},CT=function(t){var r=N.useContext(O_);r==null&&Ts();var n=r[t];return n==null&&Ts(),n},Kse=function(){var t=N.useContext(ST);return t},Wse=function(){return N.useContext(NT)},A_=function(){return N.useContext(PT)},P_=function(){return N.useContext(AT)};function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function Hse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$T(n.key),n)}}function Gse(e,t,r){return t&&Vse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qse(e,t,r){return t=jp(t),Yse(e,TT()?Reflect.construct(t,r||[],jp(e).constructor):t.apply(e,r))}function Yse(e,t){if(t&&(Ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jse(e)}function Jse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TT=function(){return!!e})()}function jp(e){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jp(e)}function Xse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zv(e,t)}function Zv(e,t){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zv(e,t)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){E_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E_(e,t,r){return t=$T(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $T(e){var t=Zse(e,"string");return Ol(t)=="symbol"?t:t+""}function Zse(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eoe(e,t){return aoe(e)||noe(e,t)||roe(e,t)||toe()}function toe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function roe(e,t){if(e){if(typeof e=="string")return j2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j2(e,t)}}function j2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function noe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function aoe(e){if(Array.isArray(e))return e}function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(this,arguments)}var ioe=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):xe(t)?n=t(r):n=R.createElement("line",ex({},r,{className:"recharts-reference-line-line"})),n},soe=function(t,r,n,a,i,s,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var m=u.y,y=t.y.apply(m,{position:s});if(Kn(u,"discard")&&!t.y.isInRange(y))return null;var v=[{x:d+h,y},{x:d,y}];return c==="left"?v.reverse():v}if(r){var x=u.x,g=t.x.apply(x,{position:s});if(Kn(u,"discard")&&!t.x.isInRange(g))return null;var _=[{x:g,y:f+p},{x:g,y:f}];return l==="top"?_.reverse():_}if(a){var k=u.segment,w=k.map(function(b){return t.apply(b,{position:s})});return Kn(u,"discard")&&Eie(w,function(b){return!t.isInRange(b)})?null:w}return null};function ooe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=Fse(),d=ET(a),f=CT(i),h=Kse();if(!u||!h)return null;Sn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=S_({x:d.scale,y:f.scale}),m=Nt(t),y=Nt(r),v=n&&n.length===2,x=soe(p,m,y,v,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var g=eoe(x,2),_=g[0],k=_.x,w=_.y,b=g[1],S=b.x,j=b.y,O=Kn(e,"hidden")?"url(#".concat(u,")"):void 0,C=k2(k2({clipPath:O},he(e,!0)),{},{x1:k,y1:w,x2:S,y2:j});return R.createElement(Te,{className:je("recharts-reference-line",l)},ioe(s,C),$t.renderCallByParent(e,vse({x1:k,y1:w,x2:S,y2:j})))}var C_=function(e){function t(){return Hse(this,t),Qse(this,t,arguments)}return Xse(t,e),Gse(t,[{key:"render",value:function(){return R.createElement(ooe,this.props)}}])}(R.Component);E_(C_,"displayName","ReferenceLine");E_(C_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(this,arguments)}function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){Qm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function loe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function coe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IT(n.key),n)}}function uoe(e,t,r){return t&&coe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function doe(e,t,r){return t=Sp(t),foe(e,RT()?Reflect.construct(t,r||[],Sp(e).constructor):t.apply(e,r))}function foe(e,t){if(t&&(Al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hoe(e)}function hoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RT=function(){return!!e})()}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(e)}function poe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rx(e,t)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rx(e,t)}function Qm(e,t,r){return t=IT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IT(e){var t=moe(e,"string");return Al(t)=="symbol"?t:t+""}function moe(e,t){if(Al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var goe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=S_({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Kn(t,"discard")&&!s.isInRange(l)?null:l},Ym=function(e){function t(){return loe(this,t),doe(this,t,arguments)}return poe(t,e),uoe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=Nt(a),d=Nt(i);if(Sn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=goe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,y=m.shape,v=m.className,x=Kn(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=N2(N2({clipPath:x},he(this.props,!0)),{},{cx:h,cy:p});return R.createElement(Te,{className:je("recharts-reference-dot",v)},t.renderDot(y,g),$t.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(R.Component);Qm(Ym,"displayName","ReferenceDot");Qm(Ym,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Qm(Ym,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):xe(e)?r=e(t):r=R.createElement(Fm,tx({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nx.apply(this,arguments)}function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function O2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(r),!0).forEach(function(n){Jm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function voe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DT(n.key),n)}}function xoe(e,t,r){return t&&voe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function boe(e,t,r){return t=Np(t),_oe(e,MT()?Reflect.construct(t,r||[],Np(e).constructor):t.apply(e,r))}function _oe(e,t){if(t&&(Pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return woe(e)}function woe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MT=function(){return!!e})()}function Np(e){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Np(e)}function koe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ax(e,t)}function ax(e,t){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ax(e,t)}function Jm(e,t,r){return t=DT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DT(e){var t=joe(e,"string");return Pl(t)=="symbol"?t:t+""}function joe(e,t){if(Pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Soe=function(t,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=S_({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Kn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:kT(p,m)},Xm=function(e){function t(){return yoe(this,t),boe(this,t,arguments)}return koe(t,e),xoe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Sn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Nt(a),h=Nt(i),p=Nt(s),m=Nt(l),y=this.props.shape;if(!f&&!h&&!p&&!m&&!y)return null;var v=Soe(f,h,p,m,this.props);if(!v&&!y)return null;var x=Kn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return R.createElement(Te,{className:je("recharts-reference-area",c)},t.renderRect(y,A2(A2({clipPath:x},he(this.props,!0)),v)),$t.renderCallByParent(this.props,v))}}])}(R.Component);Jm(Xm,"displayName","ReferenceArea");Jm(Xm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jm(Xm,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):xe(e)?r=e(t):r=R.createElement(j_,nx({},t,{className:"recharts-reference-area-rect"})),r});function LT(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Noe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return bse(n,r)}function Ooe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function Op(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Aoe(e,t){return LT(e,t+1)}function Poe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:LT(n,u)};var y=c,v,x=function(){return v===void 0&&(v=r(m,y)),v},g=m.coordinate,_=c===0||Op(e,g,x,d,l);_||(c=0,d=s,u+=1),_&&(d=g+e*(x()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){Eoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eoe(e,t,r){return t=Coe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Coe(e){var t=Toe(e,"string");return ud(t)=="symbol"?t:t+""}function Toe(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $oe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],m,y=function(){return m===void 0&&(m=r(p,h)),m};if(h===s-1){var v=e*(p.coordinate+e*y()/2-c);i[h]=p=Vt(Vt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Vt(Vt({},p),{},{tickCoord:p.coordinate});var x=Op(e,p.tickCoord,y,l,c);x&&(c=p.tickCoord-e*(y()/2+a),i[h]=Vt(Vt({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function Roe(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=Vt(Vt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Op(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),s[l-1]=Vt(Vt({},d),{},{isShow:!0}))}for(var m=i?l-1:l,y=function(g){var _=s[g],k,w=function(){return k===void 0&&(k=r(_,g)),k};if(g===0){var b=e*(_.coordinate-e*w()/2-c);s[g]=_=Vt(Vt({},_),{},{tickCoord:b<0?_.coordinate-b*e:_.coordinate})}else s[g]=_=Vt(Vt({},_),{},{tickCoord:_.coordinate});var S=Op(e,_.tickCoord,w,c,u);S&&(c=_.tickCoord+e*(w()/2+a),s[g]=Vt(Vt({},_),{},{isShow:!0}))},v=0;v<m;v++)y(v);return s}function T_(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Z(c)||zs.isSsr)return Aoe(a,typeof c=="number"&&Z(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",m=d&&p==="width"?Gc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(_,k){var w=xe(u)?u(_.value,k):_.value;return p==="width"?Noe(Gc(w,{fontSize:t,letterSpacing:r}),m,f):Gc(w,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?tr(a[1].coordinate-a[0].coordinate):1,x=Ooe(i,v,p);return c==="equidistantPreserveStart"?Poe(v,x,y,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=Roe(v,x,y,a,s,c==="preserveStartEnd"):h=$oe(v,x,y,a,s),h.filter(function(g){return g.isShow}))}var Ioe=["viewBox"],Moe=["viewBox"],Doe=["ticks"];function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ao.apply(this,arguments)}function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){$_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u0(e,t){if(e==null)return{};var r=Loe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Loe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BT(n.key),n)}}function Boe(e,t,r){return t&&C2(e.prototype,t),r&&C2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Foe(e,t,r){return t=Ap(t),Uoe(e,zT()?Reflect.construct(t,r||[],Ap(e).constructor):t.apply(e,r))}function Uoe(e,t){if(t&&(El(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qoe(e)}function qoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zT=function(){return!!e})()}function Ap(e){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ap(e)}function Koe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ix(e,t)}function ix(e,t){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ix(e,t)}function $_(e,t,r){return t=BT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BT(e){var t=Woe(e,"string");return El(t)=="symbol"?t:t+""}function Woe(e,t){if(El(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ic=function(e){function t(r){var n;return zoe(this,t),n=Foe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Koe(t,e),Boe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=u0(n,Ioe),l=this.props,c=l.viewBox,u=u0(l,Moe);return!Do(i,c)||!Do(s,u)||!Do(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,y,v,x,g,_=f?-1:1,k=n.tickSize||d,w=Z(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,v=s+ +!f*c,y=v-_*k,g=y-_*h,x=w;break;case"left":y=v=n.coordinate,m=i+ +!f*l,p=m-_*k,x=p-_*h,g=w;break;case"right":y=v=n.coordinate,m=i+ +f*l,p=m+_*k,x=p+_*h,g=w;break;default:p=m=n.coordinate,v=s+ +f*c,y=v+_*k,g=y+_*h,x=w;break}return{line:{x1:p,y1:y,x2:m,y2:v},tick:{x,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=xt(xt(xt({},he(this.props,!1)),he(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=xt(xt({},f),{},{x1:a,y1:i+h*l,x2:a+s,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=xt(xt({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+l})}return R.createElement("line",Ao({},f,{className:je("recharts-cartesian-axis-line",$r(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=T_(xt(xt({},this.props),{},{ticks:n}),a,i),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=he(this.props,!1),x=he(d,!1),g=xt(xt({},v),{},{fill:"none"},he(c,!1)),_=p.map(function(k,w){var b=s.getTickLineCoord(k),S=b.line,j=b.tick,O=xt(xt(xt(xt({textAnchor:m,verticalAnchor:y},v),{},{stroke:"none",fill:u},x),j),{},{index:w,payload:k,visibleTicksCount:p.length,tickFormatter:f});return R.createElement(Te,Ao({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Ps(s.props,k,w)),c&&R.createElement("line",Ao({},g,S,{className:je("recharts-cartesian-axis-tick-line",$r(c,"className"))})),d&&t.renderTickItem(d,O,"".concat(xe(f)?f(k.value,w):k.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=u0(f,Doe),m=h;return xe(c)&&(m=h&&h.length>0?c(this.props):c(p)),s<=0||l<=0||!m||!m.length?null:R.createElement(Te,{className:je("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),$t.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,l=je(a.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(n)?s=R.cloneElement(n,xt(xt({},a),{},{className:l})):xe(n)?s=n(xt(xt({},a),{},{className:l})):s=R.createElement(Es,Ao({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(N.Component);$_(ic,"displayName","CartesianAxis");$_(ic,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Hoe=["x1","y1","x2","y2","key"],Voe=["offset"];function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){Goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Goe(e,t,r){return t=Qoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qoe(e){var t=Yoe(e,"string");return $s(t)=="symbol"?t:t+""}function Yoe(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function $2(e,t){if(e==null)return{};var r=Joe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Joe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Xoe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,l=t.height,c=t.ry;return R.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function FT(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(xe(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,l=t.key,c=$2(t,Hoe),u=he(c,!1);u.offset;var d=$2(u,Voe);r=R.createElement("line",ts({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function Zoe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=Qt(Qt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return FT(a,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function ele(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=Qt(Qt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return FT(a,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function tle(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],y=m?a+s-h:d[p+1]-h;if(y<=0)return null;var v=p%t.length;return R.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function rle(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],y=m?i+l-h:d[p+1]-h;if(y<=0)return null;var v=p%n.length;return R.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:y,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var nle=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return DC(T_(Qt(Qt(Qt({},ic.defaultProps),n),{},{ticks:ha(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},ale=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return DC(T_(Qt(Qt(Qt({},ic.defaultProps),n),{},{ticks:ha(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},eo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Wn(e){var t,r,n,a,i,s,l=A_(),c=P_(),u=Wse(),d=Qt(Qt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:eo.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:eo.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:eo.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:eo.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:eo.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:eo.verticalFill,x:Z(e.x)?e.x:u.left,y:Z(e.y)?e.y:u.top,width:Z(e.width)?e.width:u.width,height:Z(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,y=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,g=Use(),_=qse();if(!Z(p)||p<=0||!Z(m)||m<=0||!Z(f)||f!==+f||!Z(h)||h!==+h)return null;var k=d.verticalCoordinatesGenerator||nle,w=d.horizontalCoordinatesGenerator||ale,b=d.horizontalPoints,S=d.verticalPoints;if((!b||!b.length)&&xe(w)){var j=v&&v.length,O=w({yAxis:_?Qt(Qt({},_),{},{ticks:j?v:_.ticks}):void 0,width:l,height:c,offset:u},j?!0:y);Sn(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($s(O),"]")),Array.isArray(O)&&(b=O)}if((!S||!S.length)&&xe(k)){var C=x&&x.length,T=k({xAxis:g?Qt(Qt({},g),{},{ticks:C?x:g.ticks}):void 0,width:l,height:c,offset:u},C?!0:y);Sn(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($s(T),"]")),Array.isArray(T)&&(S=T)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(Xoe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),R.createElement(Zoe,ts({},d,{offset:u,horizontalPoints:b,xAxis:g,yAxis:_})),R.createElement(ele,ts({},d,{offset:u,verticalPoints:S,xAxis:g,yAxis:_})),R.createElement(tle,ts({},d,{horizontalPoints:b})),R.createElement(rle,ts({},d,{verticalPoints:S})))}Wn.displayName="CartesianGrid";var ile=["layout","type","stroke","connectNulls","isRange","ref"],sle=["key"],UT;function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function qT(e,t){if(e==null)return{};var r=ole(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ole(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rs.apply(this,arguments)}function R2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(r),!0).forEach(function(n){Bn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WT(n.key),n)}}function cle(e,t,r){return t&&I2(e.prototype,t),r&&I2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ule(e,t,r){return t=Pp(t),dle(e,KT()?Reflect.construct(t,r||[],Pp(e).constructor):t.apply(e,r))}function dle(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fle(e)}function fle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KT=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(e)}function hle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sx(e,t)}function sx(e,t){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sx(e,t)}function Bn(e,t,r){return t=WT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WT(e){var t=ple(e,"string");return Cl(t)=="symbol"?t:t+""}function ple(e,t){if(Cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bt=function(e){function t(){var r;lle(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ule(this,t,[].concat(a)),Bn(r,"state",{isAnimationFinished:!0}),Bn(r,"id",Xl("recharts-area-")),Bn(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),xe(s)&&s()}),Bn(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),xe(s)&&s()}),r}return hle(t,e),cle(t,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=he(this.props,!1),p=he(u,!0),m=d.map(function(v,x){var g=La(La(La({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,g)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return R.createElement(Te,rs({className:"recharts-area-dots"},y),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=n*Math.abs(c-u),f=si(s.map(function(h){return h.y||0}));return Z(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(si(i.map(function(h){return h.y||0})),f)),Z(f)?R.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=n*Math.abs(c-u),f=si(s.map(function(h){return h.x||0}));return Z(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(si(i.map(function(h){return h.x||0})),f)),Z(f)?R.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=qT(l,ile);return R.createElement(Te,{clipPath:i?"url(#clipPath-".concat(s,")"):null},R.createElement(Fo,rs({},he(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&R.createElement(Fo,rs({},he(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&R.createElement(Fo,rs({},he(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=this.state,y=m.prevPoints,v=m.prevBaseLine;return R.createElement(Gn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var g=x.t;if(y){var _=y.length/l.length,k=l.map(function(j,O){var C=Math.floor(O*_);if(y[C]){var T=y[C],M=dr(T.x,j.x),L=dr(T.y,j.y);return La(La({},j),{},{x:M(g),y:L(g)})}return j}),w;if(Z(c)&&typeof c=="number"){var b=dr(v,c);w=b(g)}else if(we(c)||Jl(c)){var S=dr(v,0);w=S(g)}else w=c.map(function(j,O){var C=Math.floor(O*_);if(v[C]){var T=v[C],M=dr(T.x,j.x),L=dr(T.y,j.y);return La(La({},j),{},{x:M(g),y:L(g)})}return j});return i.renderAreaStatically(k,w,n,a)}return R.createElement(Te,null,R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(g))),R.createElement(Te,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!vl(d,s)||!vl(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,m=a.height,y=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,g=l.length===1,_=je("recharts-area",c),k=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,b=k||w,S=we(v)?this.id:v,j=(n=he(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=j.r,C=O===void 0?3:O,T=j.strokeWidth,M=T===void 0?2:T,L=DB(s)?s:{},U=L.clipDot,A=U===void 0?!0:U,D=C*2+M;return R.createElement(Te,{className:_},k||w?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(S)},R.createElement("rect",{x:k?d:d-p/2,y:w?u:u-m/2,width:k?p:p*2,height:w?m:m*2})),!A&&R.createElement("clipPath",{id:"clipPath-dots-".concat(S)},R.createElement("rect",{x:d-D/2,y:u-D/2,width:p+D,height:m+D}))):null,g?null:this.renderArea(b,S),(s||g)&&this.renderDots(b,A,S),(!y||x)&&ya.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(N.PureComponent);UT=Bt;Bn(Bt,"displayName","Area");Bn(Bt,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!zs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Bn(Bt,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,s=t.props.baseValue,l=s??i;if(Z(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Bn(Bt,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,m=u&&u.length,y=UT.getBaseValue(t,r,n,a),v=p==="horizontal",x=!1,g=f.map(function(k,w){var b;m?b=u[d+w]:(b=jt(k,c),Array.isArray(b)?x=!0:b=[y,b]);var S=b[1]==null||m&&jt(k,c)==null;return v?{x:cS({axis:n,ticks:i,bandSize:l,entry:k,index:w}),y:S?null:a.scale(b[1]),value:b,payload:k}:{x:S?null:n.scale(b[1]),y:cS({axis:a,ticks:s,bandSize:l,entry:k,index:w}),value:b,payload:k}}),_;return m||x?_=g.map(function(k){var w=Array.isArray(k.value)?k.value[0]:null;return v?{x:k.x,y:w!=null&&k.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:k.y}}):_=v?a.scale(y):n.scale(y),La({points:g,baseLine:_,layout:p,isRange:x},h)});Bn(Bt,"renderDotItem",function(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(xe(e))r=e(t);else{var n=je("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=qT(t,sle);r=R.createElement(Fm,rs({},i,{key:a,className:n}))}return r});function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function mle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GT(n.key),n)}}function yle(e,t,r){return t&&gle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vle(e,t,r){return t=Ep(t),xle(e,HT()?Reflect.construct(t,r||[],Ep(e).constructor):t.apply(e,r))}function xle(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ble(e)}function ble(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HT=function(){return!!e})()}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(e)}function _le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ox(e,t)}function ox(e,t){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ox(e,t)}function VT(e,t,r){return t=GT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GT(e){var t=wle(e,"string");return Tl(t)=="symbol"?t:t+""}function wle(e,t){if(Tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(this,arguments)}function kle(e){var t=e.xAxisId,r=A_(),n=P_(),a=ET(t);return a==null?null:N.createElement(ic,lx({},a,{className:je("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return ha(s,!0)}}))}var xr=function(e){function t(){return mle(this,t),vle(this,t,arguments)}return _le(t,e),yle(t,[{key:"render",value:function(){return N.createElement(kle,this.props)}}])}(N.Component);VT(xr,"displayName","XAxis");VT(xr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function jle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JT(n.key),n)}}function Nle(e,t,r){return t&&Sle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ole(e,t,r){return t=Cp(t),Ale(e,QT()?Reflect.construct(t,r||[],Cp(e).constructor):t.apply(e,r))}function Ale(e,t){if(t&&($l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ple(e)}function Ple(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QT=function(){return!!e})()}function Cp(e){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(e)}function Ele(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cx(e,t)}function cx(e,t){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cx(e,t)}function YT(e,t,r){return t=JT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JT(e){var t=Cle(e,"string");return $l(t)=="symbol"?t:t+""}function Cle(e,t){if($l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ux.apply(this,arguments)}var Tle=function(t){var r=t.yAxisId,n=A_(),a=P_(),i=CT(r);return i==null?null:N.createElement(ic,ux({},i,{className:je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ha(l,!0)}}))},br=function(e){function t(){return jle(this,t),Ole(this,t,arguments)}return Ele(t,e),Nle(t,[{key:"render",value:function(){return N.createElement(Tle,this.props)}}])}(N.Component);YT(br,"displayName","YAxis");YT(br,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function M2(e){return Mle(e)||Ile(e)||Rle(e)||$le()}function $le(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rle(e,t){if(e){if(typeof e=="string")return dx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dx(e,t)}}function Ile(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mle(e){if(Array.isArray(e))return dx(e)}function dx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fx=function(t,r,n,a,i){var s=en(t,C_),l=en(t,Ym),c=[].concat(M2(s),M2(l)),u=en(t,Xm),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(y,v){if(v.props[d]===n&&Kn(v.props,"extendDomain")&&Z(v.props[f])){var x=v.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(y,v){if(v.props[d]===n&&Kn(v.props,"extendDomain")&&Z(v.props[p])&&Z(v.props[m])){var x=v.props[p],g=v.props[m];return[Math.min(y[0],x,g),Math.max(y[1],x,g)]}return y},h)}return i&&i.length&&(h=i.reduce(function(y,v){return Z(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},XT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,m){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,g,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(_=1,g=new Array(x-1);_<x;_++)g[_-1]=arguments[_];v.fn.apply(v.context,g)}else{var k=v.length,w;for(_=0;_<k;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),x){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,h);break;default:if(!g)for(w=1,g=new Array(x-1);w<x;w++)g[w-1]=arguments[w];v[_].fn.apply(v[_].context,g)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var y=0,v=[],x=m.length;y<x;y++)(m[y].fn!==d||h&&!m[y].once||f&&m[y].context!==f)&&v.push(m[y]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(XT);var Dle=XT.exports;const Lle=De(Dle);var d0=new Lle,f0="recharts.syncMouseEvents";function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function zle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ble(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZT(n.key),n)}}function Fle(e,t,r){return t&&Ble(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h0(e,t,r){return t=ZT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZT(e){var t=Ule(e,"string");return dd(t)=="symbol"?t:t+""}function Ule(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qle=function(){function e(){zle(this,e),h0(this,"activeIndex",0),h0(this,"coordinateList",[]),h0(this,"layout","horizontal")}return Fle(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Kle(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Z(n)&&Z(a))return!0}return!1}function Wle(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function e5(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Ye(t,r,n,a),l=Ye(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Hle(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ye(l,c,u,f),p=Ye(l,c,d,f);n=h.x,a=h.y,i=p.x,s=p.y}else return e5(t);return[{x:n,y:a},{x:i,y:s}]}function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){Vle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vle(e,t,r){return t=Gle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gle(e){var t=Qle(e,"string");return fd(t)=="symbol"?t:t+""}function Qle(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yle(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var m,y=Fo;if(h==="ScatterChart")m=s,y=vne;else if(h==="BarChart")m=Wle(f,s,c,d),y=j_;else if(f==="radial"){var v=e5(s),x=v.cx,g=v.cy,_=v.radius,k=v.startAngle,w=v.endAngle;m={cx:x,cy:g,startAngle:k,endAngle:w,innerRadius:_,outerRadius:_},y=GC}else m={points:Hle(f,s,c)},y=Fo;var b=jf(jf(jf(jf({stroke:"#ccc",pointerEvents:"none"},c),m),he(p,!1)),{},{payload:l,payloadIndex:u,className:je("recharts-tooltip-cursor",p.className)});return N.isValidElement(p)?N.cloneElement(p,b):N.createElement(y,b)}var Jle=["item"],Xle=["children","className","width","height","style","compact","title","desc"];function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(this,arguments)}function L2(e,t){return tce(e)||ece(e,t)||r5(e,t)||Zle()}function Zle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ece(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function tce(e){if(Array.isArray(e))return e}function z2(e,t){if(e==null)return{};var r=rce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ace(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n5(n.key),n)}}function ice(e,t,r){return t&&ace(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sce(e,t,r){return t=Tp(t),oce(e,t5()?Reflect.construct(t,r||[],Tp(e).constructor):t.apply(e,r))}function oce(e,t){if(t&&(Rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lce(e)}function lce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t5=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function cce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hx(e,t)}function hx(e,t){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hx(e,t)}function Il(e){return fce(e)||dce(e)||r5(e)||uce()}function uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5(e,t){if(e){if(typeof e=="string")return px(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return px(e,t)}}function dce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fce(e){if(Array.isArray(e))return px(e)}function px(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(r),!0).forEach(function(n){ye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ye(e,t,r){return t=n5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n5(e){var t=hce(e,"string");return Rl(t)=="symbol"?t:t+""}function hce(e,t){if(Rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pce={xAxis:["bottom","top"],yAxis:["left","right"]},mce={width:"100%",height:"100%"},a5={x:0,y:0};function Sf(e){return e}var gce=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},yce=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,l=a.radius;return H(H(H({},a),Ye(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return H(H(H({},a),Ye(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return a5},Zm=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Il(l),Il(u)):l},[]);return s.length>0?s:t&&t.length&&Z(a)&&Z(i)?t.slice(a,i+1):[]};function i5(e){return e==="number"?[0,"auto"]:void 0}var mx=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,l=Zm(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?l:f;h=Ch(p,s.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Il(c),[UC(u,h)]):c},[])},F2=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=gce(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=LZ(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=mx(t,r,d,f),p=yce(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},vce=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=MC(d,i);return n.reduce(function(m,y){var v,x=y.type.defaultProps!==void 0?H(H({},y.type.defaultProps),y.props):y.props,g=x.type,_=x.dataKey,k=x.allowDataOverflow,w=x.allowDuplicatedCategory,b=x.scale,S=x.ticks,j=x.includeHidden,O=x[s];if(m[O])return m;var C=Zm(t.data,{graphicalItems:a.filter(function(q){var X,F=s in q.props?q.props[s]:(X=q.type.defaultProps)===null||X===void 0?void 0:X[s];return F===O}),dataStartIndex:c,dataEndIndex:u}),T=C.length,M,L,U;Kle(x.domain,k,g)&&(M=Ev(x.domain,null,k),p&&(g==="number"||b!=="auto")&&(U=Yc(C,_,"category")));var A=i5(g);if(!M||M.length===0){var D,E=(D=x.domain)!==null&&D!==void 0?D:A;if(_){if(M=Yc(C,_,g),g==="category"&&p){var $=OB(M);w&&$?(L=M,M=xp(0,T)):w||(M=hS(E,M,y).reduce(function(q,X){return q.indexOf(X)>=0?q:[].concat(Il(q),[X])},[]))}else if(g==="category")w?M=M.filter(function(q){return q!==""&&!we(q)}):M=hS(E,M,y).reduce(function(q,X){return q.indexOf(X)>=0||X===""||we(X)?q:[].concat(Il(q),[X])},[]);else if(g==="number"){var P=qZ(C,a.filter(function(q){var X,F,J=s in q.props?q.props[s]:(X=q.type.defaultProps)===null||X===void 0?void 0:X[s],K="hide"in q.props?q.props.hide:(F=q.type.defaultProps)===null||F===void 0?void 0:F.hide;return J===O&&(j||!K)}),_,i,d);P&&(M=P)}p&&(g==="number"||b!=="auto")&&(U=Yc(C,_,"category"))}else p?M=xp(0,T):l&&l[O]&&l[O].hasStack&&g==="number"?M=h==="expand"?[0,1]:FC(l[O].stackGroups,c,u):M=IC(C,a.filter(function(q){var X=s in q.props?q.props[s]:q.type.defaultProps[s],F="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return X===O&&(j||!F)}),g,d,!0);if(g==="number")M=fx(f,M,O,i,S),E&&(M=Ev(E,M,k));else if(g==="category"&&E){var z=E,B=M.every(function(q){return z.indexOf(q)>=0});B&&(M=z)}}return H(H({},m),{},ye({},O,H(H({},x),{},{axisType:i,domain:M,categoricalDomain:U,duplicateDomain:L,originalDomain:(v=x.domain)!==null&&v!==void 0?v:A,isCategorical:p,layout:d})))},{})},xce=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Zm(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,m=MC(d,i),y=-1;return n.reduce(function(v,x){var g=x.type.defaultProps!==void 0?H(H({},x.type.defaultProps),x.props):x.props,_=g[s],k=i5("number");if(!v[_]){y++;var w;return m?w=xp(0,p):l&&l[_]&&l[_].hasStack?(w=FC(l[_].stackGroups,c,u),w=fx(f,w,_,i)):(w=Ev(k,IC(h,n.filter(function(b){var S,j,O=s in b.props?b.props[s]:(S=b.type.defaultProps)===null||S===void 0?void 0:S[s],C="hide"in b.props?b.props.hide:(j=b.type.defaultProps)===null||j===void 0?void 0:j.hide;return O===_&&!C}),"number",d),a.defaultProps.allowDataOverflow),w=fx(f,w,_,i)),H(H({},v),{},ye({},_,H(H({axisType:i},a.defaultProps),{},{hide:!0,orientation:$r(pce,"".concat(i,".").concat(y%2),null),domain:w,originalDomain:k,isCategorical:m,layout:d})))}return v},{})},bce=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=en(d,i),p={};return h&&h.length?p=vce(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=xce(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},_ce=function(t){var r=Va(t),n=ha(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Jb(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:sp(r,n)}},U2=function(t){var r=t.children,n=t.defaultShowTooltip,a=Or(r,Sl),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},wce=function(t){return!t||!t.length?!1:t.some(function(r){var n=ma(r&&r.type);return n&&n.indexOf("Bar")>=0})},q2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kce=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Or(f,Sl),m=Or(f,Lo),y=Object.keys(c).reduce(function(w,b){var S=c[b],j=S.orientation;return!S.mirror&&!S.hide?H(H({},w),{},ye({},j,w[j]+S.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(w,b){var S=s[b],j=S.orientation;return!S.mirror&&!S.hide?H(H({},w),{},ye({},j,$r(w,"".concat(j))+S.height)):w},{top:h.top||0,bottom:h.bottom||0}),x=H(H({},v),y),g=x.bottom;p&&(x.bottom+=p.props.height||Sl.defaultProps.height),m&&r&&(x=FZ(x,a,n,r));var _=u-x.left-x.right,k=d-x.top-x.bottom;return H(H({brushBottom:g},x),{},{width:Math.max(_,0),height:Math.max(k,0)})},jce=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},R_=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(x,g){var _=g.graphicalItems,k=g.stackGroups,w=g.offset,b=g.updateId,S=g.dataStartIndex,j=g.dataEndIndex,O=x.barSize,C=x.layout,T=x.barGap,M=x.barCategoryGap,L=x.maxBarSize,U=q2(C),A=U.numericAxisName,D=U.cateAxisName,E=wce(_),$=[];return _.forEach(function(P,z){var B=Zm(x.data,{graphicalItems:[P],dataStartIndex:S,dataEndIndex:j}),q=P.type.defaultProps!==void 0?H(H({},P.type.defaultProps),P.props):P.props,X=q.dataKey,F=q.maxBarSize,J=q["".concat(A,"Id")],K=q["".concat(D,"Id")],ae={},se=c.reduce(function(ge,Oe){var V=g["".concat(Oe.axisType,"Map")],_e=q["".concat(Oe.axisType,"Id")];V&&V[_e]||Oe.axisType==="zAxis"||Ts();var Le=V[_e];return H(H({},ge),{},ye(ye({},Oe.axisType,Le),"".concat(Oe.axisType,"Ticks"),ha(Le)))},ae),Y=se[D],te=se["".concat(D,"Ticks")],ce=k&&k[J]&&k[J].hasStack&&XZ(P,k[J].stackGroups),G=ma(P.type).indexOf("Bar")>=0,be=sp(Y,te),Se=[],Ue=E&&zZ({barSize:O,stackGroups:k,totalSize:jce(se,D)});if(G){var Ke,Ee,qt=we(F)?L:F,ft=(Ke=(Ee=sp(Y,te,!0))!==null&&Ee!==void 0?Ee:qt)!==null&&Ke!==void 0?Ke:0;Se=BZ({barGap:T,barCategoryGap:M,bandSize:ft!==be?ft:be,sizeList:Ue[K],maxBarSize:qt}),ft!==be&&(Se=Se.map(function(ge){return H(H({},ge),{},{position:H(H({},ge.position),{},{offset:ge.position.offset-ft/2})})}))}var Q=P&&P.type&&P.type.getComposedData;Q&&$.push({props:H(H({},Q(H(H({},se),{},{displayedData:B,props:x,dataKey:X,item:P,bandSize:be,barPosition:Se,offset:w,stackedData:ce,layout:C,dataStartIndex:S,dataEndIndex:j}))),{},ye(ye(ye({key:P.key||"item-".concat(z)},A,se[A]),D,se[D]),"animationId",b)),childIndex:BB(P,x.children),item:P})}),$},p=function(x,g){var _=x.props,k=x.dataStartIndex,w=x.dataEndIndex,b=x.updateId;if(!sk({props:_}))return null;var S=_.children,j=_.layout,O=_.stackOffset,C=_.data,T=_.reverseStackOrder,M=q2(j),L=M.numericAxisName,U=M.cateAxisName,A=en(S,n),D=YZ(C,A,"".concat(L,"Id"),"".concat(U,"Id"),O,T),E=c.reduce(function(q,X){var F="".concat(X.axisType,"Map");return H(H({},q),{},ye({},F,bce(_,H(H({},X),{},{graphicalItems:A,stackGroups:X.axisType===L&&D,dataStartIndex:k,dataEndIndex:w}))))},{}),$=kce(H(H({},E),{},{props:_,graphicalItems:A}),g==null?void 0:g.legendBBox);Object.keys(E).forEach(function(q){E[q]=d(_,E[q],$,q.replace("Map",""),r)});var P=E["".concat(U,"Map")],z=_ce(P),B=h(_,H(H({},E),{},{dataStartIndex:k,dataEndIndex:w,updateId:b,graphicalItems:A,stackGroups:D,offset:$}));return H(H({formattedGraphicalItems:B,graphicalItems:A,offset:$,stackGroups:D},z),E)},m=function(v){function x(g){var _,k,w;return nce(this,x),w=sce(this,x,[g]),ye(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ye(w,"accessibilityManager",new qle),ye(w,"handleLegendBBoxUpdate",function(b){if(b){var S=w.state,j=S.dataStartIndex,O=S.dataEndIndex,C=S.updateId;w.setState(H({legendBBox:b},p({props:w.props,dataStartIndex:j,dataEndIndex:O,updateId:C},H(H({},w.state),{},{legendBBox:b}))))}}),ye(w,"handleReceiveSyncEvent",function(b,S,j){if(w.props.syncId===b){if(j===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(S)}}),ye(w,"handleBrushChange",function(b){var S=b.startIndex,j=b.endIndex;if(S!==w.state.dataStartIndex||j!==w.state.dataEndIndex){var O=w.state.updateId;w.setState(function(){return H({dataStartIndex:S,dataEndIndex:j},p({props:w.props,dataStartIndex:S,dataEndIndex:j,updateId:O},w.state))}),w.triggerSyncEvent({dataStartIndex:S,dataEndIndex:j})}}),ye(w,"handleMouseEnter",function(b){var S=w.getMouseInfo(b);if(S){var j=H(H({},S),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var O=w.props.onMouseEnter;xe(O)&&O(j,b)}}),ye(w,"triggeredAfterMouseMove",function(b){var S=w.getMouseInfo(b),j=S?H(H({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var O=w.props.onMouseMove;xe(O)&&O(j,b)}),ye(w,"handleItemMouseEnter",function(b){w.setState(function(){return{isTooltipActive:!0,activeItem:b,activePayload:b.tooltipPayload,activeCoordinate:b.tooltipPosition||{x:b.cx,y:b.cy}}})}),ye(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),ye(w,"handleMouseMove",function(b){b.persist(),w.throttleTriggeredAfterMouseMove(b)}),ye(w,"handleMouseLeave",function(b){w.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S);var j=w.props.onMouseLeave;xe(j)&&j(S,b)}),ye(w,"handleOuterEvent",function(b){var S=zB(b),j=$r(w.props,"".concat(S));if(S&&xe(j)){var O,C;/.*touch.*/i.test(S)?C=w.getMouseInfo(b.changedTouches[0]):C=w.getMouseInfo(b),j((O=C)!==null&&O!==void 0?O:{},b)}}),ye(w,"handleClick",function(b){var S=w.getMouseInfo(b);if(S){var j=H(H({},S),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var O=w.props.onClick;xe(O)&&O(j,b)}}),ye(w,"handleMouseDown",function(b){var S=w.props.onMouseDown;if(xe(S)){var j=w.getMouseInfo(b);S(j,b)}}),ye(w,"handleMouseUp",function(b){var S=w.props.onMouseUp;if(xe(S)){var j=w.getMouseInfo(b);S(j,b)}}),ye(w,"handleTouchMove",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(b.changedTouches[0])}),ye(w,"handleTouchStart",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&w.handleMouseDown(b.changedTouches[0])}),ye(w,"handleTouchEnd",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&w.handleMouseUp(b.changedTouches[0])}),ye(w,"handleDoubleClick",function(b){var S=w.props.onDoubleClick;if(xe(S)){var j=w.getMouseInfo(b);S(j,b)}}),ye(w,"handleContextMenu",function(b){var S=w.props.onContextMenu;if(xe(S)){var j=w.getMouseInfo(b);S(j,b)}}),ye(w,"triggerSyncEvent",function(b){w.props.syncId!==void 0&&d0.emit(f0,w.props.syncId,b,w.eventEmitterSymbol)}),ye(w,"applySyncEvent",function(b){var S=w.props,j=S.layout,O=S.syncMethod,C=w.state.updateId,T=b.dataStartIndex,M=b.dataEndIndex;if(b.dataStartIndex!==void 0||b.dataEndIndex!==void 0)w.setState(H({dataStartIndex:T,dataEndIndex:M},p({props:w.props,dataStartIndex:T,dataEndIndex:M,updateId:C},w.state)));else if(b.activeTooltipIndex!==void 0){var L=b.chartX,U=b.chartY,A=b.activeTooltipIndex,D=w.state,E=D.offset,$=D.tooltipTicks;if(!E)return;if(typeof O=="function")A=O($,b);else if(O==="value"){A=-1;for(var P=0;P<$.length;P++)if($[P].value===b.activeLabel){A=P;break}}var z=H(H({},E),{},{x:E.left,y:E.top}),B=Math.min(L,z.x+z.width),q=Math.min(U,z.y+z.height),X=$[A]&&$[A].value,F=mx(w.state,w.props.data,A),J=$[A]?{x:j==="horizontal"?$[A].coordinate:B,y:j==="horizontal"?q:$[A].coordinate}:a5;w.setState(H(H({},b),{},{activeLabel:X,activeCoordinate:J,activePayload:F,activeTooltipIndex:A}))}else w.setState(b)}),ye(w,"renderCursor",function(b){var S,j=w.state,O=j.isTooltipActive,C=j.activeCoordinate,T=j.activePayload,M=j.offset,L=j.activeTooltipIndex,U=j.tooltipAxisBandSize,A=w.getTooltipEventType(),D=(S=b.props.active)!==null&&S!==void 0?S:O,E=w.props.layout,$=b.key||"_recharts-cursor";return R.createElement(Yle,{key:$,activeCoordinate:C,activePayload:T,activeTooltipIndex:L,chartName:r,element:b,isActive:D,layout:E,offset:M,tooltipAxisBandSize:U,tooltipEventType:A})}),ye(w,"renderPolarAxis",function(b,S,j){var O=$r(b,"type.axisType"),C=$r(w.state,"".concat(O,"Map")),T=b.type.defaultProps,M=T!==void 0?H(H({},T),b.props):b.props,L=C&&C[M["".concat(O,"Id")]];return N.cloneElement(b,H(H({},L),{},{className:je(O,L.className),key:b.key||"".concat(S,"-").concat(j),ticks:ha(L,!0)}))}),ye(w,"renderPolarGrid",function(b){var S=b.props,j=S.radialLines,O=S.polarAngles,C=S.polarRadius,T=w.state,M=T.radiusAxisMap,L=T.angleAxisMap,U=Va(M),A=Va(L),D=A.cx,E=A.cy,$=A.innerRadius,P=A.outerRadius;return N.cloneElement(b,{polarAngles:Array.isArray(O)?O:ha(A,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(C)?C:ha(U,!0).map(function(z){return z.coordinate}),cx:D,cy:E,innerRadius:$,outerRadius:P,key:b.key||"polar-grid",radialLines:j})}),ye(w,"renderLegend",function(){var b=w.state.formattedGraphicalItems,S=w.props,j=S.children,O=S.width,C=S.height,T=w.props.margin||{},M=O-(T.left||0)-(T.right||0),L=$C({children:j,formattedGraphicalItems:b,legendWidth:M,legendContent:u});if(!L)return null;var U=L.item,A=z2(L,Jle);return N.cloneElement(U,H(H({},A),{},{chartWidth:O,chartHeight:C,margin:T,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),ye(w,"renderTooltip",function(){var b,S=w.props,j=S.children,O=S.accessibilityLayer,C=Or(j,ht);if(!C)return null;var T=w.state,M=T.isTooltipActive,L=T.activeCoordinate,U=T.activePayload,A=T.activeLabel,D=T.offset,E=(b=C.props.active)!==null&&b!==void 0?b:M;return N.cloneElement(C,{viewBox:H(H({},D),{},{x:D.left,y:D.top}),active:E,label:A,payload:E?U:[],coordinate:L,accessibilityLayer:O})}),ye(w,"renderBrush",function(b){var S=w.props,j=S.margin,O=S.data,C=w.state,T=C.offset,M=C.dataStartIndex,L=C.dataEndIndex,U=C.updateId;return N.cloneElement(b,{key:b.key||"_recharts-brush",onChange:bf(w.handleBrushChange,b.props.onChange),data:O,x:Z(b.props.x)?b.props.x:T.left,y:Z(b.props.y)?b.props.y:T.top+T.height+T.brushBottom-(j.bottom||0),width:Z(b.props.width)?b.props.width:T.width,startIndex:M,endIndex:L,updateId:"brush-".concat(U)})}),ye(w,"renderReferenceElement",function(b,S,j){if(!b)return null;var O=w,C=O.clipPathId,T=w.state,M=T.xAxisMap,L=T.yAxisMap,U=T.offset,A=b.type.defaultProps||{},D=b.props,E=D.xAxisId,$=E===void 0?A.xAxisId:E,P=D.yAxisId,z=P===void 0?A.yAxisId:P;return N.cloneElement(b,{key:b.key||"".concat(S,"-").concat(j),xAxis:M[$],yAxis:L[z],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:C})}),ye(w,"renderActivePoints",function(b){var S=b.item,j=b.activePoint,O=b.basePoint,C=b.childIndex,T=b.isRange,M=[],L=S.props.key,U=S.item.type.defaultProps!==void 0?H(H({},S.item.type.defaultProps),S.item.props):S.item.props,A=U.activeDot,D=U.dataKey,E=H(H({index:C,dataKey:D,cx:j.x,cy:j.y,r:4,fill:k_(S.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},he(A,!1)),Th(A));return M.push(x.renderActiveDot(A,E,"".concat(L,"-activePoint-").concat(C))),O?M.push(x.renderActiveDot(A,H(H({},E),{},{cx:O.x,cy:O.y}),"".concat(L,"-basePoint-").concat(C))):T&&M.push(null),M}),ye(w,"renderGraphicChild",function(b,S,j){var O=w.filterFormatItem(b,S,j);if(!O)return null;var C=w.getTooltipEventType(),T=w.state,M=T.isTooltipActive,L=T.tooltipAxis,U=T.activeTooltipIndex,A=T.activeLabel,D=w.props.children,E=Or(D,ht),$=O.props,P=$.points,z=$.isRange,B=$.baseLine,q=O.item.type.defaultProps!==void 0?H(H({},O.item.type.defaultProps),O.item.props):O.item.props,X=q.activeDot,F=q.hide,J=q.activeBar,K=q.activeShape,ae=!!(!F&&M&&E&&(X||J||K)),se={};C!=="axis"&&E&&E.props.trigger==="click"?se={onClick:bf(w.handleItemMouseEnter,b.props.onClick)}:C!=="axis"&&(se={onMouseLeave:bf(w.handleItemMouseLeave,b.props.onMouseLeave),onMouseEnter:bf(w.handleItemMouseEnter,b.props.onMouseEnter)});var Y=N.cloneElement(b,H(H({},O.props),se));function te(Oe){return typeof L.dataKey=="function"?L.dataKey(Oe.payload):null}if(ae)if(U>=0){var ce,G;if(L.dataKey&&!L.allowDuplicatedCategory){var be=typeof L.dataKey=="function"?te:"payload.".concat(L.dataKey.toString());ce=Ch(P,be,A),G=z&&B&&Ch(B,be,A)}else ce=P==null?void 0:P[U],G=z&&B&&B[U];if(K||J){var Se=b.props.activeIndex!==void 0?b.props.activeIndex:U;return[N.cloneElement(b,H(H(H({},O.props),se),{},{activeIndex:Se})),null,null]}if(!we(ce))return[Y].concat(Il(w.renderActivePoints({item:O,activePoint:ce,basePoint:G,childIndex:U,isRange:z})))}else{var Ue,Ke=(Ue=w.getItemByXY(w.state.activeCoordinate))!==null&&Ue!==void 0?Ue:{graphicalItem:Y},Ee=Ke.graphicalItem,qt=Ee.item,ft=qt===void 0?b:qt,Q=Ee.childIndex,ge=H(H(H({},O.props),se),{},{activeIndex:Q});return[N.cloneElement(ft,ge),null,null]}return z?[Y,null,null]:[Y,null]}),ye(w,"renderCustomized",function(b,S,j){return N.cloneElement(b,H(H({key:"recharts-customized-".concat(j)},w.props),w.state))}),ye(w,"renderMap",{CartesianGrid:{handler:Sf,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Sf},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Sf},YAxis:{handler:Sf},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((_=g.id)!==null&&_!==void 0?_:Xl("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=$E(w.triggeredAfterMouseMove,(k=g.throttleDelay)!==null&&k!==void 0?k:1e3/60),w.state={},w}return cce(x,v),ice(x,[{key:"componentDidMount",value:function(){var _,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,k=_.children,w=_.data,b=_.height,S=_.layout,j=Or(k,ht);if(j){var O=j.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,T=mx(this.state,w,O,C),M=this.state.tooltipTicks[O].coordinate,L=(this.state.offset.top+b)/2,U=S==="horizontal",A=U?{x:M,y:L}:{y:M,x:L},D=this.state.formattedGraphicalItems.find(function($){var P=$.item;return P.type.name==="Scatter"});D&&(A=H(H({},A),D.props.points[O].tooltipPosition),T=D.props.points[O].tooltipPayload);var E={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:C,activePayload:T,activeCoordinate:A};this.setState(E),this.renderCursor(j),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var w,b;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0}})}return null}},{key:"componentDidUpdate",value:function(_){Wy([Or(_.children,ht)],[Or(this.props.children,ht)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Or(this.props.children,ht);if(_&&typeof _.props.shared=="boolean"){var k=_.props.shared?"axis":"item";return l.indexOf(k)>=0?k:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var k=this.container,w=k.getBoundingClientRect(),b=fQ(w),S={chartX:Math.round(_.pageX-b.left),chartY:Math.round(_.pageY-b.top)},j=w.width/k.offsetWidth||1,O=this.inRange(S.chartX,S.chartY,j);if(!O)return null;var C=this.state,T=C.xAxisMap,M=C.yAxisMap,L=this.getTooltipEventType(),U=F2(this.state,this.props.data,this.props.layout,O);if(L!=="axis"&&T&&M){var A=Va(T).scale,D=Va(M).scale,E=A&&A.invert?A.invert(S.chartX):null,$=D&&D.invert?D.invert(S.chartY):null;return H(H({},S),{},{xValue:E,yValue:$},U)}return U?H(H({},S),U):null}},{key:"inRange",value:function(_,k){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,b=this.props.layout,S=_/w,j=k/w;if(b==="horizontal"||b==="vertical"){var O=this.state.offset,C=S>=O.left&&S<=O.left+O.width&&j>=O.top&&j<=O.top+O.height;return C?{x:S,y:j}:null}var T=this.state,M=T.angleAxisMap,L=T.radiusAxisMap;if(M&&L){var U=Va(M);return gS({x:S,y:j},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,k=this.getTooltipEventType(),w=Or(_,ht),b={};w&&k==="axis"&&(w.props.trigger==="click"?b={onClick:this.handleClick}:b={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Th(this.props,this.handleOuterEvent);return H(H({},S),b)}},{key:"addListener",value:function(){d0.on(f0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){d0.removeListener(f0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,k,w){for(var b=this.state.formattedGraphicalItems,S=0,j=b.length;S<j;S++){var O=b[S];if(O.item===_||O.props.key===_.key||k===ma(O.item.type)&&w===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,k=this.state.offset,w=k.left,b=k.top,S=k.height,j=k.width;return R.createElement("defs",null,R.createElement("clipPath",{id:_},R.createElement("rect",{x:w,y:b,height:S,width:j})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(k,w){var b=L2(w,2),S=b[0],j=b[1];return H(H({},k),{},ye({},S,j.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(k,w){var b=L2(w,2),S=b[0],j=b[1];return H(H({},k),{},ye({},S,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(_){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(_){var k=this.state,w=k.formattedGraphicalItems,b=k.activeItem;if(w&&w.length)for(var S=0,j=w.length;S<j;S++){var O=w[S],C=O.props,T=O.item,M=T.type.defaultProps!==void 0?H(H({},T.type.defaultProps),T.props):T.props,L=ma(T.type);if(L==="Bar"){var U=(C.data||[]).find(function($){return Xre(_,$)});if(U)return{graphicalItem:O,payload:U}}else if(L==="RadialBar"){var A=(C.data||[]).find(function($){return gS(_,$)});if(A)return{graphicalItem:O,payload:A}}else if(Hm(O,b)||Vm(O,b)||sd(O,b)){var D=Bae({graphicalItem:O,activeTooltipItem:b,itemData:M.data}),E=M.activeIndex===void 0?D:M.activeIndex;return{graphicalItem:H(H({},O),{},{childIndex:E}),payload:sd(O,b)?M.data[D]:O.props.data[D]}}}return null}},{key:"render",value:function(){var _=this;if(!sk(this))return null;var k=this.props,w=k.children,b=k.className,S=k.width,j=k.height,O=k.style,C=k.compact,T=k.title,M=k.desc,L=z2(k,Xle),U=he(L,!1);if(C)return R.createElement(_2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(Vy,Po({},U,{width:S,height:j,title:T,desc:M}),this.renderClipPath(),lk(w,this.renderMap)));if(this.props.accessibilityLayer){var A,D;U.tabIndex=(A=this.props.tabIndex)!==null&&A!==void 0?A:0,U.role=(D=this.props.role)!==null&&D!==void 0?D:"application",U.onKeyDown=function($){_.accessibilityManager.keyboardEvent($)},U.onFocus=function(){_.accessibilityManager.focus()}}var E=this.parseEventsOfWrapper();return R.createElement(_2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",Po({className:je("recharts-wrapper",b),style:H({position:"relative",cursor:"default",width:S,height:j},O)},E,{ref:function(P){_.container=P}}),R.createElement(Vy,Po({},U,{width:S,height:j,title:T,desc:M,style:mce}),this.renderClipPath(),lk(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);ye(m,"displayName",r),ye(m,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ye(m,"getDerivedStateFromProps",function(v,x){var g=v.dataKey,_=v.data,k=v.children,w=v.width,b=v.height,S=v.layout,j=v.stackOffset,O=v.margin,C=x.dataStartIndex,T=x.dataEndIndex;if(x.updateId===void 0){var M=U2(v);return H(H(H({},M),{},{updateId:0},p(H(H({props:v},M),{},{updateId:0}),x)),{},{prevDataKey:g,prevData:_,prevWidth:w,prevHeight:b,prevLayout:S,prevStackOffset:j,prevMargin:O,prevChildren:k})}if(g!==x.prevDataKey||_!==x.prevData||w!==x.prevWidth||b!==x.prevHeight||S!==x.prevLayout||j!==x.prevStackOffset||!Do(O,x.prevMargin)){var L=U2(v),U={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},A=H(H({},F2(x,_,S)),{},{updateId:x.updateId+1}),D=H(H(H({},L),U),A);return H(H(H({},D),p(H({props:v},D),x)),{},{prevDataKey:g,prevData:_,prevWidth:w,prevHeight:b,prevLayout:S,prevStackOffset:j,prevMargin:O,prevChildren:k})}if(!Wy(k,x.prevChildren)){var E,$,P,z,B=Or(k,Sl),q=B&&(E=($=B.props)===null||$===void 0?void 0:$.startIndex)!==null&&E!==void 0?E:C,X=B&&(P=(z=B.props)===null||z===void 0?void 0:z.endIndex)!==null&&P!==void 0?P:T,F=q!==C||X!==T,J=!we(_),K=J&&!F?x.updateId:x.updateId+1;return H(H({updateId:K},p(H(H({props:v},x),{},{updateId:K,dataStartIndex:q,dataEndIndex:X}),x)),{},{prevChildren:k,dataStartIndex:q,dataEndIndex:X})}return null}),ye(m,"renderActiveDot",function(v,x,g){var _;return N.isValidElement(v)?_=N.cloneElement(v,x):xe(v)?_=v(x):_=R.createElement(Fm,x),R.createElement(Te,{className:"recharts-active-dot",key:g},_)});var y=N.forwardRef(function(x,g){return R.createElement(m,Po({},x,{ref:g}))});return y.displayName=m.displayName,y},I_=R_({chartName:"BarChart",GraphicalChild:Ra,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xr},{axisType:"yAxis",AxisComp:br}],formatAxisMap:wT}),K2=R_({chartName:"PieChart",GraphicalChild:Qn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Wm},{axisType:"radiusAxis",AxisComp:qm}],formatAxisMap:lee,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ys=R_({chartName:"AreaChart",GraphicalChild:Bt,axisComponents:[{axisType:"xAxis",AxisComp:xr},{axisType:"yAxis",AxisComp:br}],formatAxisMap:wT});const Sce=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],Nce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Oce=["7d","30d","90d","365d","ytd"];function Ace(e){const t=new Date,r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;let n;switch(e){case"7d":n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-6);break;case"30d":n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-29);break;case"90d":n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-89);break;case"365d":n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-364);break;case"ytd":n=new Date(t.getFullYear(),0,1);break}const a=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,i=t.getTime()-n.getTime(),s=Math.max(1,Math.ceil(i/(1e3*60*60*24))+1);return{startDate:a,endDate:r,days:s}}function Pce(e,t){const r=[],n=new Date(e+"T12:00:00"),a=new Date(t+"T12:00:00");let i=new Date(n.getFullYear(),n.getMonth(),1);for(;i<=a;)r.push(`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`),i=new Date(i.getFullYear(),i.getMonth()+1,1);return r}const p0=["sync-stripe","sync-kiwify","sync-youtube","sync-instagram","sync-ads","sync-google-ads","sync-adsense"],Ece="https://jdodenbjohnqvhvldfqu.supabase.co",Cce="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impkb2RlbmJqb2hucXZodmxkZnF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE2MjU3MzAsImV4cCI6MjA4NzIwMTczMH0.MR3yuR-a1vf84iDrw2wEZ0mS0-8y0LdG1lUjiK_mFec";function Tce(){const{theme:e}=Ea(),{t,lang:r}=pe(),n=wr(),a=e==="dark",[i,s]=N.useState(!1),[l,c]=N.useState("idle"),[u,d]=N.useState(0),[f,h]=N.useState("7d"),p=r==="pt"?Sce:Nce,m=r==="pt"?"pt-BR":"en-US",{startDate:y,endDate:v,days:x}=Ace(f),g=Pce(y,v),_={"7d":t("home.last_7d"),"30d":t("home.last_30d"),"90d":t("home.last_90d"),"365d":t("home.last_365d"),ytd:t("home.ytd")},k=async()=>{if(i)return;s(!0),c("syncing"),d(0);let Q=0,ge=0;const Oe=V=>{const _e=new AbortController,Le=setTimeout(()=>_e.abort(),3e4);return fetch(`${Ece}/functions/v1/${V}`,{method:"POST",headers:{Authorization:`Bearer ${Cce}`,"Content-Type":"application/json"},signal:_e.signal}).finally(()=>clearTimeout(Le))};for(let V=0;V<p0.length;V+=2){const _e=p0.slice(V,V+2);await Promise.all(_e.map(async Le=>{try{await Oe(Le)}catch{ge++}Q++,d(Math.round(Q/p0.length*100))}))}n.invalidateQueries(),s(!1),c(ge>0?"error":"done"),setTimeout(()=>c("idle"),3e3)};N.useEffect(()=>{k();const Q=setInterval(k,10*60*1e3);return()=>clearInterval(Q)},[]),N.useEffect(()=>{const Q=re.channel("home-realtime").on("postgres_changes",{event:"*",schema:"public",table:"revenue_transactions"},()=>{n.invalidateQueries({queryKey:["home-revenue-tx"]})}).on("postgres_changes",{event:"*",schema:"public",table:"financial_daily"},()=>{n.invalidateQueries({queryKey:["home-financial-daily"]})}).on("postgres_changes",{event:"*",schema:"public",table:"ads_campaigns"},()=>{n.invalidateQueries({queryKey:["ads-campaigns"]})}).subscribe();return()=>{re.removeChannel(Q)}},[n]);const{data:w=[]}=Ae({queryKey:["home-revenue-tx",y,v],queryFn:async()=>{const{data:Q}=await re.from("revenue_transactions").select("*").gte("date",y).lte("date",v);return Q||[]}}),{data:b=[]}=Ae({queryKey:["home-financial-daily",y,v],queryFn:async()=>{const{data:Q}=await re.from("financial_daily").select("*").gte("date",y).lte("date",v).order("date",{ascending:!0});return Q||[]}}),{data:S=[]}=Ae({queryKey:["home-expenses",g.join(",")],queryFn:async()=>{const{data:Q}=await re.from("monthly_expenses").select("*").in("month",g);return Q||[]}}),j=w.filter(Q=>Q.status==="paid"||Q.status==="approved"||Q.status==="completed"),O=w.filter(Q=>Q.status==="refunded"||Q.status==="chargedback"),C=j.filter(Q=>Q.source==="stripe").reduce((Q,ge)=>Q+Math.abs(ge.amount),0),T=j.filter(Q=>Q.source==="kiwify").reduce((Q,ge)=>Q+Math.abs(ge.amount),0),M=b.reduce((Q,ge)=>Q+(ge.revenue_adsense||0),0),L=O.reduce((Q,ge)=>Q+Math.abs(ge.amount),0),U=C+T+M+L,A=U-L,D=S.reduce((Q,ge)=>Q+(ge.price_brl||0),0),E=g.reduce((Q,ge)=>{const[Oe,V]=ge.split("-").map(Number);return Q+new Date(Oe,V,0).getDate()},0),$=E>0?D*(x/E):D,P=A-$,z=x>0?U/x:0,B=O.length,q=j.length+O.length,X=q>0?B/q*100:0,F=X>5,J=U>0?P/U*100:0,K=J>20,ae=U>0?L/U*100:0,se=(()=>{const Q=[],ge=new Date(y+"T12:00:00"),Oe=new Date(v+"T12:00:00"),V=new Date(ge);for(;V<=Oe;)Q.push(`${V.getFullYear()}-${String(V.getMonth()+1).padStart(2,"0")}-${String(V.getDate()).padStart(2,"0")}`),V.setDate(V.getDate()+1);return Q})(),Y={};b.forEach(Q=>{Y[Q.date]=(Q.revenue_stripe||0)+(Q.revenue_kiwify||0)+(Q.revenue_adsense||0)});const te=(()=>{if(f==="7d"||f==="30d")return se.map(Q=>{const ge=new Date(Q+"T12:00:00");return{date:f==="7d"?`${ge.getDate()}/${ge.getMonth()+1}`:`${ge.getDate()}`,total:Y[Q]||0}});if(f==="90d"){const Q={},ge=[];return b.forEach(Oe=>{const V=new Date(Oe.date+"T12:00:00"),_e=new Date(V);_e.setDate(V.getDate()-V.getDay());const Le=`${_e.getDate()}/${_e.getMonth()+1}`;Q[Le]||ge.push(Le),Q[Le]=(Q[Le]||0)+(Oe.revenue_stripe||0)+(Oe.revenue_kiwify||0)+(Oe.revenue_adsense||0)}),ge.map(Oe=>({date:Oe,total:Q[Oe]}))}else{const Q={},ge=[];return b.forEach(Oe=>{const V=new Date(Oe.date+"T12:00:00"),_e=p[V.getMonth()];Q[_e]||ge.push(_e),Q[_e]=(Q[_e]||0)+(Oe.revenue_stripe||0)+(Oe.revenue_kiwify||0)+(Oe.revenue_adsense||0)}),ge.map(Oe=>({date:Oe,total:Q[Oe]}))}})(),ce=te.reduce((Q,ge)=>Q+ge.total,0),G=v,be=b.find(Q=>Q.date===G),Se=be?(be.revenue_stripe||0)+(be.revenue_kiwify||0)+(be.revenue_adsense||0):0,Ue=w.filter(Q=>Q.date===G&&(Q.status==="paid"||Q.status==="approved")).reduce((Q,ge)=>Q+Math.abs(ge.amount),0),Ke=Se>0?Se:Ue,Ee=Q=>Q.toLocaleString(m,{style:"currency",currency:"BRL"}),qt={backgroundColor:a?"#18181b":"#ffffff",border:`1px solid ${a?"#3f3f46":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},ft=[{q:t("home.making_money"),ok:P>0,answer:P>0?`${t("home.yes")} (${Ee(P)})`:`${t("home.no")} (${Ee(P)})`},{q:t("home.growing"),ok:z>0,answer:z>0?`${t("home.yes")} (${Ee(z)}/${t("home.day")})`:t("home.no")},{q:t("home.losing_clients"),ok:!F,answer:F?`${t("home.yes")} (${X.toFixed(1)}%)`:`${t("home.no")} (${X.toFixed(1)}%)`},{q:t("home.cash_risk"),ok:K,answer:K?`${t("home.no")} (${J.toFixed(0)}%)`:`${t("home.yes")} (${J.toFixed(0)}%)`},{q:t("home.action_needed"),ok:P>0&&!F&&K,answer:P<=0?t("home.review_churn"):t(F?"home.review_churn":"home.keep_growing")}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("home.title")}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-500 mt-1",children:t("home.subtitle")})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center gap-1 bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-xl p-1",children:Oce.map(Q=>o.jsx("button",{onClick:()=>h(Q),className:`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${f===Q?"bg-blue-600 text-white shadow-sm":"text-gray-500 dark:text-neutral-400 hover:bg-gray-100 dark:hover:bg-neutral-800"}`,children:_[Q]},Q))}),o.jsx("button",{onClick:k,disabled:i,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all ${l==="done"?"bg-emerald-500 text-white":l==="error"?"bg-red-500 text-white":i?"bg-blue-600 text-white cursor-wait":"bg-blue-600 text-white hover:bg-blue-700"} disabled:opacity-80`,children:l==="done"?o.jsxs(o.Fragment,{children:[o.jsx(Wl,{size:16})," ",t("home.synced")]}):l==="error"?o.jsxs(o.Fragment,{children:[o.jsx(kn,{size:16})," ",t("home.partial_errors")]}):i?o.jsxs(o.Fragment,{children:[o.jsx(Pr,{size:16,className:"animate-spin"})," ",t("home.syncing",{progress:String(u)})]}):o.jsxs(o.Fragment,{children:[o.jsx(_r,{size:16})," ",t("home.sync_all")]})})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:ft.map((Q,ge)=>o.jsxs("div",{className:`card p-4 border-l-4 ${Q.ok?"border-l-emerald-500":"border-l-amber-500"}`,children:[o.jsx("p",{className:"text-[11px] text-gray-500 dark:text-neutral-500 mb-2",children:Q.q}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[Q.ok?o.jsx(Si,{size:14,className:"text-emerald-500 shrink-0"}):o.jsx(kn,{size:14,className:"text-amber-500 shrink-0"}),o.jsx("span",{className:`text-xs font-semibold ${Q.ok?"text-emerald-600 dark:text-emerald-400":"text-amber-600 dark:text-amber-400"}`,children:Q.answer})]})]},ge))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Nf,{icon:Zr,label:t("home.total_revenue"),value:Ee(U),sub:`${x} ${t("home.day")}s`,accent:"emerald",trend:z>0?"up":void 0,trendVal:`${Ee(z)}/${t("home.day")}`}),o.jsx(Nf,{icon:Od,label:t("home.net_revenue"),value:Ee(A),sub:t("home.revenue_minus_refunds"),accent:A>0?"blue":"red",trend:A>0?"up":"down"}),o.jsx(Nf,{icon:nn,label:t("home.churn_rate"),value:`${X.toFixed(1)}%`,sub:`${B} ${t("home.cancellations_refunds")}`,accent:F?"amber":"emerald"}),o.jsx(Nf,{icon:kn,label:t("home.refunds"),value:Ee(L),sub:U>0?`${ae.toFixed(1)}% ${t("home.of_revenue")}`:"",accent:L>0?"red":"gray",warning:ae>10?t("home.above_10"):void 0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 card p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("home.daily_revenue")}),o.jsxs("p",{className:"text-2xl font-bold text-emerald-500 mt-1",children:[Ee(ce),o.jsx("span",{className:"text-xs text-gray-400 dark:text-neutral-500 font-normal ml-2",children:t("home.period")})]}),o.jsxs("p",{className:"text-sm font-semibold text-gray-500 dark:text-neutral-400 mt-0.5",children:[Ee(Ke),o.jsx("span",{className:"text-xs text-gray-400 dark:text-neutral-500 font-normal ml-1",children:t("home.today")})]})]})}),o.jsx(bn,{width:"100%",height:280,children:f==="365d"||f==="ytd"?o.jsxs(I_,{data:te,children:[o.jsx(Wn,{strokeDasharray:"3 3",stroke:a?"#27272a":"#f3f4f6",vertical:!1}),o.jsx(xr,{dataKey:"date",stroke:a?"#52525b":"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1}),o.jsx(br,{stroke:a?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:Q=>`R$${Q>=1e3?`${(Q/1e3).toFixed(0)}k`:Q}`}),o.jsx(ht,{contentStyle:qt,formatter:Q=>[Ee(Q),t("home.revenue")]}),o.jsx(Ra,{dataKey:"total",fill:"#10b981",radius:[6,6,0,0]})]}):o.jsxs(ys,{data:te,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"hgTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),o.jsx(Wn,{strokeDasharray:"3 3",stroke:a?"#27272a":"#f3f4f6",vertical:!1}),o.jsx(xr,{dataKey:"date",stroke:a?"#52525b":"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1}),o.jsx(br,{stroke:a?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:Q=>`R$${Q>=1e3?`${(Q/1e3).toFixed(0)}k`:Q}`}),o.jsx(ht,{contentStyle:qt,formatter:Q=>[Ee(Q),t("home.revenue")]}),o.jsx(Bt,{type:"monotone",dataKey:"total",stroke:"#10b981",fill:"url(#hgTotal)",strokeWidth:2.5,dot:f==="7d"?{r:4,fill:"#10b981",strokeWidth:0}:!1,activeDot:{r:6,fill:"#10b981",stroke:"#fff",strokeWidth:2}})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Of,{label:"Stripe",value:Ee(C),color:"blue",pct:U>0?C/U*100:0}),o.jsx(Of,{label:"Kiwify",value:Ee(T),color:"emerald",pct:U>0?T/U*100:0}),o.jsx(Of,{label:"YouTube",value:Ee(M),color:"red",pct:U>0?M/U*100:0}),o.jsx(Of,{label:t("home.net_revenue"),value:Ee(A),color:"violet",pct:U>0?A/U*100:100})]})]}),F&&o.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-amber-50 dark:bg-amber-500/5 border border-amber-100 dark:border-amber-500/20",children:[o.jsx(kb,{size:16,className:"text-amber-500 mt-0.5 shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-amber-700 dark:text-amber-400",children:t("home.high_churn")}),o.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-500",children:[X.toFixed(1),"% (",t("home.target_5"),")"]})]})]}),o.jsx(Rce,{dateRange:f})]})}function $ce(e){let t=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return t=t.replace(/^### (.+)$/gm,'<h4 class="font-bold text-sm mt-3 mb-1">$1</h4>'),t=t.replace(/^## (.+)$/gm,'<h3 class="font-bold text-base mt-3 mb-1">$1</h3>'),t=t.replace(/^# (.+)$/gm,'<h2 class="font-bold text-lg mt-3 mb-1">$1</h2>'),t=t.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),t=t.replace(/(?:^|[\s(])_([^_]+)_(?:[\s).,;!?]|$)/g,(r,n)=>r.replace(`_${n}_`,`<em>${n}</em>`)),t=t.replace(/((?:^\d+\.\s+.+$\n?)+)/gm,r=>`<ol class="list-decimal pl-4 my-2 space-y-1">${r.trim().split(`
`).map(a=>`<li class="ml-4">${a.replace(/^\d+\.\s+/,"")}</li>`).join("")}</ol>`),t=t.replace(/((?:^- .+$\n?)+)/gm,r=>`<ul class="list-disc pl-4 my-2 space-y-1">${r.trim().split(`
`).map(a=>`<li class="ml-4">${a.replace(/^- /,"")}</li>`).join("")}</ul>`),t=t.replace(/\n/g,"<br/>"),t=t.replace(/(<\/(?:ol|ul|h[2-4]|li)>)<br\/>/g,"$1"),t=t.replace(/<br\/>(<(?:ol|ul|h[2-4]))/g,"$1"),t}function Rce({dateRange:e}){const{t,lang:r}=pe(),[n,a]=N.useState([]),[i,s]=N.useState(""),[l,c]=N.useState(!1),[u,d]=N.useState(!1),[f,h]=N.useState(!1),p=N.useRef(null),m=N.useRef(null),y=wr(),v=r==="pt"?"pt-BR":"en-US";N.useEffect(()=>{var b;(b=p.current)==null||b.scrollIntoView({behavior:"smooth"})},[n]);const{data:x=[]}=Ae({queryKey:["ai-knowledge-base"],queryFn:async()=>{const{data:b,error:S}=await re.from("ai_knowledge_base").select("id, name, char_count, created_at").order("created_at",{ascending:!0});return S&&console.error("KB fetch error:",S),b||[]}}),g=async b=>{var j;const S=(j=b.target.files)==null?void 0:j[0];if(S){h(!0);try{const O=await S.text();if(!O.trim()){h(!1),m.current&&(m.current.value="");return}const C=S.name.replace(/\.[^.]+$/,""),{error:T}=await re.from("ai_knowledge_base").insert({name:C,content:O});T?console.error("KB insert error:",T):y.invalidateQueries({queryKey:["ai-knowledge-base"]})}catch(O){console.error("File upload error:",O)}h(!1),m.current&&(m.current.value="")}},_=async b=>{const{error:S}=await re.from("ai_knowledge_base").delete().eq("id",b);S&&console.error("KB delete error:",S),y.invalidateQueries({queryKey:["ai-knowledge-base"]})},k=[t("home.summary"),t("home.improve"),t("home.analyze_churn"),t("home.how_revenue")],w=async b=>{if(!b.trim()||l)return;const S={role:"user",text:b.trim()},j=[...n,S];a(j),s(""),c(!0);try{const C=await(await fetch("https://jdodenbjohnqvhvldfqu.supabase.co/functions/v1/ai-insights",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impkb2RlbmJqb2hucXZodmxkZnF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE2MjU3MzAsImV4cCI6MjA4NzIwMTczMH0.MR3yuR-a1vf84iDrw2wEZ0mS0-8y0LdG1lUjiK_mFec"},body:JSON.stringify({question:b.trim(),history:j.slice(-10),dateRange:e})})).json(),T={role:"model",text:C.answer||C.error||t("home.process_error")};a(M=>[...M,T])}catch{a(O=>[...O,{role:"model",text:t("home.connection_error")}])}c(!1)};return o.jsxs("div",{className:"card overflow-hidden",children:[o.jsx("div",{className:"p-5 border-b border-gray-100 dark:border-neutral-800",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-cyan-500 rounded-xl flex items-center justify-center",children:o.jsx(Ji,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:t("home.ai_consultant")}),o.jsxs("p",{className:"text-xs text-gray-400 dark:text-neutral-500",children:[t("home.ai_subtitle"),x.length>0&&` + ${x.length} doc${x.length>1?"s":""}`]})]})]}),o.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${u?"bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-neutral-800 text-gray-500 dark:text-neutral-400 hover:bg-gray-200 dark:hover:bg-neutral-700"}`,children:[o.jsx(om,{size:14}),t("home.knowledge_base")]})]})}),u&&o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-neutral-800 bg-gray-50/50 dark:bg-neutral-900/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-neutral-400 uppercase tracking-wider",children:t("home.docs_loaded")}),o.jsxs("label",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium cursor-pointer transition-colors ${f?"bg-gray-200 dark:bg-neutral-700 text-gray-400":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[f?o.jsx(Pr,{size:14,className:"animate-spin"}):o.jsx(VL,{size:14}),t(f?"home.loading":"home.upload"),o.jsx("input",{ref:m,type:"file",accept:".txt,.md,.csv,.json",onChange:g,disabled:f,className:"hidden"})]})]}),x.length===0?o.jsxs("div",{className:"text-center py-4",children:[o.jsx(Fy,{className:"w-8 h-8 mx-auto text-gray-300 dark:text-neutral-600 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-500",children:t("home.no_docs")}),o.jsx("p",{className:"text-[10px] text-gray-400 dark:text-neutral-600 mt-1",children:t("home.accept_files")})]}):o.jsx("div",{className:"space-y-2",children:x.map(b=>o.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-white dark:bg-neutral-800 rounded-lg border border-gray-200 dark:border-neutral-700",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx(Fy,{size:14,className:"text-blue-500 shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:b.name}),o.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-neutral-500",children:[(b.char_count||0).toLocaleString(v)," ",t("home.characters")]})]})]}),o.jsx("button",{onClick:()=>_(b.id),className:"p-1.5 rounded-lg text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors shrink-0",children:o.jsx(Mr,{size:14})})]},b.id))})]}),o.jsxs("div",{className:"p-4 space-y-3 max-h-[700px] overflow-y-auto min-h-[200px]",children:[n.length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(Ir,{className:"w-10 h-10 mx-auto text-gray-300 dark:text-neutral-600 mb-2"}),o.jsx("p",{className:"text-sm text-gray-400 dark:text-neutral-500",children:t("home.ask_business")})]}):n.map((b,S)=>o.jsx("div",{className:`flex ${b.role==="user"?"justify-end":"justify-start"}`,children:o.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2.5 ${b.role==="user"?"bg-blue-600 text-white rounded-br-md":"bg-gray-100 dark:bg-neutral-800 text-gray-900 dark:text-white rounded-bl-md"}`,children:b.role==="user"?o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b.text}):o.jsx("div",{className:"text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:$ce(b.text)}})})},S)),l&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-gray-100 dark:bg-neutral-800 rounded-2xl rounded-bl-md px-4 py-3",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("span",{className:"w-2 h-2 bg-gray-400 dark:bg-neutral-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("span",{className:"w-2 h-2 bg-gray-400 dark:bg-neutral-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("span",{className:"w-2 h-2 bg-gray-400 dark:bg-neutral-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),o.jsx("div",{ref:p})]}),n.length===0&&o.jsx("div",{className:"px-4 pb-3 flex flex-wrap gap-2",children:k.map(b=>o.jsx("button",{onClick:()=>w(b),className:"px-3 py-1.5 rounded-full text-xs font-medium bg-blue-50 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-500/20 transition-colors",children:b},b))}),o.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-neutral-800",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),onKeyDown:b=>b.key==="Enter"&&w(i),placeholder:t("home.ask_placeholder"),className:"flex-1 px-4 py-2.5 text-sm bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40 transition-colors"}),o.jsx("button",{onClick:()=>w(i),disabled:!i.trim()||l,className:"px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Ni,{size:16})})]})})]})}function Nf({icon:e,label:t,value:r,sub:n,accent:a,trend:i,trendVal:s,warning:l}){const c={emerald:{bg:"bg-emerald-50 dark:bg-emerald-500/10",text:"text-emerald-500"},blue:{bg:"bg-blue-50 dark:bg-blue-500/10",text:"text-blue-500"},amber:{bg:"bg-amber-50 dark:bg-amber-500/10",text:"text-amber-500"},red:{bg:"bg-red-50 dark:bg-red-500/10",text:"text-red-500"},gray:{bg:"bg-gray-50 dark:bg-neutral-800",text:"text-gray-400"}},u=c[a]||c.gray;return o.jsxs("div",{className:"card p-5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`p-2.5 rounded-xl ${u.bg}`,children:o.jsx(e,{size:20,className:u.text})}),i&&o.jsxs("span",{className:`flex items-center gap-0.5 text-xs font-medium ${i==="up"?"text-emerald-500":"text-red-500"}`,children:[i==="up"?o.jsx(Kl,{size:14}):o.jsx(jb,{size:14}),s]})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mt-1",children:t}),n&&o.jsx("p",{className:"text-[11px] text-gray-400 dark:text-neutral-600 mt-0.5",children:n}),l&&o.jsxs("p",{className:"text-[11px] font-semibold text-red-500 dark:text-red-400 mt-1 flex items-center gap-1",children:[o.jsx(kb,{size:11})," ",l]})]})}function Of({label:e,value:t,color:r,pct:n}){const a={blue:"bg-blue-500",emerald:"bg-emerald-500",violet:"bg-violet-500",red:"bg-red-500"},i={blue:"text-blue-500",emerald:"text-emerald-500",violet:"text-violet-500",red:"text-red-500"};return o.jsxs("div",{className:"card p-4",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mb-1",children:e}),o.jsx("p",{className:`text-xl font-bold ${i[r]||"text-gray-900 dark:text-white"}`,children:t}),o.jsx("div",{className:"mt-2.5 h-1.5 bg-gray-100 dark:bg-neutral-800 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full ${a[r]}`,style:{width:`${Math.min(n,100)}%`}})})]})}const Rd=[{name:"Pedro Zanella",initials:"PZ",color:"bg-rose-500",border:"border-rose-500",colBg:"bg-rose-50/40 dark:bg-rose-500/[0.03]"},{name:"Rodrigo Abraham",initials:"RA",color:"bg-blue-500",border:"border-blue-500",colBg:"bg-blue-50/40 dark:bg-blue-500/[0.03]"},{name:"Gustavo Moraes",initials:"GM",color:"bg-emerald-500",border:"border-emerald-500",colBg:"bg-emerald-50/40 dark:bg-emerald-500/[0.03]"},{name:"Raynan Kenneth",initials:"RK",color:"bg-purple-500",border:"border-purple-500",colBg:"bg-purple-50/40 dark:bg-purple-500/[0.03]"}];function Ice(){const e=wr(),{t,lang:r}=pe(),[n,a]=N.useState(null),[i,s]=N.useState(null),[l,c]=N.useState(null),[u,d]=N.useState(!0),[f,h]=N.useState(null),[p,m]=N.useState(null),[y,v]=N.useState(null),[x]=TI(),[g,_]=N.useState(x.get("tab")==="agenda"?"agenda":"board"),[k,w]=N.useState(null);N.useEffect(()=>{(async()=>{const J=new Date(Date.now()-6048e5).toISOString(),{error:K}=await re.from("tasks").delete().eq("status","done").not("done_at","is",null).lt("done_at",J);K&&console.error("Cleanup error:",K.message)})()},[]),N.useEffect(()=>{(async()=>{const J=new Date(Date.now()-864e5).toISOString().split("T")[0],{data:K}=await re.from("meetings").select("id, meeting_date").eq("recurring_weekly",!0).lt("meeting_date",J);if(!(!K||K.length===0)){for(const ae of K){let se=new Date(ae.meeting_date+"T00:00:00");const Y=new Date;for(Y.setHours(0,0,0,0);se<Y;)se.setDate(se.getDate()+7);await re.from("meetings").update({meeting_date:se.toISOString().split("T")[0]}).eq("id",ae.id)}e.invalidateQueries({queryKey:["meetings"]})}})()},[e]),N.useEffect(()=>{const F=re.channel("board-realtime").on("postgres_changes",{event:"*",schema:"public",table:"tasks"},()=>{e.invalidateQueries({queryKey:["tasks"]})}).on("postgres_changes",{event:"*",schema:"public",table:"meetings"},()=>{e.invalidateQueries({queryKey:["meetings"]})}).on("postgres_changes",{event:"*",schema:"public",table:"meeting_participants"},()=>{e.invalidateQueries({queryKey:["meetings"]})}).subscribe();return()=>{re.removeChannel(F)}},[e]);const b=[{key:"todo",label:t("kanban.todo"),dotColor:"bg-blue-500"},{key:"doing",label:t("kanban.doing"),dotColor:"bg-amber-500"},{key:"blocked",label:t("kanban.blocked"),dotColor:"bg-red-500"},{key:"done",label:t("kanban.done"),dotColor:"bg-emerald-500"}],S={low:{label:t("kanban.low"),bar:"bg-gray-300 dark:bg-neutral-600",badge:"bg-gray-100 dark:bg-neutral-700 text-gray-600 dark:text-neutral-300"},medium:{label:t("kanban.medium"),bar:"bg-amber-400",badge:"bg-amber-50 dark:bg-amber-500/10 text-amber-600 dark:text-amber-400"},high:{label:t("kanban.high"),bar:"bg-red-500",badge:"bg-red-50 dark:bg-red-500/10 text-red-600 dark:text-red-400"}},{data:j=[]}=Ae({queryKey:["tasks"],queryFn:async()=>{const{data:F,error:J}=await re.from("tasks").select("*").order("position").order("created_at");return J&&console.error("Error loading tasks:",J.message),F||[]}}),{data:O=[]}=Ae({queryKey:["meetings"],queryFn:async()=>{const{data:F,error:J}=await re.from("meetings").select("*").order("meeting_date").order("meeting_time");J&&console.error("Error loading meetings:",J.message);const K=F||[];for(const ae of K){const{data:se}=await re.from("meeting_participants").select("participant_name").eq("meeting_id",ae.id);ae.participants=(se||[]).map(Y=>Y.participant_name)}return K}}),C=fr({mutationFn:async F=>{const{error:J}=await re.from("tasks").insert(F);if(J)throw new Error(J.message)},onSuccess:()=>e.invalidateQueries({queryKey:["tasks"]})}),T=fr({mutationFn:async({id:F,...J})=>{J.status==="done"?J.done_at=new Date().toISOString():J.status&&(J.done_at=null);const{error:K}=await re.from("tasks").update(J).eq("id",F);if(K)throw new Error(K.message)},onSuccess:()=>e.invalidateQueries({queryKey:["tasks"]})}),M=fr({mutationFn:async F=>{const{error:J}=await re.from("tasks").delete().eq("id",F);if(J)throw new Error(J.message)},onSuccess:()=>e.invalidateQueries({queryKey:["tasks"]})}),L=fr({mutationFn:async F=>{const{participants:J,...K}=F,{data:ae,error:se}=await re.from("meetings").insert(K).select().single();if(se)throw new Error(se.message);if(J.length>0){const Y=J.map(te=>({meeting_id:ae.id,participant_name:te}));await re.from("meeting_participants").insert(Y)}},onSuccess:()=>{e.invalidateQueries({queryKey:["meetings"]}),w(null)}}),U=fr({mutationFn:async F=>{const{error:J}=await re.from("meetings").delete().eq("id",F);if(J)throw new Error(J.message)},onSuccess:()=>e.invalidateQueries({queryKey:["meetings"]})}),A=(F,J)=>{const K=j.filter(te=>te.assigned_to===F.assigned_to&&te.status===F.status).sort((te,ce)=>te.position-ce.position),ae=K.findIndex(te=>te.id===F.id),se=J==="up"?ae-1:ae+1;if(se<0||se>=K.length)return;const Y=K[se];T.mutate({id:F.id,position:Y.position}),T.mutate({id:Y.id,position:F.position})},D=(F,J)=>{a(J),F.dataTransfer.effectAllowed="move",F.currentTarget instanceof HTMLElement&&(F.currentTarget.style.opacity="0.4")},E=F=>{a(null),s(null),c(null),F.currentTarget instanceof HTMLElement&&(F.currentTarget.style.opacity="1")},$=(F,J)=>{F.preventDefault(),F.dataTransfer.dropEffect="move",s(J),c(null)},P=(F,J)=>{F.preventDefault(),F.stopPropagation(),F.dataTransfer.dropEffect="move";const K=F.currentTarget.getBoundingClientRect();c(J),d(F.clientY<K.top+K.height/2),s(null)},z=(F,J,K)=>{if(F.preventDefault(),s(null),c(null),n){const ae=j.filter(Y=>Y.assigned_to===J&&Y.status===K),se=ae.length>0?Math.max(...ae.map(Y=>Y.position))+1:0;T.mutate({id:n,assigned_to:J,status:K,position:se})}},B=(F,J,K,ae)=>{if(F.preventDefault(),F.stopPropagation(),c(null),s(null),!n||n===J)return;const se=j.filter(ce=>ce.assigned_to===K&&ce.status===ae&&ce.id!==n).sort((ce,G)=>ce.position-G.position),Y=se.findIndex(ce=>ce.id===J);if(Y===-1)return;let te;u?te=Y===0?se[0].position-1:(se[Y-1].position+se[Y].position)/2:te=Y===se.length-1?se[se.length-1].position+1:(se[Y].position+se[Y+1].position)/2,T.mutate({id:n,assigned_to:K,status:ae,position:te})},q=r==="pt"?"pt-BR":"en-US",X=[{key:"board",label:t("kanban.title")},{key:"agenda",label:t("kanban.agenda")}];return o.jsxs("div",{className:"space-y-6 pb-8",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:t("kanban.title")}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-500 mt-1",children:t("kanban.subtitle")})]})}),o.jsx("div",{className:"flex gap-1 bg-gray-100 dark:bg-neutral-800 p-1 rounded-xl w-fit",children:X.map(F=>o.jsx("button",{onClick:()=>_(F.key),className:`px-5 py-2 rounded-lg text-sm font-medium transition-colors ${g===F.key?"bg-white dark:bg-neutral-700 text-gray-800 dark:text-white shadow-sm":"text-gray-500 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-300"}`,children:F.label},F.key))}),g==="board"&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:Rd.map(F=>{const J=j.filter(K=>K.assigned_to===F.name);return o.jsxs("div",{className:`space-y-3 rounded-2xl p-2.5 ${F.colBg}`,children:[o.jsxs("div",{className:`flex items-center gap-3 px-3 py-3 rounded-xl bg-white dark:bg-neutral-900 border-t-4 ${F.border}`,children:[o.jsx("div",{className:`w-9 h-9 rounded-full ${F.color} flex items-center justify-center text-white text-sm font-bold`,children:F.initials}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:F.name}),o.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-neutral-500",children:[J.length," ",t("kanban.tasks")]})]})]}),b.map(K=>{const ae=J.filter(te=>te.status===K.key).sort((te,ce)=>te.position-ce.position),se=`${F.name}::${K.key}`,Y=i===se;return o.jsxs("div",{className:`rounded-xl p-2.5 min-h-[80px] transition-all ${Y?"bg-blue-50 dark:bg-blue-500/5 ring-2 ring-blue-400/30":"bg-gray-100/70 dark:bg-neutral-900/50"}`,onDragOver:te=>$(te,se),onDragLeave:()=>s(null),onDrop:te=>z(te,F.name,K.key),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2 px-0.5",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:`w-2 h-2 rounded-full ${K.dotColor}`}),o.jsx("span",{className:"text-[11px] font-semibold text-gray-500 dark:text-neutral-500 uppercase tracking-wider",children:K.label}),ae.length>0&&o.jsx("span",{className:"text-[10px] bg-gray-200/80 dark:bg-neutral-800 text-gray-400 dark:text-neutral-500 px-1.5 py-0.5 rounded-full",children:ae.length})]}),o.jsx("button",{onClick:()=>v({person:F.name,status:K.key}),className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-neutral-800 text-gray-400 hover:text-gray-600 dark:hover:text-neutral-300 transition-colors",children:o.jsx(Yt,{size:13})})]}),(y==null?void 0:y.person)===F.name&&(y==null?void 0:y.status)===K.key&&o.jsx(Lce,{onSave:(te,ce)=>{const G=ae.length>0?Math.max(...ae.map(be=>be.position))+1:0;C.mutate({title:te,status:K.key,priority:ce,assigned_to:F.name,position:G}),v(null)},onCancel:()=>v(null)}),o.jsx("div",{className:"space-y-1.5",children:ae.map((te,ce)=>{const G=l===te.id&&n!==te.id;return o.jsxs("div",{children:[G&&u&&o.jsx("div",{className:"h-8 mb-1.5 rounded-lg border-2 border-dashed border-blue-400/50 bg-blue-50/30 dark:bg-blue-500/5 transition-all duration-100"}),o.jsx(Mce,{task:te,priorityStyles:S,locale:q,onDragStart:D,onDragEnd:E,onCardDragOver:be=>P(be,te.id),onCardDrop:be=>B(be,te.id,F.name,K.key),onEdit:()=>h(te),onView:()=>m(te),onDelete:()=>M.mutate(te.id),onCyclePriority:()=>{const be={low:"medium",medium:"high",high:"low"};T.mutate({id:te.id,priority:be[te.priority]})},onMoveUp:ce>0?()=>A(te,"up"):void 0,onMoveDown:ce<ae.length-1?()=>A(te,"down"):void 0,isDragging:n===te.id,onSaveImage:be=>T.mutate({id:te.id,image_url:be})}),G&&!u&&o.jsx("div",{className:"h-8 mt-1.5 rounded-lg border-2 border-dashed border-blue-400/50 bg-blue-50/30 dark:bg-blue-500/5 transition-all duration-100"})]},te.id)})})]},K.key)})]},F.name)})}),g==="agenda"&&o.jsx(Bce,{meetings:O,locale:q,onCreateMeeting:F=>w(F||""),onDeleteMeeting:F=>U.mutate(F)}),p&&o.jsx(Dce,{task:p,priorityStyles:S,locale:q,onEdit:()=>{h(p),m(null)},onClose:()=>m(null)}),f&&o.jsx(zce,{task:f,onSave:F=>{T.mutate({id:f.id,...F}),h(null)},onClose:()=>h(null)}),k!==null&&o.jsx(Uce,{initialDate:k,onSave:F=>L.mutate(F),onClose:()=>w(null)})]})}function Mce({task:e,priorityStyles:t,locale:r,onDragStart:n,onDragEnd:a,onCardDragOver:i,onCardDrop:s,onEdit:l,onView:c,onDelete:u,onCyclePriority:d,onMoveUp:f,onMoveDown:h,isDragging:p,onSaveImage:m}){const y=t[e.priority],v=(g,_)=>{const k=new FileReader;k.onload=w=>{var S;const b=new window.Image;b.onload=()=>{const j=document.createElement("canvas"),C=Math.min(1,900/Math.max(b.width,b.height));j.width=b.width*C,j.height=b.height*C,j.getContext("2d").drawImage(b,0,0,j.width,j.height),_(j.toDataURL("image/jpeg",.75))},b.src=(S=w.target)==null?void 0:S.result},k.readAsDataURL(g)},x=g=>{var k,w;const _=(w=(k=g.dataTransfer)==null?void 0:k.files)==null?void 0:w[0];_&&_.type.startsWith("image/")&&(g.preventDefault(),g.stopPropagation(),v(_,m))};return o.jsxs("div",{draggable:!0,onDragStart:g=>n(g,e.id),onDragEnd:a,onDragOver:i,onDrop:g=>{var k,w;const _=(w=(k=g.dataTransfer)==null?void 0:k.files)==null?void 0:w[0];_&&_.type.startsWith("image/")?x(g):s(g)},className:`bg-white dark:bg-neutral-900 rounded-lg p-2.5 border border-gray-200/80 dark:border-neutral-800 shadow-sm hover:shadow cursor-grab active:cursor-grabbing transition-all group overflow-hidden ${p?"opacity-40 scale-95":""}`,children:[o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:g=>{g.stopPropagation(),f==null||f()},disabled:!f,className:"p-0 text-gray-300 dark:text-neutral-700 hover:text-gray-500 dark:hover:text-neutral-400 disabled:opacity-30",children:o.jsx(Ah,{size:11})}),o.jsx(CL,{size:10,className:"text-gray-300 dark:text-neutral-700"}),o.jsx("button",{onClick:g=>{g.stopPropagation(),h==null||h()},disabled:!h,className:"p-0 text-gray-300 dark:text-neutral-700 hover:text-gray-500 dark:hover:text-neutral-400 disabled:opacity-30",children:o.jsx(Au,{size:11})})]}),o.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:c,children:[o.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-white leading-snug break-words line-clamp-3",children:e.title}),e.description&&o.jsx("p",{className:"text-[10px] text-gray-400 dark:text-neutral-500 mt-0.5 line-clamp-1",children:e.description})]}),o.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:[o.jsx("button",{onClick:g=>{g.stopPropagation(),l()},className:"p-0.5 rounded hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400 hover:text-blue-500 transition-colors",children:o.jsx(fP,{size:11})}),o.jsx("button",{onClick:g=>{g.stopPropagation(),u()},className:"p-0.5 rounded hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Mr,{size:11})})]})]}),o.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5 ml-4",children:[o.jsxs("button",{onClick:g=>{g.stopPropagation(),d()},className:"flex items-center gap-1 cursor-pointer hover:opacity-70 transition-opacity",title:`${y.label}  click to change`,children:[o.jsx("span",{className:`h-1 w-6 rounded-full ${y.bar}`}),o.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full font-medium ${y.badge}`,children:y.label})]}),e.due_date&&o.jsxs("span",{className:"flex items-center gap-0.5 text-[9px] text-gray-400 dark:text-neutral-500",children:[o.jsx(Sd,{size:8}),new Date(e.due_date+"T00:00:00").toLocaleDateString(r,{day:"2-digit",month:"short"})]}),e.image_url&&o.jsx("span",{className:"ml-auto flex items-center gap-0.5 text-[9px] text-gray-400 dark:text-neutral-500",title:"Tem imagem",children:o.jsxs("svg",{width:"9",height:"9",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),o.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),o.jsx("polyline",{points:"21 15 16 10 5 21"})]})})]}),e.image_url&&o.jsx("div",{className:"mt-2 ml-4 cursor-pointer",onClick:g=>{g.stopPropagation(),c()},children:o.jsx("img",{src:e.image_url,alt:"",className:"w-full max-h-24 object-cover rounded-md border border-gray-200 dark:border-neutral-700"})})]})}function Dce({task:e,priorityStyles:t,locale:r,onEdit:n,onClose:a}){const{t:i}=pe(),s=t[e.priority],l={todo:i("kanban.todo"),doing:i("kanban.doing"),blocked:i("kanban.blocked"),done:i("kanban.done")};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:a,children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),o.jsxs("div",{className:"relative bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl w-full max-w-md border border-gray-200 dark:border-neutral-800",onClick:c=>c.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 dark:border-neutral-800",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate pr-4",children:e.title}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400 hover:text-blue-500",children:o.jsx(fP,{size:16})}),o.jsx("button",{onClick:a,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400",children:o.jsx(at,{size:18})})]})]}),o.jsxs("div",{className:"px-6 py-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:`text-xs font-semibold px-2.5 py-1 rounded-full ${e.status==="blocked"?"bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400":e.status==="done"?"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":e.status==="doing"?"bg-amber-100 dark:bg-amber-500/20 text-amber-600 dark:text-amber-400":"bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400"}`,children:l[e.status]||e.status}),o.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${s.badge}`,children:s.label}),e.assigned_to&&o.jsx("span",{className:"text-xs text-gray-500 dark:text-neutral-400",children:e.assigned_to})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-2",children:i("kanban.task_desc")}),o.jsx("div",{className:"bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl p-4 text-sm text-gray-700 dark:text-neutral-300 whitespace-pre-wrap leading-relaxed min-h-[60px]",children:e.description||o.jsx("span",{className:"text-gray-400 dark:text-neutral-600 italic",children:i("kanban.no_desc")})})]}),e.due_date&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-neutral-400",children:[o.jsx(Sd,{size:14}),o.jsx("span",{children:new Date(e.due_date+"T00:00:00").toLocaleDateString(r,{weekday:"short",day:"2-digit",month:"long",year:"numeric"})})]}),e.image_url&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-2",children:"Imagem"}),o.jsx("a",{href:e.image_url,target:"_blank",rel:"noopener noreferrer",children:o.jsx("img",{src:e.image_url,alt:"",className:"w-full rounded-xl border border-gray-200 dark:border-neutral-700 object-contain max-h-72 hover:opacity-90 transition-opacity"})})]})]})]})]})}function Lce({onSave:e,onCancel:t}){const{t:r}=pe(),[n,a]=N.useState(""),[i,s]=N.useState("medium");return o.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-lg p-2.5 border border-blue-300 dark:border-blue-500/30 shadow-lg mb-1.5",children:[o.jsx("input",{autoFocus:!0,type:"text",placeholder:r("kanban.new_task"),value:n,onChange:l=>a(l.target.value),onKeyDown:l=>{l.key==="Enter"&&n.trim()&&e(n.trim(),i),l.key==="Escape"&&t()},className:"w-full text-xs bg-transparent border-none outline-none text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-600 mb-2"}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsxs("select",{value:i,onChange:l=>s(l.target.value),className:"text-[10px] bg-gray-100 dark:bg-neutral-800 border-none rounded-md px-1.5 py-0.5 text-gray-600 dark:text-neutral-300",children:[o.jsx("option",{value:"low",children:r("kanban.low")}),o.jsx("option",{value:"medium",children:r("kanban.medium")}),o.jsx("option",{value:"high",children:r("kanban.high")})]}),o.jsx("div",{className:"flex-1"}),o.jsx("button",{onClick:t,className:"text-[10px] text-gray-400 hover:text-gray-600 dark:hover:text-neutral-300 px-1.5 py-0.5",children:r("common.cancel")}),o.jsx("button",{onClick:()=>{n.trim()&&e(n.trim(),i)},className:"text-[10px] bg-blue-600 text-white px-2.5 py-0.5 rounded-md font-medium hover:bg-blue-700 transition-colors",children:r("common.save")})]})]})}function zce({task:e,onSave:t,onClose:r}){const{t:n}=pe(),[a,i]=N.useState(e.title),[s,l]=N.useState(e.description||""),[c,u]=N.useState(e.priority),[d,f]=N.useState(e.assigned_to||""),[h,p]=N.useState(e.due_date||""),[m,y]=N.useState(e.status),[v,x]=N.useState(e.image_url||null),[g,_]=N.useState(!1),k=b=>{const S=new FileReader;S.onload=j=>{var C;const O=new window.Image;O.onload=()=>{const T=document.createElement("canvas"),L=Math.min(1,900/Math.max(O.width,O.height));T.width=O.width*L,T.height=O.height*L,T.getContext("2d").drawImage(O,0,0,T.width,T.height),x(T.toDataURL("image/jpeg",.75))},O.src=(C=j.target)==null?void 0:C.result},S.readAsDataURL(b)};N.useEffect(()=>{const b=S=>{var O;const j=(O=S.clipboardData)==null?void 0:O.items;if(j){for(const C of Array.from(j))if(C.type.startsWith("image/")){const T=C.getAsFile();if(T){k(T);break}}}};return document.addEventListener("paste",b),()=>document.removeEventListener("paste",b)},[]);const w=()=>{t({title:a,description:s||null,priority:c,assigned_to:d||null,due_date:h||null,status:m,image_url:v||null})};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:r,children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),o.jsxs("div",{className:"relative bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl w-full max-w-lg border border-gray-200 dark:border-neutral-800",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 dark:border-neutral-800",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("kanban.edit_task")}),o.jsx("button",{onClick:r,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400",children:o.jsx(at,{size:18})})]}),o.jsxs("div",{className:"px-6 py-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.task_title")}),o.jsx("input",{type:"text",value:a,onChange:b=>i(b.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.task_desc")}),o.jsx("textarea",{value:s,onChange:b=>l(b.target.value),rows:4,placeholder:n("kanban.add_desc"),className:"w-full px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white resize-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.status")}),o.jsxs("select",{value:m,onChange:b=>y(b.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white",children:[o.jsx("option",{value:"todo",children:n("kanban.todo")}),o.jsx("option",{value:"doing",children:n("kanban.doing")}),o.jsx("option",{value:"blocked",children:n("kanban.blocked")}),o.jsx("option",{value:"done",children:n("kanban.done")})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.priority")}),o.jsxs("select",{value:c,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white",children:[o.jsx("option",{value:"low",children:n("kanban.low")}),o.jsx("option",{value:"medium",children:n("kanban.medium")}),o.jsx("option",{value:"high",children:n("kanban.high")})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider",children:"Imagem"}),v&&o.jsx("button",{type:"button",onClick:()=>x(null),className:"text-[10px] text-red-400 hover:text-red-600 transition-colors",children:"Remover"})]}),v?o.jsx("img",{src:v,alt:"",className:"w-full rounded-xl border border-gray-200 dark:border-neutral-700 object-contain max-h-48"}):o.jsxs("div",{className:`relative flex flex-col items-center justify-center gap-1.5 rounded-xl border-2 border-dashed p-4 text-center transition-colors cursor-pointer ${g?"border-blue-400 bg-blue-50/40 dark:bg-blue-500/5":"border-gray-200 dark:border-neutral-700 hover:border-gray-300 dark:hover:border-neutral-600"}`,onDragOver:b=>{b.preventDefault(),_(!0)},onDragLeave:()=>_(!1),onDrop:b=>{b.preventDefault(),_(!1);const S=b.dataTransfer.files[0];S&&S.type.startsWith("image/")&&k(S)},onClick:()=>{const b=document.createElement("input");b.type="file",b.accept="image/*",b.onchange=()=>{var S;(S=b.files)!=null&&S[0]&&k(b.files[0])},b.click()},children:[o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-300 dark:text-neutral-600",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),o.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),o.jsx("polyline",{points:"21 15 16 10 5 21"})]}),o.jsxs("p",{className:"text-[11px] text-gray-400 dark:text-neutral-500",children:["Arraste, cole ",o.jsx("kbd",{className:"font-mono bg-gray-100 dark:bg-neutral-800 px-1 rounded text-[10px]",children:"Ctrl+V"})," ou clique"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.responsible")}),o.jsx("select",{value:d,onChange:b=>f(b.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white",children:Rd.map(b=>o.jsx("option",{value:b.name,children:b.name},b.name))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.due_date")}),o.jsx("input",{type:"date",value:h,onChange:b=>p(b.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2 px-6 py-4 border-t border-gray-100 dark:border-neutral-800",children:[o.jsx("button",{onClick:r,className:"px-4 py-2 rounded-xl text-sm text-gray-600 dark:text-neutral-400 hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors",children:n("common.cancel")}),o.jsx("button",{onClick:w,className:"px-5 py-2 rounded-xl bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 transition-colors",children:n("common.save")})]})]})]})}function Bce({meetings:e,locale:t,onCreateMeeting:r,onDeleteMeeting:n}){const{t:a}=pe(),[i,s]=N.useState(0),[l,c]=N.useState(null),u=new Date().toISOString().split("T")[0],f=(()=>{const h=new Date,p=h.getDay(),m=p===0?-6:1-p,y=new Date(h);y.setDate(h.getDate()+m+i*7),y.setHours(0,0,0,0);const v=[];for(let x=0;x<7;x++){const g=new Date(y);g.setDate(y.getDate()+x),v.push(g)}return v})();return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:a("kanban.agenda")}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>s(h=>h-1),className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400 transition-colors",children:o.jsx(Pu,{size:16})}),o.jsx("button",{onClick:()=>s(0),className:"px-3 py-1 text-xs font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-500/10 rounded-lg transition-colors",children:a("kanban.today_label")}),o.jsx("button",{onClick:()=>s(h=>h+1),className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400 transition-colors",children:o.jsx(Nd,{size:16})})]}),o.jsxs("span",{className:"text-sm text-gray-500 dark:text-neutral-500",children:[f[0].toLocaleDateString(t,{day:"2-digit",month:"short"}),"  ",f[6].toLocaleDateString(t,{day:"2-digit",month:"short"})]})]}),o.jsxs("button",{onClick:()=>r(),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2 rounded-xl font-medium transition-colors",children:[o.jsx(NL,{size:16}),a("kanban.new_meeting")]})]}),o.jsx("div",{className:"overflow-x-auto -mx-6 px-6",children:o.jsx("div",{className:"grid grid-cols-7 gap-2 min-w-[700px]",children:f.map(h=>{const p=`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}-${String(h.getDate()).padStart(2,"0")}`,m=p===u,y=p<u,v=e.filter(_=>_.meeting_date===p),x=h.toLocaleDateString(t,{weekday:"short"}),g=h.getDate();return o.jsxs("div",{className:`min-h-[180px] rounded-xl border p-2 transition-colors ${m?"border-blue-300 dark:border-blue-500/30 bg-blue-50/50 dark:bg-blue-500/[0.03]":y?"border-gray-200/60 dark:border-neutral-800/60 bg-gray-50/50 dark:bg-neutral-900/50":"border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:`text-[10px] uppercase font-semibold tracking-wider ${m?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-neutral-500"}`,children:x}),m?o.jsx("span",{className:"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",children:g}):o.jsx("span",{className:`text-sm font-bold ${y?"text-gray-400 dark:text-neutral-600":"text-gray-700 dark:text-neutral-300"}`,children:g})]}),o.jsx("button",{onClick:()=>r(p),className:"p-0.5 rounded hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-300 dark:text-neutral-700 hover:text-gray-500 dark:hover:text-neutral-400 transition-colors",children:o.jsx(Yt,{size:14})})]}),o.jsx("div",{className:"space-y-1.5",children:v.map(_=>o.jsxs("button",{onClick:()=>c(_),className:`w-full text-left p-2 rounded-lg border transition-all hover:shadow-sm ${m?"bg-blue-100/50 dark:bg-blue-500/10 border-blue-200 dark:border-blue-500/20 hover:bg-blue-100 dark:hover:bg-blue-500/15":"bg-gray-50 dark:bg-neutral-800 border-gray-100 dark:border-neutral-700 hover:bg-gray-100 dark:hover:bg-neutral-800/80"}`,children:[o.jsx("p",{className:"text-[11px] font-medium text-gray-900 dark:text-white truncate",children:_.title}),o.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[o.jsx(jn,{size:9,className:"text-gray-400 dark:text-neutral-500 flex-shrink-0"}),o.jsx("span",{className:"text-[10px] text-gray-500 dark:text-neutral-400",children:_.meeting_time.slice(0,5)}),_.recurring_weekly&&o.jsx(Vc,{size:9,className:"text-blue-500 dark:text-blue-400 ml-auto flex-shrink-0"})]}),_.participants&&_.participants.length>0&&o.jsxs("div",{className:"flex gap-0.5 mt-1",children:[_.participants.slice(0,3).map(k=>{var b;const w=Rd.find(S=>S.name===k);return o.jsx("span",{className:`w-4 h-4 rounded-full ${(w==null?void 0:w.color)||"bg-gray-400"} flex items-center justify-center text-white text-[7px] font-bold`,children:((b=w==null?void 0:w.initials)==null?void 0:b[0])||k[0]},k)}),_.participants.length>3&&o.jsxs("span",{className:"text-[8px] text-gray-400 dark:text-neutral-500 ml-0.5",children:["+",_.participants.length-3]})]})]},_.id))})]},p)})})}),l&&o.jsx(Fce,{meeting:l,locale:t,onDelete:()=>{n(l.id),c(null)},onClose:()=>c(null)})]})}function Fce({meeting:e,locale:t,onDelete:r,onClose:n}){const{t:a}=pe(),i=new Date().toISOString().split("T")[0],s=new Date(Date.now()+864e5).toISOString().split("T")[0],l=e.meeting_date===i,c=e.meeting_date===s;return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:n,children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),o.jsxs("div",{className:"relative bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl w-full max-w-md border border-gray-200 dark:border-neutral-800",onClick:u=>u.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 dark:border-neutral-800",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate pr-4",children:e.title}),o.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400 flex-shrink-0",children:o.jsx(at,{size:18})})]}),o.jsxs("div",{className:"px-6 py-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l&&o.jsx("span",{className:"text-[10px] font-bold px-2.5 py-1 rounded-full bg-amber-100 dark:bg-amber-500/20 text-amber-600 dark:text-amber-400",children:a("kanban.today_label")}),c&&o.jsx("span",{className:"text-[10px] font-bold px-2.5 py-1 rounded-full bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400",children:a("kanban.tomorrow")}),e.recurring_weekly&&o.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold px-2.5 py-1 rounded-full bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400",children:[o.jsx(Vc,{size:10}),a("kanban.weekly")]})]}),o.jsxs("div",{className:"space-y-2.5",children:[o.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-gray-600 dark:text-neutral-300",children:[o.jsx(Sd,{size:15,className:"text-gray-400 dark:text-neutral-500 flex-shrink-0"}),o.jsx("span",{children:new Date(e.meeting_date+"T00:00:00").toLocaleDateString(t,{weekday:"long",day:"2-digit",month:"long",year:"numeric"})})]}),o.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-gray-600 dark:text-neutral-300",children:[o.jsx(jn,{size:15,className:"text-gray-400 dark:text-neutral-500 flex-shrink-0"}),o.jsxs("span",{children:[e.meeting_time.slice(0,5)," (",e.duration_minutes,"min)"]})]}),e.location&&o.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-gray-600 dark:text-neutral-300",children:[o.jsx(ML,{size:15,className:"text-gray-400 dark:text-neutral-500 flex-shrink-0"}),o.jsx("span",{children:e.location})]})]}),e.description&&o.jsx("div",{className:"bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl p-3 text-sm text-gray-700 dark:text-neutral-300 whitespace-pre-wrap",children:e.description}),e.participants&&e.participants.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-2",children:a("kanban.participants")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.participants.map(u=>{const d=Rd.find(f=>f.name===u);return o.jsxs("span",{className:"flex items-center gap-1.5 bg-gray-100 dark:bg-neutral-800 rounded-full px-2.5 py-1",children:[o.jsx("span",{className:`w-5 h-5 rounded-full ${(d==null?void 0:d.color)||"bg-gray-400"} flex items-center justify-center text-white text-[9px] font-bold`,children:(d==null?void 0:d.initials)||u.split(" ").map(f=>f[0]).join("")}),o.jsx("span",{className:"text-xs text-gray-700 dark:text-neutral-300",children:u.split(" ")[0]})]},u)})})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2 px-6 py-4 border-t border-gray-100 dark:border-neutral-800",children:[o.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-4 py-2 rounded-xl text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors",children:[o.jsx(Mr,{size:14}),a("common.delete")]}),o.jsx("button",{onClick:n,className:"px-5 py-2 rounded-xl bg-gray-100 dark:bg-neutral-800 text-sm font-medium text-gray-700 dark:text-neutral-300 hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:a("common.close")})]})]})]})}function Uce({initialDate:e,onSave:t,onClose:r}){const{t:n}=pe(),[a,i]=N.useState(""),[s,l]=N.useState(""),[c,u]=N.useState(e||""),[d,f]=N.useState("10:00"),[h,p]=N.useState(60),[m,y]=N.useState(""),[v,x]=N.useState(!1),[g,_]=N.useState([]),k=b=>{_(S=>S.includes(b)?S.filter(j=>j!==b):[...S,b])},w=()=>{!a.trim()||!c||t({title:a.trim(),description:s.trim()||void 0,meeting_date:c,meeting_time:d,duration_minutes:h,location:m.trim()||void 0,recurring_weekly:v||void 0,participants:g})};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:r,children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),o.jsxs("div",{className:"relative bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl w-full max-w-lg border border-gray-200 dark:border-neutral-800",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 dark:border-neutral-800",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("kanban.new_meeting")}),o.jsx("button",{onClick:r,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400",children:o.jsx(at,{size:18})})]}),o.jsxs("div",{className:"px-6 py-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.meeting_title")}),o.jsx("input",{autoFocus:!0,type:"text",value:a,onChange:b=>i(b.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.task_desc")}),o.jsx("textarea",{value:s,onChange:b=>l(b.target.value),rows:2,placeholder:n("kanban.add_desc"),className:"w-full px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white resize-none"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.date")}),o.jsx("input",{type:"date",value:c,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.time")}),o.jsx("input",{type:"time",value:d,onChange:b=>f(b.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.duration")}),o.jsxs("select",{value:h,onChange:b=>p(Number(b.target.value)),className:"w-full px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white",children:[o.jsx("option",{value:15,children:"15min"}),o.jsx("option",{value:30,children:"30min"}),o.jsx("option",{value:60,children:"1h"}),o.jsx("option",{value:90,children:"1h30"}),o.jsx("option",{value:120,children:"2h"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.location")}),o.jsx("input",{type:"text",value:m,onChange:b=>y(b.target.value),placeholder:"Zoom, Google Meet, Escritorio...",className:"w-full px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"checkbox",checked:v,onChange:b=>x(b.target.checked),className:"sr-only peer"}),o.jsx("div",{className:"w-9 h-5 bg-gray-200 dark:bg-neutral-700 rounded-full peer-checked:bg-blue-600 transition-colors"}),o.jsx("div",{className:"absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full shadow-sm transition-transform peer-checked:translate-x-4"})]}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-neutral-300",children:n("kanban.repeat_weekly")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-1.5 block",children:n("kanban.participants")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Rd.map(b=>{const S=g.includes(b.name);return o.jsxs("button",{onClick:()=>k(b.name),className:`flex items-center gap-2 px-3 py-1.5 rounded-xl text-sm font-medium transition-colors border ${S?`${b.color} text-white border-transparent`:"bg-gray-50 dark:bg-neutral-800 text-gray-600 dark:text-neutral-400 border-gray-200 dark:border-neutral-700"}`,children:[o.jsx("span",{className:`w-5 h-5 rounded-full ${S?"bg-white/30":b.color} flex items-center justify-center text-[10px] font-bold text-white`,children:b.initials}),b.name.split(" ")[0]]},b.name)})})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2 px-6 py-4 border-t border-gray-100 dark:border-neutral-800",children:[o.jsx("button",{onClick:r,className:"px-4 py-2 rounded-xl text-sm text-gray-600 dark:text-neutral-400 hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors",children:n("common.cancel")}),o.jsx("button",{onClick:w,disabled:!a.trim()||!c,className:"px-5 py-2 rounded-xl bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 transition-colors disabled:opacity-50",children:n("common.save")})]})]})]})}function qce(){const e=wr(),{user:t}=sm(),{t:r,lang:n}=pe(),[a,i]=N.useState(!1),[s,l]=N.useState(""),[c,u]=N.useState(""),{data:d=[]}=Ae({queryKey:["decisions"],queryFn:async()=>{const{data:p}=await re.from("decisions_log").select("*").order("decided_at",{ascending:!1});return p}}),f=fr({mutationFn:async()=>{await re.from("decisions_log").insert({decision:s,reason:c,decided_by:t==null?void 0:t.id,decided_at:new Date().toISOString()})},onSuccess:()=>{e.invalidateQueries({queryKey:["decisions"]}),l(""),u(""),i(!1)}}),h=fr({mutationFn:async p=>{await re.from("decisions_log").delete().eq("id",p)},onSuccess:()=>{e.invalidateQueries({queryKey:["decisions"]})}});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r("decisions.title")}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-500 mt-1",children:r("decisions.subtitle")})]}),o.jsxs("button",{onClick:()=>i(!a),className:"bg-blue-600 text-white px-4 py-2 rounded-xl font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm",children:[o.jsx(Yt,{size:16})," ",r("decisions.new")]})]}),a&&o.jsx("div",{className:"card p-6",children:o.jsxs("form",{onSubmit:p=>{p.preventDefault(),s&&c&&f.mutate()},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-2",children:r("decisions.decision")}),o.jsx("input",{type:"text",value:s,onChange:p=>l(p.target.value),placeholder:r("decisions.placeholder"),className:"w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-2",children:r("decisions.reason")}),o.jsx("textarea",{value:c,onChange:p=>u(p.target.value),placeholder:r("decisions.reason_placeholder"),rows:3,className:"w-full",required:!0})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-xl font-semibold hover:bg-blue-700 text-sm",children:r("decisions.register")}),o.jsx("button",{type:"button",onClick:()=>i(!1),className:"bg-gray-100 dark:bg-neutral-800 text-gray-700 dark:text-neutral-200 px-4 py-2 rounded-xl hover:bg-gray-200 dark:hover:bg-neutral-700 text-sm",children:r("decisions.cancel")})]})]})}),o.jsx("div",{className:"space-y-3",children:d.length===0?o.jsx("div",{className:"card p-8 text-center text-gray-400 dark:text-neutral-500",children:r("decisions.empty")}):d.map(p=>o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),o.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:p.decision})]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-400 ml-5 mb-3",children:p.reason}),o.jsx("p",{className:"ml-5 text-xs text-gray-400 dark:text-neutral-500",children:new Date(p.decided_at).toLocaleDateString(n==="pt"?"pt-BR":"en-US")})]}),o.jsx("button",{onClick:()=>h.mutate(p.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-xl text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Mr,{size:16})})]}),p.result_observed&&o.jsxs("div",{className:"ml-5 mt-3 p-3 bg-emerald-50 dark:bg-emerald-500/5 border border-emerald-200 dark:border-emerald-500/20 rounded-xl text-sm",children:[o.jsx("p",{className:"font-medium text-emerald-700 dark:text-emerald-400 mb-1",children:r("decisions.observed_result")}),o.jsx("p",{className:"text-emerald-600 dark:text-emerald-300",children:p.result_observed})]})]},p.id))})]})}function Kce(){const{t:e,lang:t}=pe(),[r]=N.useState([{nameKey:"documents.contracts",icon:"",files:[{nameKey:"documents.contract_supplier",date:"2025-02-15"},{nameKey:"documents.contract_partnership",date:"2025-01-20"}]},{nameKey:"documents.planning",icon:"",files:[{nameKey:"documents.roadmap",date:"2025-02-01"},{nameKey:"documents.strategic_plan",date:"2025-01-15"}]},{nameKey:"documents.spreadsheets",icon:"",files:[{nameKey:"documents.financial_projection",date:"2025-02-18"},{nameKey:"documents.churn_analysis",date:"2025-02-10"}]},{nameKey:"documents.reports",icon:"",files:[{nameKey:"documents.monthly_report",date:"2025-02-01"},{nameKey:"documents.performance_report",date:"2025-01-31"}]},{nameKey:"documents.corporate_docs",icon:"",files:[{nameKey:"documents.articles",date:"2024-06-15"},{nameKey:"documents.constitution",date:"2024-06-15"},{nameKey:"documents.amendment",date:"2024-12-01"}]}]);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("documents.title")}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-500 mt-1",children:e("documents.subtitle")})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(n=>o.jsxs("div",{className:"card p-6 hover:border-gray-200 dark:hover:border-neutral-700 cursor-pointer",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("span",{className:"text-2xl",children:n.icon}),o.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:e(n.nameKey)})]}),o.jsxs("div",{className:"space-y-1.5",children:[n.files.map(a=>o.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-gray-50 dark:bg-neutral-800/50 rounded-xl hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[o.jsx(EL,{size:14,className:"text-gray-400 dark:text-neutral-500 shrink-0"}),o.jsx("span",{className:"text-sm truncate text-gray-700 dark:text-neutral-200",children:e(a.nameKey)})]}),o.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:[o.jsx("span",{className:"text-xs text-gray-400 dark:text-neutral-500",children:new Date(a.date).toLocaleDateString(t==="pt"?"pt-BR":"en-US")}),o.jsx("button",{className:"p-1 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Mr,{size:14})})]})]},a.nameKey)),o.jsxs("button",{className:"w-full mt-2 p-2 text-blue-600 dark:text-blue-400 text-sm font-medium hover:bg-blue-50 dark:hover:bg-blue-500/10 rounded-xl transition-colors flex items-center justify-center gap-2",children:[o.jsx(Yt,{size:14})," ",e("documents.add_file")]})]})]},n.nameKey))}),o.jsxs("div",{className:"card p-6",children:[o.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:e("documents.important_info")}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-neutral-300",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-emerald-500",children:""})," ",e("documents.secure_storage")]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-emerald-500",children:""})," ",e("documents.partners_only")]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-emerald-500",children:""})," ",e("documents.audit_trail")]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-emerald-500",children:""})," ",e("documents.share_link")]})]})]})]})}const M_={"UCJDekPfdOi9gDg-1dw_GDng":{name:"@abrahubstudio",color:"#CCFF00",short:"Studio"},UC0qgDFuPmvDRNz_tXO90fBg:{name:"@Abraham_tv",color:"#ef4444",short:"Abraham TV"},"UCNHMvXsxOBlUUd3k-Zvtr1Q":{name:"@rodrigoabraham",color:"#3b82f6",short:"Rodrigo Abraham"}},W2=Object.keys(M_);function Wce(){const{t:e}=pe(),[t,r]=N.useState("youtube"),[n,a]=N.useState(W2[0]);return o.jsxs("div",{className:"space-y-6 pb-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e(t==="youtube"?"social.title":"social.ig_title")}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm mt-1",children:e(t==="youtube"?"social.subtitle":"social.ig_subtitle")})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-xl p-1",children:[o.jsxs("button",{onClick:()=>r("youtube"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${t==="youtube"?"bg-red-500 text-white shadow-lg":"text-gray-500 dark:text-neutral-400 hover:text-gray-900 dark:hover:text-white"}`,children:[o.jsx(Uy,{size:18})," YouTube"]}),o.jsxs("button",{onClick:()=>r("instagram"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${t==="instagram"?"text-white shadow-lg":"text-gray-500 dark:text-neutral-400 hover:text-gray-900 dark:hover:text-white"}`,style:t==="instagram"?{background:"linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888)"}:void 0,children:[o.jsx(ka,{size:18})," Instagram"]})]})]}),t==="youtube"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex gap-2",children:W2.map(i=>{const s=M_[i];return o.jsxs("button",{onClick:()=>a(i),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-semibold text-sm transition-all ${n===i?"text-white shadow-lg":"bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 text-gray-500 dark:text-neutral-400 hover:text-gray-900 dark:hover:text-white hover:border-gray-300 dark:hover:border-neutral-700"}`,style:n===i?{backgroundColor:s.color,boxShadow:`0 4px 14px ${s.color}33`}:void 0,children:[o.jsx(Uy,{size:18})," ",s.short]},i)})}),o.jsx(Hce,{channelId:n})]}):o.jsx(Vce,{})]})}function Hce({channelId:e}){const[t,r]=N.useState(30),{theme:n}=Ea(),{t:a,lang:i}=pe(),s=n==="dark",l=M_[e],c=i==="pt"?"pt-BR":"en-US",u=A=>(A==null?void 0:A.toLocaleString(c))||"0",d={backgroundColor:s?"#18181b":"#ffffff",border:"1px solid "+(s?"#3f3f46":"#e5e7eb"),borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},f=N.useMemo(()=>{const A=new Date;return A.setDate(A.getDate()-t),A.toISOString().split("T")[0]},[t]),{data:h=[]}=Ae({queryKey:["youtube-daily-channel",e,f],queryFn:async()=>{const{data:A}=await re.from("youtube_daily").select("*").eq("channel_id",e).gte("date",f).order("date",{ascending:!0});return A||[]}}),{data:p=[]}=Ae({queryKey:["youtube-daily-all",e],queryFn:async()=>{const A=new Date;A.setFullYear(A.getFullYear()-1);const{data:D}=await re.from("youtube_daily").select("date, subscribers, views_gained").eq("channel_id",e).gte("date",A.toISOString().split("T")[0]).order("date",{ascending:!0});return D||[]}}),{data:m=[]}=Ae({queryKey:["youtube-videos-channel",e],queryFn:async()=>{const{data:A}=await re.from("youtube_videos").select("*").eq("channel_id",e).order("view_count",{ascending:!1}).limit(10);return A||[]}}),{data:y=[]}=Ae({queryKey:["youtube-revenue-channel",e,f],queryFn:async()=>{const{data:A}=await re.from("youtube_revenue_daily").select("*").eq("channel_id",e).gte("date",f).order("date",{ascending:!0});return A||[]}}),v=A=>A.toLocaleString(c,{style:"currency",currency:"BRL"}),x=h[h.length-1],g=h.length>1?h[h.length-2]:null,_=(x==null?void 0:x.subscribers)||0,k=x&&g?x.subscribers-g.subscribers:0,w=h.reduce((A,D)=>A+(D.views_gained||0),0),b=(x==null?void 0:x.total_videos)||0,S=t>0?Math.round(w/t):0,j=y.reduce((A,D)=>A+(Number(D.revenue)||0),0),O=N.useMemo(()=>{const A=[],D=new Date,E=new Date(D);E.setDate(D.getDate()-t);const $=new Date(E);for(;$<=D;)A.push(`${$.getFullYear()}-${String($.getMonth()+1).padStart(2,"0")}-${String($.getDate()).padStart(2,"0")}`),$.setDate($.getDate()+1);return A},[t]),C=N.useMemo(()=>{const A={};return h.forEach(D=>{A[D.date]=D}),A},[h]),T=N.useMemo(()=>{var D;if(h.length===0)return[];let A=((D=h[0])==null?void 0:D.subscribers)||0;return O.map(E=>{const[,$,P]=E.split("-"),z=C[E];return z&&(A=z.subscribers||A),{date:`${$}/${P}`,subscribers:A}})},[h,O,C]),M=N.useMemo(()=>h.length===0?[]:O.map(A=>{const[,D,E]=A.split("-"),$=C[A];return{date:`${D}/${E}`,views:($==null?void 0:$.views_gained)||0}}),[h,O,C]),L=i==="pt"?["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],U=N.useMemo(()=>{if(p.length===0)return[];const A={};for(const D of p){const E=D.date.slice(0,7);A[E]||(A[E]={first:D.subscribers,last:D.subscribers,views:0,firstDate:D.date,lastDate:D.date}),D.date<A[E].firstDate&&(A[E].first=D.subscribers,A[E].firstDate=D.date),D.date>A[E].lastDate&&(A[E].last=D.subscribers,A[E].lastDate=D.date),A[E].views+=D.views_gained||0}return Object.entries(A).sort(([D],[E])=>E.localeCompare(D)).map(([D,E])=>{const $=E.last-E.first,P=E.first>0?($/E.first*100).toFixed(2):"0.00",[z,B]=D.split("-");return{month:`${L[parseInt(B)-1]} ${z}`,start:E.first,end:E.last,growth:$,pct:P,views:E.views}})},[p,L]);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-end",children:o.jsx("div",{className:"flex items-center gap-1 bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-xl p-1",children:[7,30,90].map(A=>o.jsxs("button",{onClick:()=>r(A),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${t===A?"bg-gray-900 dark:bg-white text-white dark:text-neutral-950 shadow-lg":"text-gray-500 dark:text-neutral-400 hover:text-gray-900 dark:hover:text-white"}`,children:[A,"d"]},A))})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsx(Ln,{icon:nn,label:a("social.subscribers"),value:u(_),delta:k,accentColor:l.color,locale:c}),o.jsx(Ln,{icon:Ss,label:`${a("social.views")} (${t}d)`,value:u(w),subtitle:`${u(S)}/${a("social.day")}`,accentColor:l.color,locale:c}),o.jsx(Ln,{icon:Eu,label:a("social.total_videos"),value:u(b),accentColor:l.color,locale:c}),o.jsx(Ln,{icon:Od,label:a("social.views_day"),value:u(S),subtitle:a("social.avg_period"),accentColor:l.color,locale:c}),o.jsx(Ln,{icon:Zr,label:`${a("social.revenue")} (${t}d)`,value:v(j),subtitle:j>0?`${v(j/t)}/${a("social.day")}`:a("social.no_monetization"),accentColor:j>0?"#10b981":"#6b7280",locale:c})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"card p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a("social.subscribers")}),o.jsx(bn,{width:"100%",height:280,children:o.jsxs(ys,{data:T,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:`grad-subs-${e}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:l.color,stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:l.color,stopOpacity:0})]})}),o.jsx(Wn,{strokeDasharray:"3 3",stroke:s?"#27272a":"#f3f4f6",vertical:!1}),o.jsx(xr,{dataKey:"date",stroke:s?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1}),o.jsx(br,{stroke:s?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1,domain:["dataMin - 100","dataMax + 100"],tickFormatter:A=>u(A)}),o.jsx(ht,{contentStyle:d,formatter:A=>[u(A),a("social.subscribers")]}),o.jsx(Bt,{type:"natural",dataKey:"subscribers",stroke:l.color,fill:`url(#grad-subs-${e})`,strokeWidth:2.5,dot:{r:3,fill:l.color}})]})})]}),o.jsxs("div",{className:"card p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a("social.daily_views")}),o.jsx(bn,{width:"100%",height:280,children:o.jsxs(ys,{data:M,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:`grad-views-${e}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:l.color,stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:l.color,stopOpacity:0})]})}),o.jsx(Wn,{strokeDasharray:"3 3",stroke:s?"#27272a":"#f3f4f6",vertical:!1}),o.jsx(xr,{dataKey:"date",stroke:s?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1}),o.jsx(br,{stroke:s?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1}),o.jsx(ht,{contentStyle:d,formatter:A=>[u(A),a("social.views")]}),o.jsx(Bt,{type:"natural",dataKey:"views",stroke:l.color,fill:`url(#grad-views-${e})`,strokeWidth:2.5,dot:{r:3,fill:l.color}})]})})]})]}),U.length>0&&o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Sd,{size:20,className:"text-gray-400 dark:text-neutral-500"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("social.monthly_growth")})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-gray-500 dark:text-neutral-500 text-xs uppercase tracking-wider border-b border-gray-200 dark:border-neutral-800",children:[o.jsx("th",{className:"text-left py-3 px-3",children:a("social.month")}),o.jsx("th",{className:"text-right py-3 px-3",children:a("social.start")}),o.jsx("th",{className:"text-right py-3 px-3",children:a("social.end")}),o.jsx("th",{className:"text-right py-3 px-3",children:a("social.growth")}),o.jsx("th",{className:"text-right py-3 px-3",children:"%"}),o.jsx("th",{className:"text-right py-3 px-3",children:a("social.views")})]})}),o.jsx("tbody",{children:U.map(A=>o.jsxs("tr",{className:"border-b border-gray-100 dark:border-neutral-800/50 hover:bg-gray-50 dark:hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"py-3 px-3 font-medium text-gray-900 dark:text-white",children:A.month}),o.jsx("td",{className:"py-3 px-3 text-right text-gray-600 dark:text-neutral-400",children:u(A.start)}),o.jsx("td",{className:"py-3 px-3 text-right text-gray-600 dark:text-neutral-400",children:u(A.end)}),o.jsx("td",{className:"py-3 px-3 text-right",children:o.jsxs("span",{className:`flex items-center justify-end gap-0.5 font-medium ${A.growth>=0?"text-emerald-500":"text-red-500"}`,children:[A.growth>=0?o.jsx(Kl,{size:14}):o.jsx(jb,{size:14}),A.growth>=0?"+":"",u(A.growth)]})}),o.jsx("td",{className:"py-3 px-3 text-right",children:o.jsxs("span",{className:`font-medium ${Number(A.pct)>=0?"text-emerald-500":"text-red-500"}`,children:[Number(A.pct)>=0?"+":"",A.pct,"%"]})}),o.jsx("td",{className:"py-3 px-3 text-right text-gray-600 dark:text-neutral-400",children:u(A.views)})]},A.month))})]})})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:[a("social.top_videos"),"  ",l.short]}),m.length===0?o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:a("social.no_videos")}):o.jsx("div",{className:"space-y-2",children:m.map((A,D)=>o.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors",children:[o.jsx("span",{className:"text-gray-400 dark:text-neutral-600 font-bold w-6 text-center text-sm",children:D+1}),A.thumbnail_url&&o.jsx("img",{src:A.thumbnail_url,alt:"",className:"w-28 h-16 rounded-lg object-cover"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold truncate text-gray-900 dark:text-white",children:A.title}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500",children:A.published_at?new Date(A.published_at).toLocaleDateString(c):""})]}),o.jsxs("div",{className:"flex gap-5 text-sm text-gray-500 dark:text-neutral-400",children:[o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(Ss,{size:14})," ",u(A.view_count)]}),o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(Ph,{size:14})," ",u(A.like_count)]}),o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(Hn,{size:14})," ",u(A.comment_count)]})]})]},A.video_id))})]})]})}function Vce(){const[e,t]=N.useState(30),{theme:r}=Ea(),{t:n,lang:a}=pe(),i=r==="dark",s=a==="pt"?"pt-BR":"en-US",l=E=>(E==null?void 0:E.toLocaleString(s))||"0",c="#E1306C",u={backgroundColor:i?"#18181b":"#ffffff",border:"1px solid "+(i?"#3f3f46":"#e5e7eb"),borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},d=N.useMemo(()=>{const E=new Date;return E.setDate(E.getDate()-e),E.toISOString()},[e]),{data:f}=Ae({queryKey:["instagram-daily-latest"],queryFn:async()=>{const{data:E}=await re.from("instagram_daily").select("*").order("date",{ascending:!1}).limit(1).single();return E}}),{data:h=[]}=Ae({queryKey:["instagram-daily-all"],queryFn:async()=>{const{data:E}=await re.from("instagram_daily").select("*").order("date",{ascending:!0});return E||[]}}),{data:p=[]}=Ae({queryKey:["instagram-all-posts"],queryFn:async()=>{const{data:E}=await re.from("instagram_posts").select("*").order("timestamp",{ascending:!0});return E||[]}}),m=N.useMemo(()=>p.filter(E=>E.timestamp&&E.timestamp>=d),[p,d]),y=N.useMemo(()=>[...m].sort((E,$)=>{const P=(E.like_count||0)+(E.comments_count||0)+(E.saves||0)+(E.shares||0);return($.like_count||0)+($.comments_count||0)+($.saves||0)+($.shares||0)-P}).slice(0,10),[m]),v=(f==null?void 0:f.followers)||0,x=(f==null?void 0:f.reach)||0,g=(f==null?void 0:f.impressions)||0,_=(f==null?void 0:f.profile_views)||0,k=m.length>0?Math.round(m.reduce((E,$)=>E+($.like_count||0),0)/m.length):0,w=m.length>0?Math.round(m.reduce((E,$)=>E+($.comments_count||0),0)/m.length):0,b=v>0&&m.length>0?((k+w)/v*100).toFixed(2):"0.00",S=m.reduce((E,$)=>E+($.reach||0),0),j=m.reduce((E,$)=>E+($.saves||0),0),O=m.reduce((E,$)=>E+($.shares||0),0),C=m.reduce((E,$)=>E+($.like_count||0),0),T=m.reduce((E,$)=>E+($.comments_count||0),0),M=N.useMemo(()=>{const E={};for(const X of m){if(!X.timestamp)continue;const F=new Date(X.timestamp),J=F.getDay(),K=new Date(F);K.setDate(F.getDate()-(J+6)%7);const ae=`${K.getFullYear()}-${String(K.getMonth()+1).padStart(2,"0")}-${String(K.getDate()).padStart(2,"0")}`;E[ae]||(E[ae]={engagement:0,reach:0,count:0}),E[ae].engagement+=(X.like_count||0)+(X.comments_count||0)+(X.saves||0)+(X.shares||0),E[ae].reach+=X.reach||0,E[ae].count++}const $=new Date,P=new Date($);P.setDate($.getDate()-e);const z=P.getDay();P.setDate(P.getDate()-(z+6)%7);const B=[],q=new Date(P);for(;q<=$;){const X=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}-${String(q.getDate()).padStart(2,"0")}`,[,F,J]=X.split("-"),K=E[X];B.push({date:`${F}/${J}`,engagement:(K==null?void 0:K.engagement)||0,reach:(K==null?void 0:K.reach)||0,posts:(K==null?void 0:K.count)||0}),q.setDate(q.getDate()+7)}return B},[m,e]),L=N.useMemo(()=>{const E={};for(const q of m){if(!q.timestamp)continue;const X=new Date(q.timestamp),F=`${X.getFullYear()}-${String(X.getMonth()+1).padStart(2,"0")}-${String(X.getDate()).padStart(2,"0")}`;E[F]||(E[F]={reach:0,engagement:0}),E[F].reach+=q.reach||0,E[F].engagement+=(q.like_count||0)+(q.comments_count||0)}const $=new Date,P=new Date($);P.setDate($.getDate()-e);const z=[],B=new Date(P);for(;B<=$;){const q=`${B.getFullYear()}-${String(B.getMonth()+1).padStart(2,"0")}-${String(B.getDate()).padStart(2,"0")}`,[,X,F]=q.split("-"),J=E[q];z.push({date:`${X}/${F}`,reach:(J==null?void 0:J.reach)||0,engagement:(J==null?void 0:J.engagement)||0}),B.setDate(B.getDate()+1)}return z},[m,e]),U=N.useMemo(()=>h.length===0?[]:h.map(E=>{const[,$,P]=E.date.split("-");return{date:`${$}/${P}`,reach:E.reach||0,impressions:E.impressions||0,profile_views:E.profile_views||0}}),[h]),A=a==="pt"?["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],D=N.useMemo(()=>{if(m.length===0)return[];const E={};for(const $ of m){if(!$.timestamp)continue;const P=$.timestamp.slice(0,7);E[P]||(E[P]={likes:0,comments:0,saves:0,shares:0,reach:0,posts:0}),E[P].likes+=$.like_count||0,E[P].comments+=$.comments_count||0,E[P].saves+=$.saves||0,E[P].shares+=$.shares||0,E[P].reach+=$.reach||0,E[P].posts++}return Object.entries(E).sort(([$],[P])=>P.localeCompare($)).map(([$,P])=>{const[z,B]=$.split("-"),q=`${A[parseInt(B)-1]} ${z}`,X=P.likes+P.comments+P.saves+P.shares,F=P.posts>0?Math.round(X/P.posts):0;return{month:q,posts:P.posts,reach:P.reach,likes:P.likes,comments:P.comments,saves:P.saves,shares:P.shares,avgEng:F}})},[m,A]);return m.length===0&&!f?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(ka,{size:48,className:"mx-auto text-gray-300 dark:text-neutral-600 mb-3"}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-500",children:n("social.ig_no_data")})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-end",children:o.jsx("div",{className:"flex items-center gap-1 bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-xl p-1",children:[7,30,90].map(E=>o.jsxs("button",{onClick:()=>t(E),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e===E?"bg-gray-900 dark:bg-white text-white dark:text-neutral-950 shadow-lg":"text-gray-500 dark:text-neutral-400 hover:text-gray-900 dark:hover:text-white"}`,children:[E,"d"]},E))})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsx(Ln,{icon:nn,label:n("social.ig_followers"),value:l(v),accentColor:c,locale:s}),o.jsx(Ln,{icon:Ss,label:`${n("social.ig_reach")} (${e}d)`,value:l(x>0?x:S),subtitle:`${m.length} posts`,accentColor:c,locale:s}),o.jsx(Ln,{icon:Od,label:`${n("social.ig_impressions")} (${e}d)`,value:l(g>0?g:C+T),accentColor:c,locale:s}),o.jsx(Ln,{icon:Ss,label:`${n("social.ig_profile_views")} (${e}d)`,value:l(_),accentColor:"#8b5cf6",locale:s}),o.jsx(Ln,{icon:Ph,label:n("social.ig_engagement_rate"),value:`${b}%`,subtitle:`${l(k)} ${n("social.ig_likes")} / ${l(w)} ${n("social.ig_comments")}`,accentColor:Number(b)>=3?"#10b981":"#f59e0b",locale:s})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"card p-4 text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l(m.length)}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mt-1",children:["Posts (",e,"d)"]})]}),o.jsxs("div",{className:"card p-4 text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l(S)}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mt-1",children:[n("social.ig_reach")," Total"]})]}),o.jsxs("div",{className:"card p-4 text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l(j)}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mt-1",children:[n("social.ig_saves")," Total"]})]}),o.jsxs("div",{className:"card p-4 text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l(O)}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mt-1",children:[n("social.ig_shares")," Total"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[n("social.ig_engagement")," / ",n("social.week")]}),o.jsx(bn,{width:"100%",height:280,children:o.jsxs(ys,{data:M,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"grad-ig-eng",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:c,stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:c,stopOpacity:0})]})}),o.jsx(Wn,{strokeDasharray:"3 3",stroke:i?"#27272a":"#f3f4f6",vertical:!1}),o.jsx(xr,{dataKey:"date",stroke:i?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1}),o.jsx(br,{stroke:i?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1}),o.jsx(ht,{contentStyle:u,formatter:(E,$)=>[l(E),n($==="engagement"?"social.ig_engagement":"social.ig_reach")]}),o.jsx(Bt,{type:"natural",dataKey:"engagement",stroke:c,fill:"url(#grad-ig-eng)",strokeWidth:2.5,dot:{r:3,fill:c}})]})})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[n("social.ig_reach")," / Post"]}),o.jsx(bn,{width:"100%",height:280,children:o.jsxs(ys,{data:L,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"grad-ig-reach",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})}),o.jsx(Wn,{strokeDasharray:"3 3",stroke:i?"#27272a":"#f3f4f6",vertical:!1}),o.jsx(xr,{dataKey:"date",stroke:i?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1}),o.jsx(br,{stroke:i?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1}),o.jsx(ht,{contentStyle:u,formatter:(E,$)=>[l(E),n($==="reach"?"social.ig_reach":"social.ig_engagement")]}),o.jsx(Bt,{type:"natural",dataKey:"reach",stroke:"#8b5cf6",fill:"url(#grad-ig-reach)",strokeWidth:2.5,dot:{r:3,fill:"#8b5cf6"}})]})})]})]}),U.length>1&&o.jsxs("div",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[n("social.ig_daily_reach")," & ",n("social.ig_profile_views")]}),o.jsx(bn,{width:"100%",height:250,children:o.jsxs(ys,{data:U,children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"grad-ig-dreac",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:c,stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:c,stopOpacity:0})]}),o.jsxs("linearGradient",{id:"grad-ig-pv",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})]}),o.jsx(Wn,{strokeDasharray:"3 3",stroke:i?"#27272a":"#f3f4f6",vertical:!1}),o.jsx(xr,{dataKey:"date",stroke:i?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1}),o.jsx(br,{stroke:i?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1}),o.jsx(ht,{contentStyle:u}),o.jsx(Bt,{type:"natural",dataKey:"reach",stroke:c,fill:"url(#grad-ig-dreac)",strokeWidth:2.5,name:n("social.ig_reach"),dot:{r:3,fill:c}}),o.jsx(Bt,{type:"natural",dataKey:"profile_views",stroke:"#8b5cf6",fill:"url(#grad-ig-pv)",strokeWidth:2.5,name:n("social.ig_profile_views"),dot:{r:3,fill:"#8b5cf6"}})]})})]}),D.length>0&&o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Sd,{size:20,className:"text-gray-400 dark:text-neutral-500"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("social.ig_monthly_growth")})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-gray-500 dark:text-neutral-500 text-xs uppercase tracking-wider border-b border-gray-200 dark:border-neutral-800",children:[o.jsx("th",{className:"text-left py-3 px-3",children:n("social.month")}),o.jsx("th",{className:"text-right py-3 px-3",children:"Posts"}),o.jsx("th",{className:"text-right py-3 px-3",children:n("social.ig_reach")}),o.jsx("th",{className:"text-right py-3 px-3",children:n("social.ig_likes")}),o.jsx("th",{className:"text-right py-3 px-3",children:n("social.ig_comments")}),o.jsx("th",{className:"text-right py-3 px-3",children:n("social.ig_saves")}),o.jsx("th",{className:"text-right py-3 px-3",children:n("social.ig_shares")}),o.jsx("th",{className:"text-right py-3 px-3",children:"Eng/Post"})]})}),o.jsx("tbody",{children:D.map(E=>o.jsxs("tr",{className:"border-b border-gray-100 dark:border-neutral-800/50 hover:bg-gray-50 dark:hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"py-3 px-3 font-medium text-gray-900 dark:text-white",children:E.month}),o.jsx("td",{className:"py-3 px-3 text-right text-gray-600 dark:text-neutral-400",children:E.posts}),o.jsx("td",{className:"py-3 px-3 text-right text-gray-600 dark:text-neutral-400",children:l(E.reach)}),o.jsx("td",{className:"py-3 px-3 text-right text-gray-600 dark:text-neutral-400",children:l(E.likes)}),o.jsx("td",{className:"py-3 px-3 text-right text-gray-600 dark:text-neutral-400",children:l(E.comments)}),o.jsx("td",{className:"py-3 px-3 text-right text-gray-600 dark:text-neutral-400",children:l(E.saves)}),o.jsx("td",{className:"py-3 px-3 text-right text-gray-600 dark:text-neutral-400",children:l(E.shares)}),o.jsx("td",{className:"py-3 px-3 text-right font-medium",style:{color:c},children:l(E.avgEng)})]},E.month))})]})})]}),o.jsxs("div",{className:"card p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:n("social.ig_top_posts")}),y.length===0?o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:n("social.ig_no_data")}):o.jsx("div",{className:"space-y-2",children:y.map((E,$)=>o.jsxs("a",{href:E.permalink||"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors",children:[o.jsx("span",{className:"text-gray-400 dark:text-neutral-600 font-bold w-6 text-center text-sm",children:$+1}),E.thumbnail_url?o.jsx("img",{src:E.thumbnail_url,alt:"",className:"w-16 h-16 rounded-lg object-cover"}):o.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-100 dark:bg-neutral-800 flex items-center justify-center",children:o.jsx(Hf,{size:20,className:"text-gray-300 dark:text-neutral-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold truncate text-gray-900 dark:text-white",children:E.caption?E.caption.slice(0,80)+(E.caption.length>80?"...":""):""}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-neutral-500",children:[E.media_type,"  ",E.timestamp?new Date(E.timestamp).toLocaleDateString(s):"",E.reach>0&&`  Reach: ${l(E.reach)}`]})]}),o.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 dark:text-neutral-400",children:[o.jsxs("span",{className:"flex items-center gap-1",title:n("social.ig_likes"),children:[o.jsx(Ph,{size:14})," ",l(E.like_count)]}),o.jsxs("span",{className:"flex items-center gap-1",title:n("social.ig_comments"),children:[o.jsx(Hn,{size:14})," ",l(E.comments_count)]}),o.jsxs("span",{className:"flex items-center gap-1",title:n("social.ig_saves"),children:[o.jsx(SL,{size:14})," ",l(E.saves||0)]}),o.jsxs("span",{className:"flex items-center gap-1",title:n("social.ig_shares"),children:[o.jsx(UL,{size:14})," ",l(E.shares||0)]})]})]},E.media_id))})]})]})}function Ln({icon:e,label:t,value:r,delta:n,subtitle:a,accentColor:i,locale:s}){const l=c=>(c==null?void 0:c.toLocaleString(s))||"0";return o.jsxs("div",{className:"card p-5 hover:border-gray-200 dark:hover:border-neutral-700/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"p-2 rounded-xl",style:{backgroundColor:i+"15"},children:o.jsx(e,{size:18,style:{color:i}})}),n!==void 0&&n!==0&&o.jsxs("span",{className:`flex items-center gap-0.5 text-xs font-medium ${n>0?"text-emerald-400":"text-red-400"}`,children:[n>0?o.jsx(Kl,{size:14}):o.jsx(jb,{size:14}),n>0?"+":"",l(n)]})]}),o.jsx("p",{className:"text-2xl font-bold",style:{color:i},children:r}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mt-1",children:t}),a&&o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-600 mt-0.5",children:a})]})}const ze=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),ke={stripe:"#635bff",stripe_monthly:"#635bff",stripe_annual:"#8b5cf6",kiwify:"#00c853",adsense:"#fbbc04",recurring:"#3b82f6",annual:"#8b5cf6",one_time:"#f59e0b",refund:"#ef4444"},Gce=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],Qce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Yce(){const{theme:e}=Ea(),t=e==="dark",{t:r,lang:n}=pe(),a=n==="en"?Qce:Gce,i=n==="en"?"en-US":"pt-BR",s=new Date,[l,c]=N.useState(s.getFullYear()),[u,d]=N.useState(s.getMonth()),f=`${l}-${String(u+1).padStart(2,"0")}`,h=`${a[u]} ${l}`,p=`${f}-01`,m=new Date(l,u+1,0),y=`${f}-${String(m.getDate()).padStart(2,"0")}`,v={backgroundColor:t?"#18181b":"#ffffff",border:`1px solid ${t?"#3f3f46":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},x=()=>{u===0?(d(11),c(l-1)):d(u-1)},g=()=>{u===11?(d(0),c(l+1)):d(u+1)},{data:_=[],isLoading:k}=Ae({queryKey:["fin-revenue",f],queryFn:async()=>{const{data:W}=await re.from("revenue_transactions").select("*").gte("date",p).lte("date",y);return W||[]}}),{data:w=[]}=Ae({queryKey:["fin-expenses",f],queryFn:async()=>{const{data:W}=await re.from("monthly_expenses").select("*").eq("month",f).order("category");return W||[]}}),b=new Date(l,u-1,1),S=`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}`,j=`${S}-01`,O=new Date(b.getFullYear(),b.getMonth()+1,0),C=`${S}-${String(O.getDate()).padStart(2,"0")}`,{data:T=[]}=Ae({queryKey:["fin-revenue",S],queryFn:async()=>{const{data:W}=await re.from("revenue_transactions").select("*").gte("date",j).lte("date",C);return W||[]}}),{data:M=[]}=Ae({queryKey:["fin-daily",f],queryFn:async()=>{const{data:W}=await re.from("financial_daily").select("*").gte("date",p).lte("date",y).order("date",{ascending:!0});return W||[]}}),{data:L}=Ae({queryKey:["fin-churn"],queryFn:async()=>{const{data:W}=await re.from("churn_metrics").select("*").order("date",{ascending:!1}).limit(1).single();return W}}),{data:U=[]}=Ae({queryKey:["fin-ads",f],queryFn:async()=>{const{data:W}=await re.from("ads_daily").select("*").gte("date",p).lte("date",y);return W||[]}}),A=_.filter(W=>W.status==="paid"||W.status==="approved"||W.status==="completed"),D=_.filter(W=>W.status==="refunded"||W.status==="chargedback"),E=A.reduce((W,ue)=>W+Math.abs(ue.amount),0),$=D.reduce((W,ue)=>W+Math.abs(ue.amount),0),P=E+$,z=P-$,q=T.filter(W=>W.status==="paid"||W.status==="approved"||W.status==="completed").reduce((W,ue)=>W+Math.abs(ue.amount),0),X=q>0?(P-q)/q*100:0,F=A.filter(W=>W.source==="stripe").reduce((W,ue)=>W+Math.abs(ue.amount),0),J=A.filter(W=>W.source==="stripe"&&W.type==="recurring").reduce((W,ue)=>W+Math.abs(ue.amount),0),K=A.filter(W=>W.source==="stripe"&&W.type==="annual").reduce((W,ue)=>W+Math.abs(ue.amount),0),ae=F-J-K,se=A.filter(W=>W.source==="kiwify").reduce((W,ue)=>W+Math.abs(ue.amount),0),Y=M.reduce((W,ue)=>W+(ue.revenue_adsense||0),0),te=A.filter(W=>W.type==="recurring"),ce=A.filter(W=>W.type==="annual"),G=te.reduce((W,ue)=>W+Math.abs(ue.amount),0),be=ce.reduce((W,ue)=>W+Math.abs(ue.amount),0),Se=A.filter(W=>W.type==="one_time").reduce((W,ue)=>W+Math.abs(ue.amount),0),Ue=te.length,Ke=ce.length,Ee=G,qt=Ue>0?G/Ue:0,ft=Ke>0?be/Ke:0,Q=(L==null?void 0:L.total_customers)||0,ge=(L==null?void 0:L.new_customers)||0,Oe=(L==null?void 0:L.churned_customers)||0,V=(L==null?void 0:L.churn_percentage)||0,_e=(L==null?void 0:L.ltv_estimated)||0,Le=Q>0?Ee/Q:0,An=_e>0?_e:V>0?Le*(100/V):0,zr=U.reduce((W,ue)=>W+(ue.total_spend||0),0),Pn=ge>0?zr/ge:0,En=zr>0?P/zr:0,Ia=Oe*Le,Xn=w.reduce((W,ue)=>W+(ue.price_brl||0),0),Id=w.filter(W=>W.category==="tool").reduce((W,ue)=>W+(ue.price_brl||0),0),D_=w.filter(W=>W.category==="salary"||W.category==="prolabore").reduce((W,ue)=>W+(ue.price_brl||0),0),L_=w.filter(W=>W.category==="tax").reduce((W,ue)=>W+(ue.price_brl||0),0),z_=w.filter(W=>W.category==="other").reduce((W,ue)=>W+(ue.price_brl||0),0),qs=z-Xn,B_=z>0?qs/z*100:0,sc=Xn>0?z/Xn:0,g5=(()=>{const W={};M.forEach(lc=>{W[lc.date]=lc});const ue=[],Br=new Date(p+"T12:00:00"),y5=new Date(y+"T12:00:00"),Ks=new Date(Br);for(;Ks<=y5;){const lc=`${Ks.getFullYear()}-${String(Ks.getMonth()+1).padStart(2,"0")}-${String(Ks.getDate()).padStart(2,"0")}`,At=W[lc];ue.push({date:lc.slice(5),stripe:(At==null?void 0:At.revenue_stripe)||0,kiwify:(At==null?void 0:At.revenue_kiwify)||0,adsense:(At==null?void 0:At.revenue_adsense)||0,total:((At==null?void 0:At.revenue_stripe)||0)+((At==null?void 0:At.revenue_kiwify)||0)+((At==null?void 0:At.revenue_adsense)||0)}),Ks.setDate(Ks.getDate()+1)}return ue})(),Md=[{name:`Stripe ${r("financeiro.monthlies")}`,value:J,color:ke.stripe_monthly},{name:`Stripe ${r("financeiro.annuals")}`,value:K,color:ke.stripe_annual},...ae>0?[{name:`Stripe ${r("financeiro.one_time_sales")}`,value:ae,color:"#a78bfa"}]:[],{name:"Kiwify",value:se,color:ke.kiwify},...Y>0?[{name:"AdSense",value:Y,color:ke.adsense}]:[]].filter(W=>W.value>0),Dd=[{name:r("financeiro.monthlies"),value:G,color:ke.recurring},{name:r("financeiro.annuals"),value:be,color:ke.annual},{name:r("financeiro.one_time_sales"),value:Se,color:ke.one_time}].filter(W=>W.value>0),eg={};A.forEach(W=>{const ue=W.product_name||"Outros";eg[ue]=(eg[ue]||0)+Math.abs(W.amount)});const oc=Object.entries(eg).map(([W,ue])=>({name:W.length>30?W.substring(0,30)+"...":W,fullName:W,value:ue})).sort((W,ue)=>ue.value-W.value).slice(0,8),F_=[..._].sort((W,ue)=>ue.date.localeCompare(W.date)).slice(0,20);return k?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(_r,{className:"animate-spin text-gray-400 dark:text-neutral-500",size:32})}):o.jsxs("div",{className:"space-y-8 pb-8",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r("financeiro.title")}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm mt-1",children:r("financeiro.subtitle")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:x,className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-500 dark:text-neutral-400 transition-colors",children:o.jsx(Pu,{size:20})}),o.jsx("select",{value:`${l}-${u}`,onChange:W=>{const[ue,Br]=W.target.value.split("-").map(Number);c(ue),d(Br)},className:"px-4 py-2 bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-xl min-w-[140px] text-center text-sm font-semibold text-gray-900 dark:text-white appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500/40",children:Array.from({length:24},(W,ue)=>{const Br=new Date(s.getFullYear(),s.getMonth()-ue,1);return o.jsxs("option",{value:`${Br.getFullYear()}-${Br.getMonth()}`,children:[a[Br.getMonth()]," ",Br.getFullYear()]},ue)})}),o.jsx("button",{onClick:g,className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-500 dark:text-neutral-400 transition-colors",children:o.jsx(Nd,{size:20})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[o.jsx(Tn,{label:r("financeiro.gross_revenue"),value:ze(P),icon:Zr,accent:"emerald",badge:X!==0?`${X>0?"+":""}${X.toFixed(0)}%`:void 0,badgeColor:X>=0?"emerald":"red",info:r("financeiro.gross_revenue_desc")}),o.jsx(Tn,{label:r("financeiro.mrr"),value:ze(Ee),icon:Vc,accent:"blue",sub:`${Ue} ${r("financeiro.monthly_subscribers")}`,info:r("financeiro.mrr_desc")}),o.jsx(Tn,{label:r("financeiro.avg_ticket"),value:Le>0?ze(Le):"N/A",icon:LL,accent:"purple",sub:Q>0?`${Q} ${r("financeiro.subscribers")}`:void 0,info:r("financeiro.avg_ticket_desc")}),o.jsx(Tn,{label:r("financeiro.active_subscribers"),value:Q>0?Q.toString():"N/A",icon:nn,accent:"cyan",sub:ge>0?`+${ge} ${r("financeiro.new")}`:void 0,info:r("financeiro.active_desc")}),o.jsx(Tn,{label:r("financeiro.churn"),value:V>0?`${V.toFixed(1)}%`:"N/A",icon:H1,accent:V>5?"red":"amber",sub:Oe>0?`${Oe} ${r("financeiro.cancelled")}`:void 0,info:r("financeiro.churn_desc")})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[o.jsx(Tn,{label:r("financeiro.ltv"),value:An>0?ze(An):"N/A",icon:Od,accent:"emerald",sub:An>0&&Pn>0?`${r("financeiro.ltv_cac")} ${(An/Pn).toFixed(1)}x`:void 0,info:r("financeiro.ltv_desc")}),o.jsx(Tn,{label:r("financeiro.cac"),value:Pn>0?ze(Pn):"N/A",icon:Cu,accent:"amber",sub:zr>0?`${r("financeiro.spend")} ${ze(zr)}`:r("financeiro.no_ads_data"),info:r("financeiro.cac_desc")}),o.jsx(Tn,{label:r("financeiro.net_margin"),value:`${B_.toFixed(1)}%`,icon:Os,accent:B_>=0?"blue":"red",sub:ze(qs),info:r("financeiro.net_margin_desc")}),o.jsx(Tn,{label:r("financeiro.cash_flow"),value:ze(qs),icon:Zr,accent:qs>=0?"emerald":"red",sub:r("financeiro.revenue_minus_expenses"),info:r("financeiro.cash_flow_desc")}),o.jsx(Tn,{label:r("financeiro.runway"),value:Xn>0?sc>=1?`${sc.toFixed(1)}x`:`${(sc*100).toFixed(0)}%`:"N/A",icon:jn,accent:sc>=1?"emerald":"red",sub:Xn>0?sc>=1?r("financeiro.sustainable"):r("financeiro.not_covering"):r("financeiro.no_expenses"),info:r("financeiro.runway_desc")})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"card p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[r("financeiro.revenues")," - ",h]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:ke.stripe}}),o.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-neutral-500 uppercase tracking-wider",children:"Stripe"})]}),J>0&&o.jsx(or,{label:`  ${r("financeiro.monthly_subs")}`,value:J,color:ke.stripe_monthly}),K>0&&o.jsx(or,{label:`  ${r("financeiro.annual_subs")}`,value:K,color:ke.stripe_annual}),ae>0&&o.jsx(or,{label:`  ${r("financeiro.one_time")}`,value:ae,color:ke.one_time}),F>0&&o.jsx(or,{label:`  ${r("financeiro.subtotal_stripe")}`,value:F,color:ke.stripe,bold:!0}),se>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border-t border-gray-100 dark:border-neutral-800/50 pt-2 mt-2"}),o.jsx(or,{label:"Kiwify",value:se,color:ke.kiwify})]}),Y>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border-t border-gray-100 dark:border-neutral-800/50 pt-2 mt-2"}),o.jsx(or,{label:r("financeiro.youtube_adsense"),value:Y,color:ke.adsense})]}),o.jsx("div",{className:"border-t border-gray-200 dark:border-neutral-800 pt-2",children:o.jsx(or,{label:r("financeiro.gross_revenue"),value:P,bold:!0})}),o.jsx(or,{label:r("financeiro.refunds_label"),value:-$,color:ke.refund}),o.jsx("div",{className:"border-t border-gray-200 dark:border-neutral-800 pt-2",children:o.jsx(or,{label:r("financeiro.net_revenue"),value:z,bold:!0,color:"#10b981"})})]})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[r("financeiro.expenses_label")," - ",h]}),w.length>0?o.jsxs("div",{className:"space-y-3",children:[Id>0&&o.jsx(or,{label:r("financeiro.tools_software"),value:-Id,color:"#3b82f6"}),D_>0&&o.jsx(or,{label:r("financeiro.salaries"),value:-D_,color:"#8b5cf6"}),L_>0&&o.jsx(or,{label:r("financeiro.taxes"),value:-L_,color:"#ef4444"}),z_>0&&o.jsx(or,{label:r("financeiro.other"),value:-z_,color:"#6b7280"}),o.jsx("div",{className:"border-t border-gray-200 dark:border-neutral-800 pt-2",children:o.jsx(or,{label:r("financeiro.total_expenses"),value:-Xn,bold:!0,color:"#ef4444"})}),o.jsx("div",{className:"border-t-2 border-gray-300 dark:border-neutral-700 pt-3 mt-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:r("financeiro.net_profit")}),o.jsx("span",{className:`text-lg font-bold ${qs>=0?"text-emerald-500":"text-red-500"}`,children:ze(qs)})]})})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsxs("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:[r("financeiro.no_expenses_for")," ",h]}),o.jsx("a",{href:"/gastos",className:"text-blue-500 text-sm hover:underline mt-1 inline-block",children:r("financeiro.register_expenses")})]})]})]}),o.jsxs("div",{className:"card p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r("financeiro.subscriptions_saas")}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{className:"p-4 rounded-xl border border-blue-200 dark:border-blue-500/20 bg-blue-50/50 dark:bg-blue-500/5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vc,{size:16,className:"text-blue-500"}),o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:r("financeiro.monthly_plan")})]}),o.jsxs("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-blue-500/10 text-blue-500",children:[Ue," ",r("financeiro.subscribers")]})]}),o.jsx("p",{className:"text-2xl font-bold text-blue-500",children:ze(G)}),o.jsxs("p",{className:"text-[11px] text-gray-500 dark:text-neutral-500 mt-1",children:[r("financeiro.avg_ticket_label")," ",qt>0?ze(qt):"-","/",r("financeiro.month")]})]}),o.jsxs("div",{className:"p-4 rounded-xl border border-purple-200 dark:border-purple-500/20 bg-purple-50/50 dark:bg-purple-500/5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vc,{size:16,className:"text-purple-500"}),o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:r("financeiro.annual_plan")})]}),o.jsxs("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-purple-500/10 text-purple-500",children:[Ke," ",r("financeiro.subscribers")]})]}),o.jsx("p",{className:"text-2xl font-bold text-purple-500",children:ze(be)}),o.jsxs("p",{className:"text-[11px] text-gray-500 dark:text-neutral-500 mt-1",children:[r("financeiro.avg_ticket_label")," ",ft>0?ze(ft):"-","/",r("financeiro.year")," (",ft>0?ze(ft/12):"-","/",r("financeiro.month"),")"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[o.jsx(to,{label:r("financeiro.active_total"),value:Q>0?Q.toString():"-",icon:nn,color:"blue"}),o.jsx(to,{label:r("financeiro.new_month"),value:ge>0?`+${ge}`:"-",icon:yP,color:"emerald"}),o.jsx(to,{label:r("financeiro.cancelled_label"),value:Oe>0?Oe.toString():"-",icon:H1,color:"red"}),o.jsx(to,{label:r("financeiro.churn_pct"),value:V>0?`${V.toFixed(1)}%`:"-",icon:HL,color:V>5?"red":"amber"}),o.jsx(to,{label:r("financeiro.lost_revenue"),value:Ia>0?ze(Ia):"-",icon:Zr,color:"red"}),o.jsx(to,{label:r("financeiro.roas"),value:En>0?`${En.toFixed(1)}x`:"-",icon:Cu,color:En>=2?"emerald":"amber"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 card p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[r("financeiro.daily_revenue")," - ",h]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-neutral-400",children:[o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ke.stripe}}),r("financeiro.stripe")]}),o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ke.kiwify}}),r("financeiro.kiwify")]}),o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ke.adsense}}),r("financeiro.adsense")]})]})]}),o.jsx(bn,{width:"100%",height:280,children:o.jsxs(ys,{data:g5,children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"gradStripe",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:ke.stripe,stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:ke.stripe,stopOpacity:0})]}),o.jsxs("linearGradient",{id:"gradKiwify",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:ke.kiwify,stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:ke.kiwify,stopOpacity:0})]}),o.jsxs("linearGradient",{id:"gradAdsense",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:ke.adsense,stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:ke.adsense,stopOpacity:0})]})]}),o.jsx(Wn,{strokeDasharray:"3 3",stroke:t?"#27272a":"#f3f4f6",vertical:!1}),o.jsx(xr,{dataKey:"date",stroke:t?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1}),o.jsx(br,{stroke:t?"#52525b":"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:W=>`R$${W}`}),o.jsx(ht,{contentStyle:v,formatter:(W,ue)=>{const Br={stripe:"Stripe",kiwify:"Kiwify",adsense:"AdSense"};return[ze(W),Br[ue]||ue]},labelStyle:{color:t?"#a1a1aa":"#6b7280"}}),o.jsx(Bt,{type:"monotone",dataKey:"stripe",stroke:ke.stripe,fill:"url(#gradStripe)",strokeWidth:2}),o.jsx(Bt,{type:"monotone",dataKey:"kiwify",stroke:ke.kiwify,fill:"url(#gradKiwify)",strokeWidth:2}),o.jsx(Bt,{type:"monotone",dataKey:"adsense",stroke:ke.adsense,fill:"url(#gradAdsense)",strokeWidth:2})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"card p-5",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-3",children:r("financeiro.net_revenue")}),o.jsx("p",{className:`text-3xl font-bold ${z>=0?"text-emerald-400":"text-red-400"}`,children:ze(z)})]}),o.jsxs("div",{className:"card p-5",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-2",children:r("financeiro.stripe")}),o.jsx("p",{className:"text-2xl font-bold",style:{color:ke.stripe},children:ze(F)}),o.jsxs("div",{className:"flex gap-4 mt-1.5 text-[10px] text-gray-400 dark:text-neutral-500",children:[J>0&&o.jsxs("span",{children:[r("financeiro.monthlies"),": ",ze(J)]}),K>0&&o.jsxs("span",{children:[r("financeiro.annuals"),": ",ze(K)]})]}),o.jsx("div",{className:"mt-2 h-1.5 bg-gray-100 dark:bg-neutral-800 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full rounded-full",style:{width:`${P>0?F/P*100:0}%`,backgroundColor:ke.stripe}})})]}),o.jsxs("div",{className:"card p-5",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-2",children:r("financeiro.kiwify")}),o.jsx("p",{className:"text-2xl font-bold",style:{color:ke.kiwify},children:ze(se)}),o.jsx("div",{className:"mt-2 h-1.5 bg-gray-100 dark:bg-neutral-800 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full rounded-full",style:{width:`${P>0?se/P*100:0}%`,backgroundColor:ke.kiwify}})})]}),Y>0&&o.jsxs("div",{className:"card p-5",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 uppercase tracking-wider mb-2",children:r("financeiro.youtube_adsense")}),o.jsx("p",{className:"text-2xl font-bold",style:{color:ke.adsense},children:ze(Y)}),o.jsx("div",{className:"mt-2 h-1.5 bg-gray-100 dark:bg-neutral-800 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full rounded-full",style:{width:`${P>0?Y/P*100:0}%`,backgroundColor:ke.adsense}})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"card p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r("financeiro.revenue_by_source")}),Md.length>0?o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx(bn,{width:"50%",height:200,children:o.jsxs(K2,{children:[o.jsx(Qn,{data:Md,cx:"50%",cy:"50%",innerRadius:55,outerRadius:85,paddingAngle:4,dataKey:"value",children:Md.map((W,ue)=>o.jsx(ps,{fill:W.color,stroke:"transparent"},ue))}),o.jsx(ht,{contentStyle:v,formatter:W=>ze(W)})]})}),o.jsx("div",{className:"space-y-3 flex-1",children:Md.map(W=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:W.color}}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-neutral-300",children:W.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:ze(W.value)}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-neutral-500",children:[P>0?(W.value/P*100).toFixed(0):0,"%"]})]})]},W.name))})]}):o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:r("financeiro.no_data_period")})]}),o.jsxs("div",{className:"card p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r("financeiro.revenue_type")}),Dd.length>0?o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx(bn,{width:"50%",height:200,children:o.jsxs(K2,{children:[o.jsx(Qn,{data:Dd,cx:"50%",cy:"50%",innerRadius:55,outerRadius:85,paddingAngle:4,dataKey:"value",children:Dd.map((W,ue)=>o.jsx(ps,{fill:W.color,stroke:"transparent"},ue))}),o.jsx(ht,{contentStyle:v,formatter:W=>ze(W)})]})}),o.jsx("div",{className:"space-y-3 flex-1",children:Dd.map(W=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:W.color}}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-neutral-300",children:W.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:ze(W.value)}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-neutral-500",children:[P>0?(W.value/P*100).toFixed(0):0,"%"]})]})]},W.name))})]}):o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:r("financeiro.no_data_period")})]})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[r("financeiro.revenue_by_product")," - ",h]}),oc.length>0?o.jsx(bn,{width:"100%",height:Math.max(oc.length*48,200),children:o.jsxs(I_,{data:oc,layout:"vertical",margin:{left:20},children:[o.jsx(Wn,{strokeDasharray:"3 3",stroke:t?"#27272a":"#f3f4f6",horizontal:!1}),o.jsx(xr,{type:"number",stroke:t?"#52525b":"#9ca3af",fontSize:11,tickFormatter:W=>`R$${W}`}),o.jsx(br,{type:"category",dataKey:"name",stroke:t?"#52525b":"#9ca3af",fontSize:11,width:200,tick:{fill:t?"#a1a1aa":"#6b7280"}}),o.jsx(ht,{contentStyle:v,formatter:W=>ze(W),labelFormatter:W=>{const ue=oc.find(Br=>Br.name===W);return(ue==null?void 0:ue.fullName)||W}}),o.jsx(Ra,{dataKey:"value",radius:[0,6,6,0],maxBarSize:28,children:oc.map((W,ue)=>o.jsx(ps,{fill:ue%2===0?ke.stripe:ke.kiwify},ue))})]})}):o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:r("financeiro.no_data_period")})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[r("financeiro.transactions")," - ",h]}),F_.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-gray-500 dark:text-neutral-500 text-xs uppercase tracking-wider border-b border-gray-200 dark:border-neutral-800",children:[o.jsx("th",{className:"text-left py-3 px-2",children:r("financeiro.date")}),o.jsx("th",{className:"text-left py-3 px-2",children:r("financeiro.product")}),o.jsx("th",{className:"text-left py-3 px-2",children:r("financeiro.source")}),o.jsx("th",{className:"text-left py-3 px-2",children:r("financeiro.type")}),o.jsx("th",{className:"text-left py-3 px-2",children:r("financeiro.status")}),o.jsx("th",{className:"text-right py-3 px-2",children:r("financeiro.value")})]})}),o.jsx("tbody",{children:F_.map(W=>o.jsxs("tr",{className:"border-b border-gray-100 dark:border-neutral-800/50 hover:bg-gray-50 dark:hover:bg-neutral-800/30 transition-colors",children:[o.jsx("td",{className:"py-3 px-2 text-gray-500 dark:text-neutral-400",children:new Date(W.date+"T00:00:00").toLocaleDateString(i,{day:"2-digit",month:"2-digit"})}),o.jsx("td",{className:"py-3 px-2 max-w-[200px] truncate text-gray-900 dark:text-white",title:W.product_name,children:W.product_name||""}),o.jsx("td",{className:"py-3 px-2",children:o.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full",style:{backgroundColor:W.source==="stripe"?ke.stripe+"20":ke.kiwify+"20",color:W.source==="stripe"?ke.stripe:ke.kiwify},children:W.source==="stripe"?"Stripe":"Kiwify"})}),o.jsx("td",{className:"py-3 px-2",children:o.jsx(Jce,{type:W.type})}),o.jsx("td",{className:"py-3 px-2",children:o.jsx(Xce,{status:W.status})}),o.jsx("td",{className:`py-3 px-2 text-right font-medium ${W.amount<0?"text-red-400":"text-emerald-400"}`,children:ze(Math.abs(W.amount))})]},W.transaction_id))})]})}):o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:r("financeiro.no_transactions")})]})]})}function Tn({label:e,value:t,icon:r,accent:n,badge:a,badgeColor:i,sub:s,info:l}){const c={emerald:{bg:"bg-emerald-50 dark:bg-emerald-500/10",text:"text-emerald-500"},blue:{bg:"bg-blue-50 dark:bg-blue-500/10",text:"text-blue-500"},purple:{bg:"bg-purple-50 dark:bg-purple-500/10",text:"text-purple-500"},cyan:{bg:"bg-cyan-50 dark:bg-cyan-500/10",text:"text-cyan-500"},amber:{bg:"bg-amber-50 dark:bg-amber-500/10",text:"text-amber-500"},red:{bg:"bg-red-50 dark:bg-red-500/10",text:"text-red-500"}},u=c[n]||c.blue,d=i?c[i]:void 0;return o.jsxs("div",{className:"card p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:`p-2 rounded-xl ${u.bg}`,children:o.jsx(r,{size:16,className:u.text})}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[a&&o.jsx("span",{className:`text-[11px] font-medium px-2 py-0.5 rounded-full ${d?`${d.bg} ${d.text}`:`${u.bg} ${u.text}`}`,children:a}),l&&o.jsxs("span",{className:"relative group",children:[o.jsx($L,{size:14,className:"text-gray-300 dark:text-neutral-600 hover:text-gray-500 dark:hover:text-neutral-400 cursor-help transition-colors"}),o.jsx("span",{className:"absolute right-0 top-6 z-50 hidden group-hover:block w-56 p-2.5 text-[11px] leading-relaxed text-gray-700 dark:text-neutral-300 bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl shadow-lg",children:l})]})]})]}),o.jsx("p",{className:`text-xl font-bold ${u.text}`,children:t}),o.jsx("p",{className:"text-[11px] text-gray-500 dark:text-neutral-500 mt-0.5",children:e}),s&&o.jsx("p",{className:"text-[10px] text-gray-400 dark:text-neutral-600 mt-0.5",children:s})]})}function to({label:e,value:t,icon:r,color:n,sub:a}){const i={blue:"text-blue-500",emerald:"text-emerald-500",red:"text-red-500",amber:"text-amber-500",purple:"text-purple-500"};return o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-neutral-800/50 rounded-xl",children:[o.jsx(r,{size:16,className:i[n]||"text-gray-500"}),o.jsxs("div",{children:[o.jsx("p",{className:`text-sm font-bold ${i[n]||"text-gray-900 dark:text-white"}`,children:t}),o.jsx("p",{className:"text-[10px] text-gray-500 dark:text-neutral-500",children:e}),a&&o.jsx("p",{className:"text-[10px] text-gray-400 dark:text-neutral-600",children:a})]})]})}function or({label:e,value:t,color:r,bold:n}){return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:`text-sm ${n?"font-semibold text-gray-900 dark:text-white":"text-gray-600 dark:text-neutral-400"}`,children:e}),o.jsxs("span",{className:`text-sm ${n?"font-bold":"font-medium"}`,style:{color:r||(t>=0?void 0:"#ef4444")},children:[ze(Math.abs(t)),t<0&&!n&&" "]})]})}function Jce({type:e}){const{t}=pe(),n={recurring:{label:t("financeiro.monthly_type"),color:ke.recurring},annual:{label:t("financeiro.annual_type"),color:ke.annual},one_time:{label:t("financeiro.one_time_type"),color:ke.one_time}}[e]||{label:e,color:"#737373"};return o.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full",style:{backgroundColor:n.color+"20",color:n.color},children:n.label})}function Xce({status:e}){const t=e==="paid"||e==="approved",r=e==="refunded"||e==="chargedback";return o.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${t?"bg-emerald-500/10 text-emerald-400":r?"bg-red-500/10 text-red-400":"bg-gray-100 dark:bg-neutral-700 text-gray-500 dark:text-neutral-400"}`,children:e})}const Zce=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],eue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],H2={tool:{bg:"bg-blue-100 dark:bg-blue-500/20",text:"text-blue-700 dark:text-blue-400"},salary:{bg:"bg-green-100 dark:bg-green-500/20",text:"text-green-700 dark:text-green-400"},tax:{bg:"bg-red-100 dark:bg-red-500/20",text:"text-red-700 dark:text-red-400"},prolabore:{bg:"bg-purple-100 dark:bg-purple-500/20",text:"text-purple-700 dark:text-purple-400"},other:{bg:"bg-gray-100 dark:bg-gray-500/20",text:"text-gray-700 dark:text-gray-400"}},tue=[{name:"Systeme",description:"Mail Marketing",category:"tool",price_usd:"",price_brl:"414.00",responsible:"",is_recurring:!0},{name:"Higgsfield",description:"Estudio de Cinematografia",category:"tool",price_usd:"37.40",price_brl:"193.66",responsible:"",is_recurring:!0},{name:"Google AI Ultra",description:"Veo 3, Gemini code",category:"tool",price_usd:"",price_brl:"1209.00",responsible:"",is_recurring:!0},{name:"ChatGPT",description:"Roteiros, textos",category:"tool",price_usd:"20.00",price_brl:"103.56",responsible:"",is_recurring:!0},{name:"Botconversa",description:"",category:"tool",price_usd:"14.00",price_brl:"72.49",responsible:"",is_recurring:!0},{name:"Impostos",description:"Roubo do GOV",category:"tax",price_usd:"",price_brl:"2500.00",responsible:"",is_recurring:!0},{name:"Youtube Premium",description:"",category:"tool",price_usd:"8.00",price_brl:"41.42",responsible:"",is_recurring:!0},{name:"Salario Atlas",description:"",category:"salary",price_usd:"",price_brl:"2500.00",responsible:"Atlas",is_recurring:!0},{name:"Contabilidade",description:"",category:"other",price_usd:"",price_brl:"1200.00",responsible:"",is_recurring:!0},{name:"Pacote Adobe",description:"",category:"tool",price_usd:"",price_brl:"140.00",responsible:"",is_recurring:!0},{name:"Canva Pro",description:"",category:"tool",price_usd:"",price_brl:"34.00",responsible:"",is_recurring:!0},{name:"Motion VFX",description:"",category:"tool",price_usd:"58.00",price_brl:"300.32",responsible:"",is_recurring:!0},{name:"Artlist",description:"",category:"tool",price_usd:"40.00",price_brl:"207.12",responsible:"",is_recurring:!0},{name:"Midjourney",description:"",category:"tool",price_usd:"30.00",price_brl:"155.34",responsible:"",is_recurring:!0},{name:"Circle",description:"Coracao da comunidade",category:"tool",price_usd:"",price_brl:"1159.00",responsible:"",is_recurring:!0},{name:"Capcut",description:"",category:"tool",price_usd:"",price_brl:"66.00",responsible:"",is_recurring:!0},{name:"Elevenlabs",description:"",category:"tool",price_usd:"5.00",price_brl:"25.89",responsible:"",is_recurring:!0},{name:"Claude OPUS",description:"",category:"tool",price_usd:"100.00",price_brl:"517.80",responsible:"",is_recurring:!0},{name:"Prolabore Rodrigo",description:"40%",category:"prolabore",price_usd:"",price_brl:"6800.00",responsible:"Rodrigo",is_recurring:!0},{name:"Prolabore Monge",description:"30%",category:"prolabore",price_usd:"",price_brl:"5100.00",responsible:"Monge",is_recurring:!0},{name:"Prolabore Zanella",description:"30%",category:"prolabore",price_usd:"",price_brl:"5100.00",responsible:"Zanella",is_recurring:!0}],ro=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),m0=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"}),no=e=>{if(!e||e.trim()==="")return null;const t=e.replace(/[^\d.,\-]/g,"").replace(",","."),r=parseFloat(t);return isNaN(r)?null:r},ao={name:"",description:"",category:"tool",price_usd:"",price_brl:"",responsible:"",is_recurring:!0};function rue(){Ea();const{t:e,lang:t}=pe(),r=wr(),n=t==="en"?eue:Zce,a=new Date,[i,s]=N.useState(a.getFullYear()),[l,c]=N.useState(a.getMonth()),u=N.useMemo(()=>{const P=(l+1).toString().padStart(2,"0");return`${i}-${P}`},[i,l]),[d,f]=N.useState(null),[h,p]=N.useState(ao),[m,y]=N.useState(!1),[v,x]=N.useState(ao),[g,_]=N.useState(null),[k,w]=N.useState(!1),{data:b=[],isLoading:S}=Ae({queryKey:["monthly-expenses",u],queryFn:async()=>{const{data:P,error:z}=await re.from("monthly_expenses").select("*").eq("month",u).order("created_at",{ascending:!0});if(z)throw z;return P||[]}}),j=fr({mutationFn:async P=>{const{error:z}=await re.from("monthly_expenses").insert({month:u,name:P.name.trim(),description:P.description.trim()||null,category:P.category,price_usd:no(P.price_usd),price_brl:no(P.price_brl)||0,responsible:P.responsible.trim()||null,is_recurring:P.is_recurring});if(z)throw z},onSuccess:()=>{r.invalidateQueries({queryKey:["monthly-expenses",u]}),y(!1),x(ao)}}),O=fr({mutationFn:async({id:P,form:z})=>{const{error:B}=await re.from("monthly_expenses").update({name:z.name.trim(),description:z.description.trim()||null,category:z.category,price_usd:no(z.price_usd),price_brl:no(z.price_brl)||0,responsible:z.responsible.trim()||null,is_recurring:z.is_recurring,updated_at:new Date().toISOString()}).eq("id",P);if(B)throw B},onSuccess:()=>{r.invalidateQueries({queryKey:["monthly-expenses",u]}),f(null),p(ao)}}),C=fr({mutationFn:async P=>{const{error:z}=await re.from("monthly_expenses").delete().eq("id",P);if(z)throw z},onSuccess:()=>{r.invalidateQueries({queryKey:["monthly-expenses",u]}),_(null)}}),T=fr({mutationFn:async()=>{const P=tue.map(B=>({month:u,name:B.name,description:B.description||null,category:B.category,price_usd:no(B.price_usd),price_brl:no(B.price_brl)||0,responsible:B.responsible||null,is_recurring:B.is_recurring})),{error:z}=await re.from("monthly_expenses").insert(P);if(z)throw z},onSuccess:()=>{r.invalidateQueries({queryKey:["monthly-expenses",u]})}}),M=fr({mutationFn:async P=>{const{data:z,error:B}=await re.from("monthly_expenses").select("*").eq("month",P);if(B)throw B;if(!z||z.length===0)throw new Error("Nenhuma despesa encontrada no mes selecionado");const q=z.map(F=>({month:u,name:F.name,description:F.description,category:F.category,price_usd:F.price_usd,price_brl:F.price_brl,responsible:F.responsible,is_recurring:F.is_recurring})),{error:X}=await re.from("monthly_expenses").insert(q);if(X)throw X},onSuccess:()=>{r.invalidateQueries({queryKey:["monthly-expenses",u]}),w(!1)}}),L=N.useMemo(()=>{const P=b.reduce((F,J)=>F+(J.price_brl||0),0),z=b.filter(F=>F.category==="tool").reduce((F,J)=>F+(J.price_brl||0),0),B=b.filter(F=>F.category==="salary"||F.category==="prolabore").reduce((F,J)=>F+(J.price_brl||0),0),q=b.filter(F=>F.category==="tax").reduce((F,J)=>F+(J.price_brl||0),0),X=b.reduce((F,J)=>F+(J.price_usd||0),0);return{totalBRL:P,toolsBRL:z,salaryProlaboreBRL:B,taxBRL:q,totalUSD:X}},[b]),U=N.useCallback(P=>{f(P.id),p({name:P.name,description:P.description||"",category:P.category,price_usd:P.price_usd!=null?P.price_usd.toString():"",price_brl:P.price_brl.toString(),responsible:P.responsible||"",is_recurring:P.is_recurring})},[]),A=N.useCallback(()=>{f(null),p(ao)},[]),D=N.useCallback(()=>{let P=l-1,z=i;P<0&&(P=11,z-=1);const B=(P+1).toString().padStart(2,"0");return`${z}-${B}`},[l,i]);if(S)return o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(_r,{className:"animate-spin text-gray-400 dark:text-neutral-500",size:32})});const E="w-full px-3 py-2 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40",$="w-full px-3 py-2 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/40";return o.jsxs("div",{className:"space-y-6 pb-8",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("expenses.title")}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm mt-1",children:e("expenses.subtitle")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>y(!0),disabled:m,className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-sm font-medium transition-colors disabled:opacity-50",children:[o.jsx(Yt,{size:16}),e("expenses.add")]}),o.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-gray-700 dark:text-neutral-300 hover:bg-gray-50 dark:hover:bg-neutral-700 rounded-xl text-sm font-medium transition-colors",children:[o.jsx(OL,{size:16}),e("expenses.copy_prev")]})]})]}),o.jsx("div",{className:"card p-4",children:o.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl p-1",children:[i-1,i,i+1].map(P=>o.jsx("button",{onClick:()=>s(P),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${i===P?"bg-blue-600 text-white shadow-sm":"text-gray-500 dark:text-neutral-400 hover:text-gray-900 dark:hover:text-white"}`,children:P},P))}),o.jsx("div",{className:"flex items-center gap-1 flex-wrap bg-gray-100 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl p-1",children:n.map((P,z)=>o.jsx("button",{onClick:()=>c(z),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${l===z?"bg-blue-600 text-white shadow-sm":"text-gray-500 dark:text-neutral-400 hover:text-gray-900 dark:hover:text-white"}`,children:P},z))})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Af,{label:e("expenses.total"),value:ro(L.totalBRL),icon:Ob,iconBg:"bg-orange-50 dark:bg-orange-500/10",iconColor:"text-orange-500",subtitle:L.totalUSD>0?`${m0(L.totalUSD)} ${e("expenses.in_usd")}`:void 0}),o.jsx(Af,{label:e("expenses.tools"),value:ro(L.toolsBRL),icon:Zr,iconBg:"bg-blue-50 dark:bg-blue-500/10",iconColor:"text-blue-500",subtitle:`${b.filter(P=>P.category==="tool").length} ${e("expenses.tools_count")}`}),o.jsx(Af,{label:e("expenses.salaries_label"),value:ro(L.salaryProlaboreBRL),icon:nn,iconBg:"bg-purple-50 dark:bg-purple-500/10",iconColor:"text-purple-500",subtitle:`${b.filter(P=>P.category==="salary"||P.category==="prolabore").length} ${e("expenses.payments")}`}),o.jsx(Af,{label:e("expenses.taxes"),value:ro(L.taxBRL),icon:pP,iconBg:"bg-red-50 dark:bg-red-500/10",iconColor:"text-red-500",subtitle:L.totalBRL>0?`${(L.taxBRL/L.totalBRL*100).toFixed(1)}% ${e("expenses.of_total")}`:void 0})]}),b.length===0&&!m&&o.jsxs("div",{className:"card p-6 text-center",children:[o.jsx(kb,{className:"mx-auto text-amber-500 mb-3",size:32}),o.jsxs("p",{className:"text-gray-900 dark:text-white font-medium mb-1",children:[e("expenses.no_expenses")," ",n[l]," ",i]}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm mb-4",children:e("expenses.seed_question")}),o.jsxs("div",{className:"flex items-center justify-center gap-3",children:[o.jsx("button",{onClick:()=>T.mutate(),disabled:T.isPending,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-sm font-medium transition-colors disabled:opacity-50",children:T.isPending?e("expenses.seeding"):e("expenses.seed_button")}),o.jsx("button",{onClick:()=>w(!0),className:"px-5 py-2.5 bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-gray-700 dark:text-neutral-300 hover:bg-gray-50 dark:hover:bg-neutral-700 rounded-xl text-sm font-medium transition-colors",children:e("expenses.copy_from")})]}),T.isError&&o.jsxs("p",{className:"text-red-500 text-sm mt-3",children:[e("expenses.error")," ",T.error.message]})]}),(b.length>0||m)&&o.jsxs("div",{className:"card overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-gray-500 dark:text-neutral-500 text-xs uppercase tracking-wider border-b border-gray-200 dark:border-neutral-800",children:[o.jsx("th",{className:"text-left py-3 px-4",children:e("expenses.name")}),o.jsx("th",{className:"text-left py-3 px-4",children:e("expenses.description")}),o.jsx("th",{className:"text-left py-3 px-4",children:e("expenses.category")}),o.jsx("th",{className:"text-right py-3 px-4",children:e("expenses.usd")}),o.jsx("th",{className:"text-right py-3 px-4",children:e("expenses.brl")}),o.jsx("th",{className:"text-left py-3 px-4",children:e("expenses.responsible")}),o.jsx("th",{className:"text-center py-3 px-4 w-28",children:e("expenses.actions")})]})}),o.jsxs("tbody",{children:[m&&o.jsxs("tr",{className:"border-b border-gray-100 dark:border-neutral-800/50 bg-blue-50/50 dark:bg-blue-900/10",children:[o.jsx("td",{className:"py-2 px-4",children:o.jsx("input",{className:E,placeholder:e("expenses.name"),value:v.name,onChange:P=>x({...v,name:P.target.value})})}),o.jsx("td",{className:"py-2 px-4",children:o.jsx("input",{className:E,placeholder:e("expenses.description"),value:v.description,onChange:P=>x({...v,description:P.target.value})})}),o.jsx("td",{className:"py-2 px-4",children:o.jsx("select",{className:$,value:v.category,onChange:P=>x({...v,category:P.target.value}),children:["tool","salary","tax","prolabore","other"].map(P=>o.jsx("option",{value:P,children:e(`expenses.${P}`)},P))})}),o.jsx("td",{className:"py-2 px-4",children:o.jsx("input",{className:`${E} text-right`,placeholder:"0.00",value:v.price_usd,onChange:P=>x({...v,price_usd:P.target.value})})}),o.jsx("td",{className:"py-2 px-4",children:o.jsx("input",{className:`${E} text-right`,placeholder:"0,00",value:v.price_brl,onChange:P=>x({...v,price_brl:P.target.value})})}),o.jsx("td",{className:"py-2 px-4",children:o.jsx("input",{className:E,placeholder:e("expenses.responsible"),value:v.responsible,onChange:P=>x({...v,responsible:P.target.value})})}),o.jsx("td",{className:"py-2 px-4",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>j.mutate(v),disabled:!v.name.trim()||!v.price_brl.trim()||j.isPending,className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-500/10 rounded-lg transition-colors disabled:opacity-30",title:e("expenses.save"),children:o.jsx(Ns,{size:16})}),o.jsx("button",{onClick:()=>{y(!1),x(ao)},className:"p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",title:e("expenses.cancel"),children:o.jsx(at,{size:16})})]})})]}),b.map(P=>{const z=d===P.id,B=g===P.id;return z?o.jsxs("tr",{className:"border-b border-gray-100 dark:border-neutral-800/50 bg-amber-50/50 dark:bg-amber-900/10",children:[o.jsx("td",{className:"py-2 px-4",children:o.jsx("input",{className:E,value:h.name,onChange:q=>p({...h,name:q.target.value})})}),o.jsx("td",{className:"py-2 px-4",children:o.jsx("input",{className:E,value:h.description,onChange:q=>p({...h,description:q.target.value})})}),o.jsx("td",{className:"py-2 px-4",children:o.jsx("select",{className:$,value:h.category,onChange:q=>p({...h,category:q.target.value}),children:["tool","salary","tax","prolabore","other"].map(q=>o.jsx("option",{value:q,children:e(`expenses.${q}`)},q))})}),o.jsx("td",{className:"py-2 px-4",children:o.jsx("input",{className:`${E} text-right`,value:h.price_usd,onChange:q=>p({...h,price_usd:q.target.value})})}),o.jsx("td",{className:"py-2 px-4",children:o.jsx("input",{className:`${E} text-right`,value:h.price_brl,onChange:q=>p({...h,price_brl:q.target.value})})}),o.jsx("td",{className:"py-2 px-4",children:o.jsx("input",{className:E,value:h.responsible,onChange:q=>p({...h,responsible:q.target.value})})}),o.jsx("td",{className:"py-2 px-4",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>O.mutate({id:P.id,form:h}),disabled:!h.name.trim()||!h.price_brl.trim()||O.isPending,className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-500/10 rounded-lg transition-colors disabled:opacity-30",title:e("expenses.save"),children:o.jsx(Ns,{size:16})}),o.jsx("button",{onClick:A,className:"p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",title:e("expenses.cancel"),children:o.jsx(at,{size:16})})]})})]},P.id):o.jsxs("tr",{className:"border-b border-gray-100 dark:border-neutral-800/50 hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors",children:[o.jsx("td",{className:"py-3 px-4 text-gray-900 dark:text-white font-medium",children:P.name}),o.jsx("td",{className:"py-3 px-4 text-gray-500 dark:text-neutral-400 max-w-[200px] truncate",title:P.description||"",children:P.description||""}),o.jsx("td",{className:"py-3 px-4",children:o.jsx(nue,{category:P.category})}),o.jsx("td",{className:"py-3 px-4 text-right text-gray-500 dark:text-neutral-400 tabular-nums",children:P.price_usd!=null?m0(P.price_usd):""}),o.jsx("td",{className:"py-3 px-4 text-right text-gray-900 dark:text-white font-medium tabular-nums",children:ro(P.price_brl||0)}),o.jsx("td",{className:"py-3 px-4 text-gray-500 dark:text-neutral-400",children:P.responsible||""}),o.jsx("td",{className:"py-3 px-4",children:B?o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>C.mutate(P.id),disabled:C.isPending,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg transition-colors text-xs font-medium disabled:opacity-50",title:"Confirmar exclusao",children:o.jsx(Mr,{size:16})}),o.jsx("button",{onClick:()=>_(null),className:"p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",title:e("expenses.cancel"),children:o.jsx(at,{size:16})})]}):o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>U(P),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-500/10 rounded-lg transition-colors",title:e("common.edit"),children:o.jsx(hP,{size:16})}),o.jsx("button",{onClick:()=>_(P.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg transition-colors",title:e("common.delete"),children:o.jsx(Mr,{size:16})})]})})]},P.id)}),b.length>0&&o.jsxs("tr",{className:"bg-gray-50 dark:bg-neutral-800/50 font-semibold",children:[o.jsx("td",{className:"py-3 px-4 text-gray-900 dark:text-white",colSpan:3,children:e("expenses.total_items",{count:b.length})}),o.jsx("td",{className:"py-3 px-4 text-right text-gray-900 dark:text-white tabular-nums",children:L.totalUSD>0?m0(L.totalUSD):""}),o.jsx("td",{className:"py-3 px-4 text-right text-gray-900 dark:text-white tabular-nums",children:ro(L.totalBRL)}),o.jsx("td",{className:"py-3 px-4",colSpan:2})]})]})]})}),j.isError&&o.jsxs("div",{className:"px-4 py-3 text-red-500 text-sm border-t border-gray-200 dark:border-neutral-800",children:[e("expenses.error_add")," ",j.error.message]}),O.isError&&o.jsxs("div",{className:"px-4 py-3 text-red-500 text-sm border-t border-gray-200 dark:border-neutral-800",children:[e("expenses.error_update")," ",O.error.message]}),C.isError&&o.jsxs("div",{className:"px-4 py-3 text-red-500 text-sm border-t border-gray-200 dark:border-neutral-800",children:[e("expenses.error_delete")," ",C.error.message]})]}),k&&o.jsx(aue,{title:e("expenses.copy_title"),message:`${e("expenses.copy_confirm")} ${D()} ${e("expenses.to")} ${u}? ${e("expenses.copy_note")}`,confirmLabel:M.isPending?e("expenses.copying"):e("expenses.copy"),onConfirm:()=>M.mutate(D()),onCancel:()=>w(!1),isLoading:M.isPending,error:M.isError?M.error.message:void 0})]})}function Af({label:e,value:t,icon:r,iconBg:n,iconColor:a,subtitle:i}){return o.jsxs("div",{className:"card p-5 hover:border-gray-200 dark:hover:border-neutral-700/50 transition-colors",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("span",{className:`p-2 rounded-xl ${n}`,children:o.jsx(r,{size:18,className:a})})}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mt-1",children:e}),i&&o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-600 mt-0.5",children:i})]})}function nue({category:e}){const{t}=pe(),r=H2[e]||H2.other,n=t(`expenses.${e}`);return o.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${r.bg} ${r.text}`,children:n})}function aue({title:e,message:t,confirmLabel:r,onConfirm:n,onCancel:a,isLoading:i,error:s}){const{t:l}=pe();return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),o.jsxs("div",{className:"relative card p-6 max-w-md w-full mx-4 shadow-2xl",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:e}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-400 mb-6",children:t}),s&&o.jsxs("p",{className:"text-red-500 text-sm mb-4",children:[l("expenses.error")," ",s]}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{onClick:a,className:"px-4 py-2 text-sm text-gray-600 dark:text-neutral-400 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded-xl transition-colors",children:l("expenses.cancel")}),o.jsx("button",{onClick:n,disabled:i,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-xl transition-colors disabled:opacity-50",children:r})]})]})]})}const Yf=e=>(e==null?void 0:e.toLocaleString("pt-BR"))||"0",iue=e=>{const t=Date.now()-new Date(e).getTime(),r=Math.floor(t/6e4);if(r<60)return`${r}min`;const n=Math.floor(r/60);return n<24?`${n}h`:`${Math.floor(n/24)}d`},io="w-full px-3 py-2.5 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-purple-500/40 transition-colors";function sue(){Ea();const{t:e}=pe(),t=wr(),[r,n]=N.useState("posts"),[a,i]=N.useState(null),[s,l]=N.useState(!1),{data:c=[],isLoading:u}=Ae({queryKey:["instagram-posts"],queryFn:async()=>{const{data:g}=await re.from("instagram_posts").select("*").order("timestamp",{ascending:!1});return g||[]}}),{data:d=[]}=Ae({queryKey:["instagram-automations"],queryFn:async()=>{const{data:g}=await re.from("instagram_automations").select("*").order("created_at",{ascending:!1});return g||[]}}),{data:f=[]}=Ae({queryKey:["instagram-processed-comments"],queryFn:async()=>{const{data:g}=await re.from("instagram_processed_comments").select("*").order("created_at",{ascending:!1}).limit(100);return g||[]}}),h=new Map(d.map(g=>[g.media_id,g])),p=d.filter(g=>g.is_active).length,m=f.filter(g=>{const _=new Date().toISOString().split("T")[0];return g.created_at.startsWith(_)}),y=m.filter(g=>g.action_taken.includes("dm")).length,v=m.filter(g=>g.action_taken.includes("reply")).length,x=async()=>{l(!0);try{await fetch("https://jdodenbjohnqvhvldfqu.supabase.co/functions/v1/sync-instagram",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impkb2RlbmJqb2hucXZodmxkZnF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE2MjU3MzAsImV4cCI6MjA4NzIwMTczMH0.MR3yuR-a1vf84iDrw2wEZ0mS0-8y0LdG1lUjiK_mFec"}}),t.invalidateQueries({queryKey:["instagram-posts"]})}catch{}l(!1)};return u?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(_r,{className:"animate-spin text-gray-400 dark:text-neutral-500",size:32})}):o.jsxs("div",{className:"space-y-6 pb-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center",children:o.jsx(Ir,{size:22,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("instaninja.title")}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:e("instaninja.subtitle")})]})]})}),o.jsxs("button",{onClick:x,disabled:s,className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 text-gray-700 dark:text-neutral-300 hover:bg-gray-50 dark:hover:bg-neutral-800 transition-all disabled:opacity-50",children:[o.jsx(_r,{size:16,className:s?"animate-spin":""}),e("instaninja.sync_posts")]})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[o.jsx(Pf,{icon:Ir,label:e("instaninja.active_automations"),value:p.toString(),color:"purple"}),o.jsx(Pf,{icon:Ni,label:e("instaninja.dms_today"),value:y.toString(),color:"pink"}),o.jsx(Pf,{icon:mP,label:e("instaninja.replies_today"),value:v.toString(),color:"blue"}),o.jsx(Pf,{icon:Hn,label:e("instaninja.total_processed"),value:Yf(f.length),color:"green"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>n("posts"),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-semibold text-sm transition-all ${r==="posts"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-pink-600/20":"bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 text-gray-500 dark:text-neutral-400 hover:text-gray-900 dark:hover:text-white hover:border-gray-300 dark:hover:border-neutral-700"}`,children:[o.jsx(ka,{size:18})," ",e("instaninja.posts")," (",c.length,")"]}),o.jsxs("button",{onClick:()=>n("log"),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-semibold text-sm transition-all ${r==="log"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-pink-600/20":"bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 text-gray-500 dark:text-neutral-400 hover:text-gray-900 dark:hover:text-white hover:border-gray-300 dark:hover:border-neutral-700"}`,children:[o.jsx(jn,{size:18})," ",e("instaninja.activity_log")," (",f.length,")"]})]}),r==="posts"?o.jsx(oue,{posts:c,automationMap:h,onConfigure:i}):o.jsx(cue,{logs:f}),a&&o.jsx(lue,{post:a,existingAutomation:h.get(a.media_id)||null,onClose:()=>{i(null),t.invalidateQueries({queryKey:["instagram-automations"]})}})]})}function Pf({icon:e,label:t,value:r,color:n}){const a={purple:"bg-purple-50 dark:bg-purple-500/10 text-purple-600 dark:text-purple-400",pink:"bg-pink-50 dark:bg-pink-500/10 text-pink-600 dark:text-pink-400",blue:"bg-blue-50 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400",green:"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400"};return o.jsx("div",{className:"card p-5",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a[n]}`,children:o.jsx(e,{size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500",children:t})]})]})})}function oue({posts:e,automationMap:t,onConfigure:r}){const{t:n}=pe();return e.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(ka,{size:48,className:"mx-auto text-gray-300 dark:text-neutral-700 mb-3"}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:n("instaninja.no_posts")}),o.jsx("p",{className:"text-gray-400 dark:text-neutral-600 text-xs mt-1",children:n("instaninja.click_sync")})]}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(a=>{const i=t.get(a.media_id),s=(i==null?void 0:i.is_active)||!1,l=!!i;return o.jsxs("div",{className:"card overflow-hidden group cursor-pointer hover:shadow-lg transition-all",onClick:()=>r(a),children:[o.jsxs("div",{className:"relative aspect-square bg-gray-100 dark:bg-neutral-800",children:[a.thumbnail_url||a.permalink?o.jsx("img",{src:a.thumbnail_url||"",alt:"",className:"w-full h-full object-cover",onError:c=>{c.target.style.display="none"}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(ka,{size:32,className:"text-gray-300 dark:text-neutral-600"})}),o.jsx("div",{className:"absolute top-2 right-2",children:s?o.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-bold bg-green-500 text-white shadow-lg",children:[o.jsx(Os,{size:10})," ",n("instaninja.active")]}):l?o.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-bold bg-yellow-500 text-white shadow-lg",children:[o.jsx(cl,{size:10})," ",n("instaninja.paused")]}):null}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("button",{className:"px-4 py-2 rounded-xl bg-white/20 backdrop-blur-sm text-white text-sm font-semibold border border-white/30",children:[o.jsx(Oi,{size:16,className:"inline mr-1.5"}),n(l?"instaninja.adjust":"instaninja.configure")]})}),o.jsx("div",{className:"absolute bottom-2 left-2",children:o.jsx("span",{className:"px-1.5 py-0.5 rounded text-[9px] font-bold bg-black/60 text-white",children:a.media_type==="VIDEO"?n("instaninja.video"):a.media_type==="CAROUSEL_ALBUM"?n("instaninja.carousel"):a.media_type==="REEL"?n("instaninja.reel"):n("instaninja.photo")})})]}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex items-center justify-center gap-1 text-pink-500",children:[o.jsx(Ph,{size:12}),o.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white",children:Yf(a.like_count)})]})}),o.jsx("div",{children:o.jsxs("div",{className:"flex items-center justify-center gap-1 text-blue-500",children:[o.jsx(Hn,{size:12}),o.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white",children:Yf(a.comments_count)})]})}),o.jsx("div",{children:o.jsxs("div",{className:"flex items-center justify-center gap-1 text-purple-500",children:[o.jsx(Ss,{size:12}),o.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white",children:Yf(a.reach)})]})})]}),a.caption&&o.jsx("p",{className:"text-[10px] text-gray-400 dark:text-neutral-600 mt-2 line-clamp-2 leading-tight",children:a.caption.substring(0,80)}),i&&i.keywords.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[i.keywords.slice(0,3).map((c,u)=>o.jsx("span",{className:"px-1.5 py-0.5 rounded text-[9px] font-medium bg-purple-100 dark:bg-purple-500/20 text-purple-700 dark:text-purple-300",children:c},u)),i.keywords.length>3&&o.jsxs("span",{className:"text-[9px] text-gray-400 dark:text-neutral-500",children:["+",i.keywords.length-3]})]})]})]},a.id)})})}function lue({post:e,existingAutomation:t,onClose:r}){var z;const{t:n}=pe(),[a,i]=N.useState((t==null?void 0:t.is_active)??!0),[s,l]=N.useState((t==null?void 0:t.respond_to_all)??!1),[c,u]=N.useState((t==null?void 0:t.keywords)||[]),[d,f]=N.useState(""),[h,p]=N.useState((t==null?void 0:t.reply_comments)||[]),[m,y]=N.useState(""),[v,x]=N.useState((t==null?void 0:t.dm_message)||""),[g,_]=N.useState((t==null?void 0:t.dm_link)||""),[k,w]=N.useState((t==null?void 0:t.dm_buttons)||[]),[b,S]=N.useState(""),[j,O]=N.useState(""),[C,T]=N.useState(!1),[M,L]=N.useState(!1),U=()=>{const B=d.trim().toLowerCase();B&&!c.includes(B)&&(u([...c,B]),f(""))},A=B=>{u(c.filter((q,X)=>X!==B))},D=()=>{const B=m.trim();B&&!h.includes(B)&&(p([...h,B]),y(""))},E=B=>{p(h.filter((q,X)=>X!==B))},$=async()=>{var q;T(!0);const B={media_id:e.media_id,media_permalink:e.permalink,media_caption:((q=e.caption)==null?void 0:q.substring(0,200))||null,media_thumbnail:e.thumbnail_url,is_active:a,keywords:c,reply_comments:h,dm_message:v||null,dm_link:g||null,dm_buttons:k,respond_to_all:s,updated_at:new Date().toISOString()};t?await re.from("instagram_automations").update(B).eq("id",t.id):await re.from("instagram_automations").insert(B),T(!1),r()},P=async()=>{t&&(L(!0),await re.from("instagram_automations").delete().eq("id",t.id),L(!1),r())};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),o.jsxs("div",{className:"relative bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-neutral-800 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white dark:bg-neutral-900 border-b border-gray-100 dark:border-neutral-800 p-5 rounded-t-2xl z-10",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-gray-100 dark:bg-neutral-800 flex-shrink-0",children:e.thumbnail_url?o.jsx("img",{src:e.thumbnail_url,alt:"",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(ka,{size:20,className:"text-gray-400"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:n("instaninja.config_title")}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 line-clamp-1",children:((z=e.caption)==null?void 0:z.substring(0,60))||n("instaninja.no_caption")})]})]}),o.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors",children:o.jsx(at,{size:20,className:"text-gray-500"})})]})}),o.jsxs("div",{className:"p-5 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:n("instaninja.automation_active")}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500",children:n("instaninja.toggle_desc")})]}),o.jsx("button",{onClick:()=>i(!a),className:`relative w-12 h-6 rounded-full transition-colors ${a?"bg-green-500":"bg-gray-300 dark:bg-neutral-700"}`,children:o.jsx("div",{className:`absolute top-0.5 w-5 h-5 rounded-full bg-white shadow-sm transition-transform ${a?"translate-x-6":"translate-x-0.5"}`})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:n("instaninja.respond_all")}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500",children:n("instaninja.respond_all_desc")})]}),o.jsx("button",{onClick:()=>l(!s),className:`relative w-12 h-6 rounded-full transition-colors ${s?"bg-green-500":"bg-gray-300 dark:bg-neutral-700"}`,children:o.jsx("div",{className:`absolute top-0.5 w-5 h-5 rounded-full bg-white shadow-sm transition-transform ${s?"translate-x-6":"translate-x-0.5"}`})})]}),!s&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-2",children:n("instaninja.keywords")}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mb-3",children:n("instaninja.keywords_desc")}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:c.map((B,q)=>o.jsxs("span",{className:"flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium bg-purple-100 dark:bg-purple-500/20 text-purple-700 dark:text-purple-300",children:[B,o.jsx("button",{onClick:()=>A(q),className:"hover:text-red-500 transition-colors",children:o.jsx(at,{size:14})})]},q))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:d,onChange:B=>f(B.target.value),onKeyDown:B=>B.key==="Enter"&&(B.preventDefault(),U()),placeholder:n("instaninja.keyword_placeholder"),className:io,maxLength:128}),o.jsx("button",{onClick:U,className:"px-4 py-2.5 rounded-xl bg-purple-600 text-white text-sm font-medium hover:bg-purple-700 transition-colors flex-shrink-0",children:o.jsx(Yt,{size:16})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-2",children:n("instaninja.comment_replies")}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mb-3",children:n("instaninja.comment_replies_desc")}),o.jsx("div",{className:"space-y-2 mb-3",children:h.map((B,q)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex-1 px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm text-gray-900 dark:text-white",children:[o.jsx(mP,{size:12,className:"inline text-blue-500 mr-1.5"}),B]}),o.jsx("button",{onClick:()=>E(q),className:"p-1.5 rounded-lg hover:bg-red-50 dark:hover:bg-red-500/10 text-red-500 transition-colors",children:o.jsx(at,{size:16})})]},q))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:m,onChange:B=>y(B.target.value),onKeyDown:B=>B.key==="Enter"&&(B.preventDefault(),D()),placeholder:n("instaninja.reply_placeholder"),className:io,maxLength:256}),o.jsx("button",{onClick:D,className:"px-4 py-2.5 rounded-xl bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 transition-colors flex-shrink-0",children:o.jsx(Yt,{size:16})})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-2",children:[o.jsx(Ni,{size:14,className:"inline text-pink-500 mr-1.5"}),n("instaninja.dm_message")]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mb-3",children:n("instaninja.dm_desc")}),o.jsx("textarea",{value:v,onChange:B=>x(B.target.value),placeholder:n("instaninja.dm_placeholder"),className:`${io} resize-none`,rows:3,maxLength:400}),o.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-neutral-600 text-right mt-1",children:[v.length," / 400"]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-2",children:[o.jsx(Lg,{size:14,className:"inline text-pink-500 mr-1.5"}),n("instaninja.dm_buttons"),o.jsx("span",{className:"text-xs font-normal text-gray-400 dark:text-neutral-500 ml-2",children:n("instaninja.max_buttons")})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mb-3",children:n("instaninja.buttons_desc")}),o.jsx("div",{className:"space-y-2 mb-3",children:k.map((B,q)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex-1 px-3 py-2 rounded-xl bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-sm",children:[o.jsx(Lg,{size:12,className:"inline text-pink-500 mr-1.5"}),o.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:B.title}),o.jsx("span",{className:"text-gray-400 dark:text-neutral-500 ml-2 text-xs",children:B.url})]}),o.jsx("button",{onClick:()=>w(k.filter((X,F)=>F!==q)),className:"p-1.5 rounded-lg hover:bg-red-50 dark:hover:bg-red-500/10 text-red-500 transition-colors",children:o.jsx(at,{size:16})})]},q))}),k.length<3&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"url",value:b,onChange:B=>S(B.target.value),placeholder:"https://abrahub.com/live",className:`${io} flex-1`}),o.jsx("input",{type:"text",value:j,onChange:B=>O(B.target.value),onKeyDown:B=>{B.key==="Enter"&&(B.preventDefault(),b.trim()&&j.trim()&&(w([...k,{url:b.trim(),title:j.trim()}]),S(""),O("")))},placeholder:"Titulo do botao",className:`${io} w-40`,maxLength:30}),o.jsx("button",{onClick:()=>{b.trim()&&j.trim()&&(w([...k,{url:b.trim(),title:j.trim()}]),S(""),O(""))},className:"px-4 py-2.5 rounded-xl bg-pink-600 text-white text-sm font-medium hover:bg-pink-700 transition-colors flex-shrink-0",children:o.jsx(Yt,{size:16})})]})]}),(v||k.length>0)&&o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-3",children:[o.jsx(Ss,{size:14,className:"inline text-purple-500 mr-1.5"}),n("instaninja.preview")]}),o.jsxs("div",{className:"max-w-xs mx-auto",children:[o.jsxs("div",{className:"bg-gray-100 dark:bg-neutral-800 rounded-2xl p-4 space-y-3",children:[v&&o.jsx("div",{className:"bg-white dark:bg-neutral-700 rounded-2xl rounded-tl-md px-4 py-3 shadow-sm",children:o.jsx("p",{className:"text-sm text-gray-900 dark:text-white whitespace-pre-wrap",children:v})}),k.map((B,q)=>o.jsx("button",{className:"w-full py-2.5 px-4 rounded-xl bg-white dark:bg-neutral-700 border border-gray-200 dark:border-neutral-600 text-sm font-semibold text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-500/10 transition-colors shadow-sm text-center",children:B.title},q)),g&&k.length===0&&o.jsx("div",{className:"bg-white dark:bg-neutral-700 rounded-2xl rounded-tl-md px-4 py-3 shadow-sm",children:o.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 underline break-all",children:g})})]}),o.jsx("p",{className:"text-[10px] text-center text-gray-400 dark:text-neutral-600 mt-2",children:n("instaninja.preview_desc")})]})]}),k.length===0&&o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-2",children:[o.jsx(Lg,{size:14,className:"inline text-pink-500 mr-1.5"}),n("instaninja.simple_link")]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500 mb-3",children:n("instaninja.simple_link_desc")}),o.jsx("input",{type:"url",value:g,onChange:B=>_(B.target.value),placeholder:"https://...",className:io,maxLength:600})]}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-neutral-800",children:[t?o.jsxs("button",{onClick:P,disabled:M,className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors disabled:opacity-50",children:[o.jsx(Mr,{size:16}),n(M?"instaninja.deleting":"instaninja.delete_automation")]}):o.jsx("div",{}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:r,className:"px-5 py-2.5 rounded-xl text-sm font-medium text-gray-700 dark:text-neutral-300 bg-gray-100 dark:bg-neutral-800 hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:n("common.cancel")}),o.jsxs("button",{onClick:$,disabled:C,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-medium bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 shadow-lg shadow-purple-600/20 transition-all disabled:opacity-50",children:[C?o.jsx(_r,{size:16,className:"animate-spin"}):o.jsx(Wl,{size:16}),n(C?"instaninja.saving":"instaninja.save")]})]})]})]})]})]})}function cue({logs:e}){const{t}=pe();return e.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(jn,{size:48,className:"mx-auto text-gray-300 dark:text-neutral-700 mb-3"}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:t("instaninja.no_activity")}),o.jsx("p",{className:"text-gray-400 dark:text-neutral-600 text-xs mt-1",children:t("instaninja.activity_hint")})]}):o.jsx("div",{className:"card overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-100 dark:border-neutral-800",children:[o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:t("instaninja.when")}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:t("instaninja.user")}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:t("instaninja.comment")}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:t("instaninja.action")}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:t("instaninja.status")})]})}),o.jsx("tbody",{children:e.map(r=>{var n;return o.jsxs("tr",{className:"border-b border-gray-50 dark:border-neutral-800/50 hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 text-xs text-gray-500 dark:text-neutral-500 whitespace-nowrap",children:iue(r.created_at)}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["@",r.commenter_username]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("span",{className:"text-sm text-gray-600 dark:text-neutral-400 line-clamp-1 max-w-[250px]",children:['"',(n=r.comment_text)==null?void 0:n.substring(0,60),'"']})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex gap-1",children:[r.action_taken.includes("reply")&&o.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300",children:t("instaninja.reply")}),r.action_taken.includes("dm")&&o.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-pink-100 dark:bg-pink-500/20 text-pink-700 dark:text-pink-300",children:t("instaninja.dm")}),r.action_taken==="none"&&o.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-gray-100 dark:bg-neutral-700 text-gray-500 dark:text-neutral-400",children:t("instaninja.none")})]})}),o.jsx("td",{className:"px-4 py-3",children:r.status==="success"?o.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 text-xs font-medium",children:[o.jsx(Si,{size:14})," ",t("instaninja.ok")]}):r.status==="partial"?o.jsxs("span",{className:"flex items-center gap-1 text-yellow-600 dark:text-yellow-400 text-xs font-medium",children:[o.jsx(kn,{size:14})," ",t("instaninja.partial")]}):o.jsxs("span",{className:"flex items-center gap-1 text-red-600 dark:text-red-400 text-xs font-medium",title:r.error_message||"",children:[o.jsx(kn,{size:14})," ",t("instaninja.error")]})})]},r.id)})})]})})})}const Ml="https://jdodenbjohnqvhvldfqu.supabase.co",Dl="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impkb2RlbmJqb2hucXZodmxkZnF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE2MjU3MzAsImV4cCI6MjA4NzIwMTczMH0.MR3yuR-a1vf84iDrw2wEZ0mS0-8y0LdG1lUjiK_mFec",mr=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),gx=e=>e.toLocaleString("pt-BR"),s5=e=>`${e.toFixed(2)}%`,o5={ACTIVE:{key:"ads.active_label",color:"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300",icon:Cu},ENABLED:{key:"ads.enabled_label",color:"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300",icon:Cu},PAUSED:{key:"ads.paused_label",color:"bg-yellow-100 dark:bg-yellow-500/20 text-yellow-700 dark:text-yellow-300",icon:cl},DELETED:{key:"ads.deleted_label",color:"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300",icon:Mr},ARCHIVED:{key:"ads.archived_label",color:"bg-gray-100 dark:bg-neutral-500/20 text-gray-600 dark:text-neutral-400",icon:wL},REMOVED:{key:"ads.deleted_label",color:"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300",icon:Mr}},V2=["#8b5cf6","#ec4899","#3b82f6","#10b981","#f59e0b","#ef4444","#6366f1","#14b8a6"];async function Gr(e,t="POST",r,n=9e4){const a=new AbortController,i=setTimeout(()=>a.abort(),n);try{return(await fetch(`${Ml}/functions/v1/ads-actions${e}`,{method:t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Dl}`},body:r?JSON.stringify(r):void 0,signal:a.signal})).json()}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new Error("Tempo limite excedido (90s). Tente novamente."):s}finally{clearTimeout(i)}}async function eu(e,t="POST",r){return(await fetch(`${Ml}/functions/v1/google-ads-actions/${e}`,{method:t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Dl}`},body:r?JSON.stringify(r):void 0})).json()}function uue(e){return{id:e.id,campaign_id:e.campaign_id,name:e.name,status:e.status,daily_budget:e.daily_budget,lifetime_budget:e.lifetime_budget,impressions:e.impressions,clicks:e.clicks,spend:e.spend,cpc:e.cpc,cpm:e.cpm,ctr:e.ctr,conversions:e.conversions,cpa:e.cost_per_result,platform:"meta"}}function due(e){return{id:e.id,campaign_id:e.campaign_id,name:e.name,status:e.status,daily_budget:e.daily_budget,impressions:e.impressions,clicks:e.clicks,spend:e.cost,cpc:e.cpc,cpm:e.cpm,ctr:e.ctr,conversions:e.conversions,cpa:e.cost_per_conversion,campaign_type:e.campaign_type,platform:"google"}}function fue(){const{theme:e}=Ea(),t=e==="dark",r=wr(),{t:n}=pe(),[a,i]=N.useState(!1),[s,l]=N.useState(null),[c,u]=N.useState("spend"),[d,f]=N.useState("desc"),[h,p]=N.useState(!1),[m,y]=N.useState(!1),[v,x]=N.useState(!1),[g,_]=N.useState("meta"),{data:k=[],isLoading:w}=Ae({queryKey:["ads-campaigns"],queryFn:async()=>{const{data:K}=await re.from("ads_campaigns").select("*").order("spend",{ascending:!1});return(K||[]).map(ae=>({...ae,_platform:"meta"}))}}),{data:b=[],isLoading:S}=Ae({queryKey:["google-ads-campaigns"],queryFn:async()=>{const{data:K}=await re.from("google_ads_campaigns").select("*").order("cost",{ascending:!1});return(K||[]).map(ae=>({...ae,_platform:"google"}))}}),{data:j}=Ae({queryKey:["google-ads-config"],queryFn:async()=>{const{data:K}=await re.from("google_ads_config").select("id, customer_id, is_connected, updated_at").single();return K}}),{data:O}=Ae({queryKey:["ads-churn"],queryFn:async()=>{const{data:K}=await re.from("churn_metrics").select("new_customers").order("date",{ascending:!1}).limit(1).single();return K}}),C=w&&S,T=g==="meta"?k.map(uue):b.map(due),M=async()=>{i(!0),l(null);try{const ae=await fetch(`${Ml}/functions/v1/${g==="meta"?"sync-ads":"sync-google-ads"}`,{method:"POST",headers:{Authorization:`Bearer ${Dl}`}});if(ae.ok)r.invalidateQueries({queryKey:["ads-campaigns"]}),r.invalidateQueries({queryKey:["google-ads-campaigns"]}),r.invalidateQueries({queryKey:["ads-agent-actions"]});else{const se=await ae.json().catch(()=>({}));l(se.error||`Erro ${ae.status} ao sincronizar`)}}catch(K){l((K==null?void 0:K.message)||"Erro de conexo ao sincronizar")}i(!1)},L=[...T].sort((K,ae)=>{const se=d==="asc"?1:-1;return c==="name"?se*K.name.localeCompare(ae.name):se*(K[c]-ae[c])}),U=K=>{c===K?f(d==="asc"?"desc":"asc"):(u(K),f("desc"))},A=T.reduce((K,ae)=>K+ae.spend,0),D=T.reduce((K,ae)=>K+ae.conversions,0),E=T.filter(K=>K.status==="ACTIVE"||K.status==="ENABLED").length,$=D>0?A/D:0,P=(O==null?void 0:O.new_customers)||0,z=A>0&&D>0?A/D:0,B=T.reduce((K,ae)=>K+ae.impressions,0),q=T.reduce((K,ae)=>K+ae.clicks,0),X=B>0?q/B*100:0,F=T.filter(K=>K.spend>0).sort((K,ae)=>ae.spend-K.spend).slice(0,8).map(K=>({name:K.name.length>25?K.name.substring(0,25)+"...":K.name,spend:K.spend})),J=T.reduce((K,ae)=>{const se=ae.status==="ENABLED"?"ACTIVE":ae.status;return K[se]=(K[se]||0)+1,K},{});return C?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(_r,{className:"animate-spin text-gray-400 dark:text-neutral-500",size:32})}):o.jsxs("div",{className:"space-y-6 pb-8",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:o.jsx(Eh,{size:22,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n("ads.title")}),o.jsxs("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:[T.length," ",n("ads.campaigns"),"  ",E," ",n("ads.active")]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[g!=="google"&&o.jsxs("button",{onClick:()=>y(!m),className:`flex items-center gap-1.5 px-3 py-2 rounded-xl text-sm font-medium transition-all ${m?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg":"bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 text-gray-600 dark:text-neutral-400 hover:bg-gray-50 dark:hover:bg-neutral-800"}`,children:[o.jsx(Ji,{size:15}),n("ads.create_ad")]}),o.jsxs("button",{onClick:()=>p(!h),className:`flex items-center gap-1.5 px-3 py-2 rounded-xl text-sm font-medium transition-all ${h?"bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400":"bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 text-gray-600 dark:text-neutral-400 hover:bg-gray-50 dark:hover:bg-neutral-800"}`,children:[o.jsx(Oi,{size:15}),n("ads.optimizer")]}),o.jsxs("button",{onClick:M,disabled:a,className:"flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 text-gray-700 dark:text-neutral-300 hover:bg-gray-50 dark:hover:bg-neutral-800 transition-all disabled:opacity-50",children:[o.jsx(_r,{size:15,className:a?"animate-spin":""}),n("ads.sync")]})]})]}),s&&o.jsx("p",{className:"text-xs text-red-500 mt-1 text-right",children:s}),o.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-xl p-1 w-fit",children:[["meta","google"].map(K=>o.jsx("button",{onClick:()=>{_(K),y(!1),x(!1)},className:`px-4 py-1.5 rounded-lg text-xs font-semibold transition-all ${g===K?"bg-blue-600 text-white shadow-sm":"text-gray-500 dark:text-neutral-400 hover:bg-gray-100 dark:hover:bg-neutral-800"}`,children:n(`ads.platform_${K}`)},K)),!(j!=null&&j.is_connected)&&o.jsx("button",{onClick:()=>x(!v),className:`ml-1 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${v?"bg-amber-100 dark:bg-amber-500/20 text-amber-600 dark:text-amber-400":"text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-500/10"}`,children:n("ads.google_setup")})]}),v&&o.jsx(vue,{queryClient:r}),m&&g!=="google"&&o.jsx(bue,{onClose:()=>y(!1),queryClient:r}),h&&o.jsx(mue,{}),o.jsx(hue,{platform:g}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[o.jsx(so,{icon:Ob,label:n("ads.total_spend"),value:mr(A),accent:"red",sub:n("ads.last_30_days")}),o.jsx(so,{icon:Zr,label:n("ads.cac"),value:z>0?mr(z):"-",accent:"amber",sub:`${P} ${n("ads.new_clients")}`}),o.jsx(so,{icon:Od,label:n("ads.avg_ctr"),value:X>0?`${X.toFixed(2)}%`:"-",accent:X>=1?"emerald":"amber",sub:`${gx(q)} clicks`}),o.jsx(so,{icon:Os,label:n("ads.conversions"),value:gx(D),accent:"blue"}),o.jsx(so,{icon:Cu,label:n("ads.active_label"),value:String(E),accent:"emerald"}),o.jsx(so,{icon:nn,label:n("ads.avg_cpa"),value:$>0?mr($):"-",accent:"purple"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"lg:col-span-2 card p-5",children:[o.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(kL,{size:16,className:"text-blue-500"}),n("ads.spend_by_campaign")]}),F.length>0?o.jsx(bn,{width:"100%",height:280,children:o.jsxs(I_,{data:F,layout:"vertical",margin:{left:0,right:16,top:0,bottom:0},children:[o.jsx(xr,{type:"number",tickFormatter:K=>`R$${K}`,tick:{fill:t?"#737373":"#9ca3af",fontSize:11},axisLine:!1,tickLine:!1}),o.jsx(br,{dataKey:"name",type:"category",width:160,tick:{fill:t?"#d4d4d4":"#374151",fontSize:11},axisLine:!1,tickLine:!1}),o.jsx(ht,{formatter:K=>[mr(K),n("ads.spend")],contentStyle:{background:t?"#262626":"#fff",border:`1px solid ${t?"#404040":"#e5e7eb"}`,borderRadius:"12px",fontSize:"12px"}}),o.jsx(Ra,{dataKey:"spend",radius:[0,6,6,0],children:F.map((K,ae)=>o.jsx(ps,{fill:V2[ae%V2.length]},ae))})]})}):o.jsx("div",{className:"flex items-center justify-center h-[280px] text-gray-400 dark:text-neutral-600 text-sm",children:n("ads.no_spend")})]}),o.jsxs("div",{className:"card p-5",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:n("ads.campaign_status")}),o.jsx("div",{className:"space-y-3",children:Object.entries(J).map(([K,ae])=>{const se=o5[K]||{key:K,color:"bg-gray-100 text-gray-500",icon:Sb},Y=se.icon;return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-semibold ${se.color}`,children:[o.jsx(Y,{size:12})," ",n(se.key)]}),o.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ae})]},K)})}),o.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 dark:border-neutral-800",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500",children:n("ads.total")}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:T.length})]})]})]}),o.jsx(pue,{campaigns:L,sortField:c,sortDir:d,toggleSort:U,queryClient:r}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx(gue,{})}),o.jsx(yue,{platform:g})]})]})}function so({icon:e,label:t,value:r,accent:n,sub:a}){const i={red:{bg:"bg-red-50 dark:bg-red-500/10",text:"text-red-500"},amber:{bg:"bg-amber-50 dark:bg-amber-500/10",text:"text-amber-500"},emerald:{bg:"bg-emerald-50 dark:bg-emerald-500/10",text:"text-emerald-500"},blue:{bg:"bg-blue-50 dark:bg-blue-500/10",text:"text-blue-500"},purple:{bg:"bg-purple-50 dark:bg-purple-500/10",text:"text-purple-500"}},s=i[n]||i.blue;return o.jsxs("div",{className:"card p-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsx("span",{className:`p-2 rounded-xl ${s.bg}`,children:o.jsx(e,{size:16,className:s.text})})}),o.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r}),o.jsx("p",{className:"text-[11px] text-gray-500 dark:text-neutral-500 mt-0.5",children:t}),a&&o.jsx("p",{className:"text-[10px] text-gray-400 dark:text-neutral-600",children:a})]})}function hue({platform:e}){const{t}=pe(),r=wr(),[n,a]=N.useState(null),{data:i=[]}=Ae({queryKey:["ads-pending-actions"],queryFn:async()=>(await Gr("/pending-actions","GET")).pending_actions||[],refetchInterval:3e4}),s=i.filter(d=>(d.platform||"meta")===e);if(s.length===0)return null;const l=async d=>{a(d);try{await Gr(`/approve-action/${d}`,"POST"),r.invalidateQueries({queryKey:["ads-pending-actions"]}),r.invalidateQueries({queryKey:["ads-campaigns"]}),r.invalidateQueries({queryKey:["ads-agent-actions"]})}catch{}a(null)},c=async d=>{a(d);try{await Gr(`/reject-action/${d}`,"POST"),r.invalidateQueries({queryKey:["ads-pending-actions"]}),r.invalidateQueries({queryKey:["ads-agent-actions"]})}catch{}a(null)},u={pause:{label:t("ads.action_pause"),color:"bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-300",icon:cl},boost:{label:t("ads.action_boost"),color:"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300",icon:Kl},adjust_budget:{label:t("ads.action_adjust"),color:"bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300",icon:Zr}};return o.jsxs("div",{className:"card p-5 border-2 border-amber-200 dark:border-amber-800/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center",children:o.jsx(qL,{size:16,className:"text-white"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[t("ads.pending_actions")," (",s.length,")"]}),o.jsx("p",{className:"text-[11px] text-gray-500 dark:text-neutral-500",children:t("ads.pending_actions_desc")})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:s.map(d=>{const f=u[d.action_type]||u.pause,h=f.icon,p=n===d.id,m=d.current_metrics||{},y=d.proposed_changes||{};return o.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-medium text-gray-900 dark:text-white truncate max-w-[60%]",children:d.campaign_name}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-lg text-[10px] font-bold ${f.color}`,children:[o.jsx(h,{size:10})," ",f.label]})]}),o.jsxs("div",{className:"p-2 mb-3 rounded-lg bg-indigo-50 dark:bg-indigo-500/10 border border-indigo-100 dark:border-indigo-800/30",children:[o.jsx("p",{className:"text-[10px] font-medium text-indigo-600 dark:text-indigo-400 mb-0.5",children:t("ads.ai_reasoning")}),o.jsx("p",{className:"text-[11px] text-indigo-700 dark:text-indigo-300 leading-relaxed",children:d.ai_reasoning})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mb-3",children:[o.jsxs("div",{className:"text-center p-1.5 rounded-lg bg-gray-50 dark:bg-neutral-800",children:[o.jsx("p",{className:"text-[9px] text-gray-400 dark:text-neutral-500",children:"CPA"}),o.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white",children:m.cpa>0?mr(m.cpa):"-"})]}),o.jsxs("div",{className:"text-center p-1.5 rounded-lg bg-gray-50 dark:bg-neutral-800",children:[o.jsx("p",{className:"text-[9px] text-gray-400 dark:text-neutral-500",children:t("ads.spend")}),o.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white",children:mr(m.spend||0)})]}),o.jsxs("div",{className:"text-center p-1.5 rounded-lg bg-gray-50 dark:bg-neutral-800",children:[o.jsx("p",{className:"text-[9px] text-gray-400 dark:text-neutral-500",children:"CTR"}),o.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white",children:s5(m.ctr||0)})]}),o.jsxs("div",{className:"text-center p-1.5 rounded-lg bg-gray-50 dark:bg-neutral-800",children:[o.jsx("p",{className:"text-[9px] text-gray-400 dark:text-neutral-500",children:"Conv."}),o.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white",children:m.conversions||0})]})]}),(d.action_type==="boost"||d.action_type==="adjust_budget")&&y.old_budget!==void 0&&o.jsxs("div",{className:"flex items-center gap-2 mb-3 p-2 rounded-lg bg-emerald-50 dark:bg-emerald-500/10 text-xs",children:[o.jsx("span",{className:"text-gray-500 dark:text-neutral-400",children:mr(y.old_budget)}),o.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold",children:""}),o.jsx("span",{className:"text-emerald-700 dark:text-emerald-300 font-bold",children:mr(y.new_budget)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>l(d.id),disabled:p,className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium bg-emerald-600 text-white hover:bg-emerald-700 transition-colors disabled:opacity-50",children:[p?o.jsx(Pr,{size:12,className:"animate-spin"}):o.jsx(Gf,{size:12}),t("ads.approve")]}),o.jsxs("button",{onClick:()=>c(d.id),disabled:p,className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-xs font-medium bg-gray-100 dark:bg-neutral-800 text-gray-600 dark:text-neutral-400 hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors disabled:opacity-50",children:[p?o.jsx(Pr,{size:12,className:"animate-spin"}):o.jsx(Vf,{size:12}),t("ads.reject")]})]})]},d.id)})})]})}function pue({campaigns:e,sortField:t,sortDir:r,toggleSort:n,queryClient:a}){const{t:i}=pe(),[s,l]=N.useState(null),[c,u]=N.useState(null),[d,f]=N.useState(""),h=async m=>{const v=m.status==="ACTIVE"||m.status==="ENABLED"?"pause":"resume";l(m.campaign_id);try{m.platform==="google"?(await eu(`${v}/${m.campaign_id}`),a.invalidateQueries({queryKey:["google-ads-campaigns"]})):(await Gr(`/${v}/${m.campaign_id}`),a.invalidateQueries({queryKey:["ads-campaigns"]})),a.invalidateQueries({queryKey:["ads-agent-actions"]})}catch{}l(null)},p=async m=>{const y=parseFloat(d);if(!(isNaN(y)||y<=0)){l(m.campaign_id);try{m.platform==="google"?(await eu(`budget/${m.campaign_id}`,"POST",{daily_budget:y}),a.invalidateQueries({queryKey:["google-ads-campaigns"]})):(await Gr(`/budget/${m.campaign_id}`,"POST",{daily_budget:y}),a.invalidateQueries({queryKey:["ads-campaigns"]})),a.invalidateQueries({queryKey:["ads-agent-actions"]})}catch{}l(null),u(null)}};return o.jsxs("div",{className:"card overflow-hidden",children:[o.jsx("div",{className:"px-5 py-4 border-b border-gray-100 dark:border-neutral-800",children:o.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(Eh,{size:16,className:"text-indigo-500"}),i("ads.campaigns_label")," (",e.length,")"]})}),e.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Eh,{size:48,className:"mx-auto text-gray-300 dark:text-neutral-700 mb-3"}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:i("ads.no_campaigns")})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-100 dark:border-neutral-800",children:[o.jsx(oo,{label:i("ads.campaign"),field:"name",current:t,dir:r,onSort:n}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:i("ads.status")}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:i("ads.budget")}),o.jsx(oo,{label:i("ads.spend"),field:"spend",current:t,dir:r,onSort:n}),o.jsx(oo,{label:i("ads.clicks"),field:"clicks",current:t,dir:r,onSort:n}),o.jsx(oo,{label:i("ads.ctr"),field:"ctr",current:t,dir:r,onSort:n}),o.jsx(oo,{label:i("ads.cpa"),field:"cpa",current:t,dir:r,onSort:n}),o.jsx(oo,{label:i("ads.conv"),field:"conversions",current:t,dir:r,onSort:n}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:i("ads.actions")})]})}),o.jsx("tbody",{children:e.map(m=>{const y=o5[m.status]||{key:m.status,color:"bg-gray-100 text-gray-500",icon:Sb},v=y.icon,x=c===m.campaign_id,g=s===m.campaign_id,_=m.status==="ACTIVE"||m.status==="ENABLED";return o.jsxs("tr",{className:"border-b border-gray-50 dark:border-neutral-800/50 hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white line-clamp-1 max-w-[200px]",children:m.name}),o.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded font-bold shrink-0 ${m.platform==="google"?"bg-blue-50 dark:bg-blue-500/10 text-blue-500":"bg-indigo-50 dark:bg-indigo-500/10 text-indigo-500"}`,children:m.platform==="google"?"G":"M"})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-lg text-[10px] font-bold ${y.color}`,children:[o.jsx(v,{size:10})," ",i(y.key)]})}),o.jsx("td",{className:"px-4 py-3",children:x?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"number",value:d,onChange:k=>f(k.target.value),className:"w-20 px-2 py-1 text-xs bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-lg text-gray-900 dark:text-white",autoFocus:!0,onKeyDown:k=>{k.key==="Enter"&&p(m),k.key==="Escape"&&u(null)}}),o.jsx("button",{onClick:()=>p(m),className:"p-1 text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-500/10 rounded",children:o.jsx(Wl,{size:12})}),o.jsx("button",{onClick:()=>u(null),className:"p-1 text-gray-400 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded",children:o.jsx(at,{size:12})})]}):o.jsxs("span",{className:"text-xs text-gray-600 dark:text-neutral-400 whitespace-nowrap cursor-pointer hover:text-blue-500 transition-colors",onClick:()=>{u(m.campaign_id),f(String(m.daily_budget||0))},children:[m.daily_budget?`${mr(m.daily_budget)}/dia`:m.lifetime_budget?`${mr(m.lifetime_budget)} total`:"-",o.jsx(hP,{size:10,className:"inline ml-1 opacity-50"})]})}),o.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900 dark:text-white whitespace-nowrap",children:mr(m.spend)}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-neutral-300",children:gx(m.clicks)}),o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-purple-600 dark:text-purple-400",children:s5(m.ctr)}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-neutral-300 whitespace-nowrap",children:m.cpa>0?mr(m.cpa):"-"}),o.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900 dark:text-white",children:m.conversions>0?m.conversions:"-"}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("button",{onClick:()=>h(m),disabled:g||m.status==="DELETED"||m.status==="ARCHIVED"||m.status==="REMOVED",className:`p-1.5 rounded-lg transition-colors disabled:opacity-30 ${_?"text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-500/10":"text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-500/10"}`,title:i(_?"ads.pause":"ads.resume"),children:g?o.jsx(Pr,{size:14,className:"animate-spin"}):_?o.jsx(cl,{size:14}):o.jsx(Eu,{size:14})})})]},m.id)})})]})})]})}function oo({label:e,field:t,current:r,dir:n,onSort:a}){const i=r===t;return o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3 cursor-pointer hover:text-gray-700 dark:hover:text-neutral-300 transition-colors select-none",onClick:()=>a(t),children:o.jsxs("span",{className:"flex items-center gap-1",children:[e,i&&o.jsx("span",{className:"text-blue-500",children:n==="asc"?"":""})]})})}function mue(){const e=wr(),{t}=pe(),[r,n]=N.useState(!1),{data:a}=Ae({queryKey:["ads-optimization-config"],queryFn:async()=>{const{data:d}=await re.from("ads_optimization_config").select("*").single();return d}}),[i,s]=N.useState(null);if(N.useEffect(()=>{a&&!i&&s({...a})},[a]),!i)return null;const l=async()=>{n(!0);const{id:d,created_at:f,...h}=i;await Gr("/config","POST",h),e.invalidateQueries({queryKey:["ads-optimization-config"]}),n(!1)},c=({field:d,label:f})=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-700 dark:text-neutral-300",children:f}),o.jsx("button",{onClick:()=>s({...i,[d]:!i[d]}),className:`w-10 h-5 rounded-full transition-colors relative ${i[d]?"bg-blue-500":"bg-gray-300 dark:bg-neutral-600"}`,children:o.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full bg-white shadow transition-transform ${i[d]?"left-5":"left-0.5"}`})})]}),u=({field:d,label:f,prefix:h})=>o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 dark:text-neutral-500 uppercase tracking-wider",children:f}),o.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[h&&o.jsx("span",{className:"text-xs text-gray-400",children:h}),o.jsx("input",{type:"number",value:i[d]??"",onChange:p=>s({...i,[d]:parseFloat(p.target.value)||0}),className:"w-full px-2 py-1.5 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-lg text-gray-900 dark:text-white"})]})]});return o.jsxs("div",{className:"card p-5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(Oi,{size:16,className:"text-blue-500"}),t("ads.optimizer_config")]}),o.jsxs("button",{onClick:l,disabled:r,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors disabled:opacity-50",children:[r?o.jsx(Pr,{size:12,className:"animate-spin"}):o.jsx(Ns,{size:12}),t("ads.save")]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-[10px] text-gray-500 dark:text-neutral-500 uppercase tracking-wider font-semibold",children:t("ads.goals")}),o.jsx(u,{field:"target_cpa",label:t("ads.target_cpa"),prefix:"R$"}),o.jsx(u,{field:"min_roas",label:t("ads.min_roas"),prefix:"x"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-[10px] text-gray-500 dark:text-neutral-500 uppercase tracking-wider font-semibold",children:t("ads.budget_label")}),o.jsx(u,{field:"min_daily_budget",label:t("ads.min_budget"),prefix:"R$"}),o.jsx(u,{field:"max_daily_budget",label:t("ads.max_budget"),prefix:"R$"}),o.jsx(u,{field:"budget_increase_pct",label:t("ads.increase_pct"),prefix:"%"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-[10px] text-gray-500 dark:text-neutral-500 uppercase tracking-wider font-semibold",children:t("ads.evaluation")}),o.jsx(u,{field:"min_spend_to_evaluate",label:t("ads.min_spend_eval"),prefix:"R$"}),o.jsx(u,{field:"min_impressions_to_evaluate",label:t("ads.min_impressions")}),o.jsx(u,{field:"max_cpa_multiplier",label:t("ads.max_cpa_mult"),prefix:"x"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-[10px] text-gray-500 dark:text-neutral-500 uppercase tracking-wider font-semibold",children:t("ads.automation")}),o.jsx(c,{field:"optimizer_enabled",label:t("ads.optimizer_active")}),o.jsx(c,{field:"approval_mode_enabled",label:t("ads.approval_mode")}),o.jsx(c,{field:"auto_pause_enabled",label:t("ads.auto_pause_bad")}),o.jsx(c,{field:"auto_boost_enabled",label:t("ads.auto_scale_good")}),o.jsxs("div",{className:"pt-2",children:[o.jsx("label",{className:"text-[10px] text-gray-500 dark:text-neutral-500 uppercase tracking-wider",children:t("ads.pixel_id")}),o.jsx("input",{type:"text",value:i.pixel_id||"",onChange:d=>s({...i,pixel_id:d.target.value}),placeholder:t("ads.pixel_placeholder"),className:"w-full px-2 py-1.5 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-lg text-gray-900 dark:text-white mt-0.5"})]})]})]})]})}function gue(){const{t:e}=pe(),[t,r]=N.useState([]),[n,a]=N.useState(""),[i,s]=N.useState(!1),l=N.useRef(null);N.useEffect(()=>{var d;(d=l.current)==null||d.scrollIntoView({behavior:"smooth"})},[t]);const c=[e("ads.pause_suggestion"),e("ads.roas_question"),e("ads.best_cpa"),e("ads.budget_strategy")],u=async d=>{if(!d.trim()||i)return;const f={role:"user",text:d.trim()},h=[...t,f];r(h),a(""),s(!0);try{const m=await(await fetch(`${Ml}/functions/v1/ads-agent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Dl}`},body:JSON.stringify({question:d.trim(),history:h.slice(-10)})})).json();r(y=>[...y,{role:"model",text:m.answer||m.error||e("ads.error_processing")}])}catch{r(p=>[...p,{role:"model",text:e("ads.error_connection")}])}s(!1)};return o.jsxs("div",{className:"card overflow-hidden",children:[o.jsx("div",{className:"p-5 border-b border-gray-100 dark:border-neutral-800",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-blue-500 rounded-xl flex items-center justify-center",children:o.jsx(Ji,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:e("ads.strategist")}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-500",children:e("ads.strategist_desc")})]})]})}),o.jsxs("div",{className:"p-4 space-y-3 max-h-[500px] overflow-y-auto min-h-[180px]",children:[t.length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(Ir,{className:"w-10 h-10 mx-auto text-gray-300 dark:text-neutral-600 mb-2"}),o.jsx("p",{className:"text-sm text-gray-400 dark:text-neutral-500",children:e("ads.ask_campaigns")})]}):t.map((d,f)=>o.jsx("div",{className:`flex ${d.role==="user"?"justify-end":"justify-start"}`,children:o.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2.5 ${d.role==="user"?"bg-blue-600 text-white rounded-br-md":"bg-gray-100 dark:bg-neutral-800 text-gray-900 dark:text-white rounded-bl-md"}`,children:o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:d.text})})},f)),i&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-gray-100 dark:bg-neutral-800 rounded-2xl rounded-bl-md px-4 py-3",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("span",{className:"w-2 h-2 bg-gray-400 dark:bg-neutral-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("span",{className:"w-2 h-2 bg-gray-400 dark:bg-neutral-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("span",{className:"w-2 h-2 bg-gray-400 dark:bg-neutral-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),o.jsx("div",{ref:l})]}),t.length===0&&o.jsx("div",{className:"px-4 pb-3 flex flex-wrap gap-2",children:c.map(d=>o.jsx("button",{onClick:()=>u(d),className:"px-3 py-1.5 rounded-full text-xs font-medium bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-100 dark:hover:bg-indigo-500/20 transition-colors",children:d},d))}),o.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-neutral-800",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:n,onChange:d=>a(d.target.value),onKeyDown:d=>d.key==="Enter"&&u(n),placeholder:e("ads.ask_placeholder"),className:"flex-1 px-4 py-2.5 text-sm bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40 transition-colors"}),o.jsx("button",{onClick:()=>u(n),disabled:!n.trim()||i,className:"px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Ni,{size:16})})]})})]})}function yue({platform:e}){const{t}=pe(),{data:r=[]}=Ae({queryKey:["ads-agent-actions"],queryFn:async()=>{const{data:s}=await re.from("ads_agent_actions").select("*").order("created_at",{ascending:!1}).limit(50);return s||[]}}),n=r.filter(s=>(s.platform||"meta")===e).slice(0,30),a={pause_campaign:{icon:cl,color:"text-amber-500 bg-amber-50 dark:bg-amber-500/10"},resume_campaign:{icon:Eu,color:"text-emerald-500 bg-emerald-50 dark:bg-emerald-500/10"},update_budget:{icon:Zr,color:"text-blue-500 bg-blue-50 dark:bg-blue-500/10"},create_campaign:{icon:Os,color:"text-purple-500 bg-purple-50 dark:bg-purple-500/10"},optimizer_pause:{icon:cl,color:"text-red-500 bg-red-50 dark:bg-red-500/10"},optimizer_boost:{icon:Kl,color:"text-emerald-500 bg-emerald-50 dark:bg-emerald-500/10"},optimizer_keep:{icon:Wl,color:"text-gray-400 bg-gray-50 dark:bg-neutral-800"},optimizer_skip:{icon:jn,color:"text-gray-400 bg-gray-50 dark:bg-neutral-800"},approve_pause:{icon:Gf,color:"text-emerald-500 bg-emerald-50 dark:bg-emerald-500/10"},approve_boost:{icon:Gf,color:"text-emerald-500 bg-emerald-50 dark:bg-emerald-500/10"},approve_adjust_budget:{icon:Gf,color:"text-emerald-500 bg-emerald-50 dark:bg-emerald-500/10"},reject_pause:{icon:Vf,color:"text-red-500 bg-red-50 dark:bg-red-500/10"},reject_boost:{icon:Vf,color:"text-red-500 bg-red-50 dark:bg-red-500/10"},reject_adjust_budget:{icon:Vf,color:"text-red-500 bg-red-50 dark:bg-red-500/10"}},i=s=>{const l=new Date(s);return`${String(l.getDate()).padStart(2,"0")}/${String(l.getMonth()+1).padStart(2,"0")} ${String(l.getHours()).padStart(2,"0")}:${String(l.getMinutes()).padStart(2,"0")}`};return o.jsxs("div",{className:"card overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-neutral-800",children:o.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(jn,{size:14,className:"text-gray-400"}),t("ads.action_history")]})}),o.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(jn,{className:"w-8 h-8 mx-auto text-gray-300 dark:text-neutral-600 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-500",children:t("ads.no_actions")})]}):o.jsx("div",{className:"divide-y divide-gray-50 dark:divide-neutral-800/50",children:n.map(s=>{const l=a[s.action_type]||{icon:Sb,color:"text-gray-400 bg-gray-50"},c=l.icon,u=s.details||{};return o.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 dark:hover:bg-neutral-800/30 transition-colors",children:o.jsxs("div",{className:"flex items-start gap-2.5",children:[o.jsx("span",{className:`p-1.5 rounded-lg shrink-0 ${l.color}`,children:o.jsx(c,{size:12})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-white truncate",children:s.campaign_name||s.action_type}),u.reason&&o.jsx("p",{className:"text-[10px] text-gray-500 dark:text-neutral-500 mt-0.5 line-clamp-2",children:u.reason}),u.old_budget!==void 0&&o.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-neutral-500 mt-0.5",children:[mr(u.old_budget),"  ",mr(u.new_budget)]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-[10px] text-gray-400 dark:text-neutral-600",children:i(s.created_at)}),o.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded font-medium ${s.source==="optimizer"?"bg-purple-50 dark:bg-purple-500/10 text-purple-500":"bg-gray-100 dark:bg-neutral-800 text-gray-500 dark:text-neutral-400"}`,children:s.source}),s.platform&&o.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded font-bold ${s.platform==="google"?"bg-blue-50 dark:bg-blue-500/10 text-blue-500":"bg-indigo-50 dark:bg-indigo-500/10 text-indigo-500"}`,children:s.platform==="google"?"G":"M"})]})]})]})},s.id)})})})]})}function vue({queryClient:e}){const{t}=pe(),[r,n]=N.useState(!1),[a,i]=N.useState(!1),[s,l]=N.useState(!1),[c,u]=N.useState(null),[d,f]=N.useState({customer_id:"",developer_token:"",client_id:"",client_secret:"",refresh_token:""}),{data:h}=Ae({queryKey:["google-ads-config-full"],queryFn:async()=>await eu("config","GET")});N.useEffect(()=>{h!=null&&h.customer_id&&f(v=>({...v,customer_id:h.customer_id||""}))},[h]);const p=async()=>{n(!0),u(null);try{await eu("config","POST",d),e.invalidateQueries({queryKey:["google-ads-config"]}),e.invalidateQueries({queryKey:["google-ads-config-full"]})}catch{}n(!1)},m=async()=>{i(!0),u(null);try{const v=await eu("test-connection","POST");v.success?(u({success:!0,message:`${t("ads.connection_success")} (${v.customer_name})`}),e.invalidateQueries({queryKey:["google-ads-config"]})):u({success:!1,message:v.error||t("ads.connection_failed")})}catch{u({success:!1,message:t("ads.connection_failed")})}i(!1)},y="w-full px-3 py-2 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40";return o.jsxs("div",{className:"card p-5 border-2 border-amber-200 dark:border-amber-800/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:o.jsx(Oi,{size:16,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white",children:t("ads.google_setup")}),o.jsx("p",{className:"text-[11px] text-gray-500 dark:text-neutral-500",children:t("ads.google_setup_desc")})]}),o.jsx("div",{className:"ml-auto flex items-center gap-2",children:o.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold ${h!=null&&h.is_connected?"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-gray-100 dark:bg-neutral-800 text-gray-400 dark:text-neutral-500"}`,children:h!=null&&h.is_connected?t("ads.connected"):t("ads.not_connected")})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("button",{onClick:()=>l(!s),className:"flex items-center gap-1.5 text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:[o.jsx(om,{size:13}),t("ads.setup_guide_toggle"),o.jsx(Au,{size:13,className:`transition-transform ${s?"rotate-180":""}`})]}),s&&o.jsx("div",{className:"mt-3 p-4 rounded-lg bg-blue-50/70 dark:bg-blue-500/5 border border-blue-200 dark:border-blue-800/40 space-y-3",children:[1,2,3,4,5].map(v=>o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-blue-800 dark:text-blue-300",children:t(`ads.setup_guide_step${v}_title`)}),o.jsx("p",{className:"text-[11px] text-blue-700 dark:text-blue-400 leading-relaxed mt-0.5",children:t(`ads.setup_guide_step${v}`)})]},v))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 dark:text-neutral-500 uppercase tracking-wider",children:t("ads.customer_id")}),o.jsx("input",{value:d.customer_id,onChange:v=>f({...d,customer_id:v.target.value}),placeholder:t("ads.customer_id_placeholder"),className:y})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 dark:text-neutral-500 uppercase tracking-wider",children:t("ads.developer_token")}),o.jsx("input",{type:"password",value:d.developer_token,onChange:v=>f({...d,developer_token:v.target.value}),placeholder:t("ads.developer_token_placeholder"),className:y})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 dark:text-neutral-500 uppercase tracking-wider",children:t("ads.client_id")}),o.jsx("input",{value:d.client_id,onChange:v=>f({...d,client_id:v.target.value}),placeholder:t("ads.client_id_placeholder"),className:y})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 dark:text-neutral-500 uppercase tracking-wider",children:t("ads.client_secret")}),o.jsx("input",{type:"password",value:d.client_secret,onChange:v=>f({...d,client_secret:v.target.value}),placeholder:t("ads.client_secret_placeholder"),className:y})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"text-[10px] text-gray-500 dark:text-neutral-500 uppercase tracking-wider",children:t("ads.refresh_token")}),o.jsx("input",{type:"password",value:d.refresh_token,onChange:v=>f({...d,refresh_token:v.target.value}),placeholder:t("ads.refresh_token_placeholder"),className:y})]})]}),c&&o.jsxs("div",{className:`flex items-center gap-2 p-2 mb-3 rounded-lg text-xs ${c.success?"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":"bg-red-50 dark:bg-red-500/10 text-red-600 dark:text-red-400"}`,children:[c.success?o.jsx(cP,{size:14}):o.jsx(kn,{size:14}),c.message]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:p,disabled:r,className:"flex items-center gap-1.5 px-4 py-2 rounded-lg text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors disabled:opacity-50",children:[r?o.jsx(Pr,{size:12,className:"animate-spin"}):o.jsx(Ns,{size:12}),t(r?"ads.saving_config":"ads.save_config")]}),o.jsxs("button",{onClick:m,disabled:a,className:"flex items-center gap-1.5 px-4 py-2 rounded-lg text-xs font-medium bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-gray-700 dark:text-neutral-300 hover:bg-gray-50 dark:hover:bg-neutral-700 transition-colors disabled:opacity-50",children:[a?o.jsx(Pr,{size:12,className:"animate-spin"}):o.jsx(Os,{size:12}),t(a?"ads.testing_connection":"ads.test_connection")]})]})]})}const xue=["LEARN_MORE","SHOP_NOW","SIGN_UP","SUBSCRIBE","WATCH_MORE","APPLY_NOW","BOOK_NOW","CONTACT_US","DOWNLOAD","ORDER_NOW"];function bue({onClose:e,queryClient:t}){var Oe;const{t:r}=pe(),[n,a]=N.useState("instagram"),[i,s]=N.useState(1),[l,c]=N.useState([]),[u,d]=N.useState(!0),[f,h]=N.useState(null),[p,m]=N.useState(null),[y,v]=N.useState(null),[x,g]=N.useState(null),[_,k]=N.useState(""),[w,b]=N.useState(""),S=N.useRef(null),[j,O]=N.useState(!0),[C,T]=N.useState(""),[M,L]=N.useState(null),[U,A]=N.useState(!1),[D,E]=N.useState(!1),[$,P]=N.useState(null),[z,B]=N.useState(null),[q,X]=N.useState(""),[F,J]=N.useState(30),[K,ae]=N.useState(18),[se,Y]=N.useState(65),[te,ce]=N.useState("all"),[G,be]=N.useState("LEARN_MORE");N.useEffect(()=>{(async()=>{try{const V=await Gr("/fetch-ig-posts","POST");c(V.posts||[])}catch{B(r("ads.error_loading_posts"))}d(!1)})()},[]);const Se=V=>{var Le;const _e=(Le=V.target.files)==null?void 0:Le[0];if(_e)if(m(_e),g(null),_e.type.startsWith("video/"))v(null);else{const An=new FileReader;An.onload=zr=>{var En;const Pn=(En=zr.target)==null?void 0:En.result;v(Pn),g(Pn.split(",")[1])},An.readAsDataURL(_e)}},Ue=V=>(V==null?void 0:V.type.startsWith("video/"))??!1,Ke=async()=>{A(!0),B(null);try{const V=n==="instagram"?(f==null?void 0:f.caption)||"":_,_e=await Gr("/ai-strategy","POST",{post_caption:V,ad_brief:w,post_type:n==="instagram"?f==null?void 0:f.media_type:"IMAGE",post_engagement:n==="instagram"?{likes:(f==null?void 0:f.like_count)||0,comments:(f==null?void 0:f.comments_count)||0,reach:(f==null?void 0:f.reach)||0,impressions:(f==null?void 0:f.impressions)||0}:{likes:0,comments:0,reach:0,impressions:0}},12e4);if(_e.error)B(_e.error);else if(_e.strategy){const Le=_e.strategy;L(Le),X(Le.campaign_name||""),J(Le.daily_budget_brl||30),ae(Le.age_min||18),Y(Le.age_max||65),ce(Le.gender||"all"),be(Le.cta_type||"LEARN_MORE"),s(3),j&&await Ee(Le)}}catch{B(r("ads.error_connection"))}A(!1)},Ee=async V=>{if(!(n==="instagram"&&!f)&&!(n==="upload"&&!p)){E(!0),B(null);try{let _e=null;if(n==="upload"&&p&&Ue(p)){const Ia=`${Date.now()}-${p.name}`,{error:Xn}=await re.storage.from("ad-uploads").upload(Ia,p,{contentType:p.type,upsert:!1});if(Xn){B(`Erro no upload do vdeo: ${Xn.message}`),E(!1);return}const{data:Id}=re.storage.from("ad-uploads").getPublicUrl(Ia);_e=Id.publicUrl}const An=((await Gr("/search-interests","POST",{keywords:V.interests})).interests||[]).slice(0,15),zr={geo_locations:{countries:["BR"]},age_min:V.age_min||18,age_max:V.age_max||65,publisher_platforms:["facebook","instagram"],instagram_positions:["stream","story","reels"]};V.gender==="male"?zr.genders=[1]:V.gender==="female"&&(zr.genders=[2]),An.length>0&&(zr.flexible_spec=[{interests:An.map(Ia=>({id:Ia.id,name:Ia.name}))}]);const Pn=n==="upload",En=await Gr(Pn?"/create-from-upload":"/create-from-post","POST",{...Pn?_e?{video_url:_e,image_name:(p==null?void 0:p.name)||"ad.mp4",ad_message:_}:{image_base64:x,image_name:(p==null?void 0:p.name)||"ad.jpg",ad_message:_}:{ig_media_id:f.media_id,media_type:f.media_type},destination_url:C,campaign_name:V.campaign_name,daily_budget:V.daily_budget_brl,targeting:zr,cta_type:V.cta_type,source:"ai_ad_creator_auto"});En.error?B(En.error):(P(En),s(4),t.invalidateQueries({queryKey:["ads-campaigns"]}),t.invalidateQueries({queryKey:["ads-agent-actions"]}))}catch{B(r("ads.error_connection"))}E(!1)}},qt=async()=>{M&&await Ee({...M,campaign_name:q,daily_budget_brl:F,age_min:K,age_max:se,gender:te,cta_type:G})},ft="w-full px-3 py-2.5 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40 transition-colors",Q="block text-xs font-medium text-gray-500 dark:text-neutral-400 mb-1.5",ge=[{n:1,label:r("ads.step_select_post")},{n:2,label:r("ads.step_destination")},{n:3,label:r("ads.step_strategy")},{n:4,label:r("ads.step_done")}];return o.jsxs("div",{className:"card p-6 border-2 border-purple-200 dark:border-purple-800/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-5",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-600 to-indigo-600 flex items-center justify-center",children:o.jsx(Ji,{size:16,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white",children:r("ads.creator_title")}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500",children:r("ads.creator_subtitle")})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>O(!j),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold border transition-all ${j?"bg-emerald-50 dark:bg-emerald-500/10 border-emerald-200 dark:border-emerald-700 text-emerald-700 dark:text-emerald-400":"bg-gray-50 dark:bg-neutral-800 border-gray-200 dark:border-neutral-700 text-gray-500 dark:text-neutral-400"}`,title:r(j?"ads.auto_mode_on_hint":"ads.auto_mode_off_hint"),children:[o.jsx(Os,{size:12,className:j?"fill-emerald-500 text-emerald-500":""}),r(j?"ads.auto_mode_on":"ads.auto_mode_off")]}),o.jsx("button",{onClick:e,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors",children:o.jsx(at,{size:16,className:"text-gray-400"})})]})]}),o.jsx("div",{className:"flex items-center gap-1 mb-6",children:ge.map((V,_e)=>o.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[o.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold transition-all ${i>=V.n?"bg-purple-600 text-white":"bg-gray-100 dark:bg-neutral-800 text-gray-400 dark:text-neutral-600"}`,children:i>V.n?o.jsx(Wl,{size:14}):V.n}),o.jsx("span",{className:`text-[11px] font-medium hidden sm:block ${i>=V.n?"text-purple-600 dark:text-purple-400":"text-gray-400 dark:text-neutral-600"}`,children:V.label}),_e<ge.length-1&&o.jsx("div",{className:`flex-1 h-0.5 mx-1 rounded ${i>V.n?"bg-purple-600":"bg-gray-200 dark:bg-neutral-800"}`})]},V.n))}),z&&o.jsxs("div",{className:"flex items-start gap-2 p-3 mb-4 rounded-xl bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-800/50",children:[o.jsx(kn,{size:16,className:"text-red-500 mt-0.5 shrink-0"}),o.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:z}),o.jsx("button",{onClick:()=>B(null),className:"ml-auto",children:o.jsx(at,{size:14,className:"text-red-400"})})]}),i===1&&o.jsxs("div",{children:[o.jsx("div",{className:"flex gap-2 mb-4 p-1 bg-gray-100 dark:bg-neutral-800 rounded-xl w-fit",children:["instagram","upload"].map(V=>o.jsxs("button",{onClick:()=>{a(V),h(null),m(null),v(null),g(null)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${n===V?"bg-white dark:bg-neutral-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-200"}`,children:[V==="instagram"?o.jsx(Hf,{size:13}):o.jsx(Kl,{size:13}),r(V==="instagram"?"ads.creator_mode_instagram":"ads.creator_mode_upload")]},V))}),n==="instagram"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-400",children:r("ads.select_post_hint")}),o.jsxs("button",{onClick:async()=>{d(!0),await fetch(`${Ml}/functions/v1/sync-instagram`,{method:"POST",headers:{Authorization:`Bearer ${Dl}`}});const V=await Gr("/fetch-ig-posts","POST");c(V.posts||[]),d(!1)},disabled:u,className:"flex items-center gap-1 text-xs text-purple-500 hover:text-purple-600 disabled:opacity-50",children:[o.jsx(_r,{size:11,className:u?"animate-spin":""}),"Atualizar posts"]})]}),u?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Pr,{className:"animate-spin text-purple-500",size:28})}):l.length===0?o.jsxs("div",{className:"text-center py-8 flex flex-col items-center gap-3",children:[o.jsx("p",{className:"text-sm text-gray-400 dark:text-neutral-500",children:r("ads.no_posts")}),o.jsxs("button",{onClick:async()=>{d(!0),await fetch(`${Ml}/functions/v1/sync-instagram`,{method:"POST",headers:{Authorization:`Bearer ${Dl}`}});const V=await Gr("/fetch-ig-posts","POST");c(V.posts||[]),d(!1)},className:"flex items-center gap-1.5 text-xs text-purple-500 hover:text-purple-600 underline",children:[o.jsx(_r,{size:12}),"Sincronizar Instagram"]})]}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 max-h-[420px] overflow-y-auto pr-1",children:l.map(V=>{var _e;return o.jsxs("button",{onClick:()=>h(V),className:`text-left rounded-xl overflow-hidden border-2 transition-all hover:shadow-md ${(f==null?void 0:f.media_id)===V.media_id?"border-purple-500 ring-2 ring-purple-500/30 shadow-lg":"border-gray-200 dark:border-neutral-800 hover:border-gray-300 dark:hover:border-neutral-700"}`,children:[V.thumbnail_url?o.jsx("img",{src:V.thumbnail_url,alt:"",className:"w-full h-36 object-cover"}):o.jsx("div",{className:"w-full h-36 bg-gray-100 dark:bg-neutral-800 flex items-center justify-center",children:o.jsx(Hf,{size:24,className:"text-gray-300 dark:text-neutral-600"})}),o.jsxs("div",{className:"p-2",children:[o.jsx("p",{className:"text-[11px] text-gray-700 dark:text-neutral-300 line-clamp-2 leading-tight",children:((_e=V.caption)==null?void 0:_e.substring(0,80))||"-"}),o.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[o.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-neutral-500",children:[V.like_count," ",r("ads.likes")]}),o.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-neutral-500",children:[V.comments_count," ",r("ads.comments_count")]})]}),o.jsx("span",{className:`inline-block mt-1 text-[9px] px-1.5 py-0.5 rounded font-medium ${V.media_type==="VIDEO"||V.media_type==="REELS"?"bg-red-50 dark:bg-red-500/10 text-red-500":V.media_type==="CAROUSEL_ALBUM"?"bg-blue-50 dark:bg-blue-500/10 text-blue-500":"bg-gray-100 dark:bg-neutral-800 text-gray-500 dark:text-neutral-400"}`,children:V.media_type})]})]},V.media_id)})})]}),n==="upload"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{onClick:()=>{var V;return(V=S.current)==null?void 0:V.click()},className:`relative flex flex-col items-center justify-center gap-3 rounded-xl border-2 border-dashed cursor-pointer transition-all ${p?"border-purple-400 dark:border-purple-600 p-2":"border-gray-300 dark:border-neutral-700 hover:border-purple-400 dark:hover:border-purple-600 py-10"}`,children:[p?o.jsxs("div",{className:"relative w-full",children:[y?o.jsx("img",{src:y,alt:r("ads.upload_preview"),className:"w-full max-h-52 object-contain rounded-lg"}):o.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-purple-50 dark:bg-purple-500/10",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-500/20 flex items-center justify-center shrink-0",children:o.jsx(Eu,{size:18,className:"text-purple-600 dark:text-purple-400 ml-0.5"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 truncate",children:p.name}),o.jsxs("p",{className:"text-xs text-purple-500 dark:text-purple-400",children:[(p.size/1024/1024).toFixed(1)," MB  ",r("ads.upload_video_ready")]})]})]}),o.jsx("button",{onClick:V=>{V.stopPropagation(),m(null),v(null),g(null)},className:"absolute top-1 right-1 p-1 rounded-full bg-black/50 text-white hover:bg-black/70",children:o.jsx(at,{size:12})})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-50 dark:bg-purple-500/10 flex items-center justify-center",children:o.jsx(Hf,{size:24,className:"text-purple-500"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-neutral-300",children:r("ads.upload_file")}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-500 mt-0.5",children:r("ads.upload_file_hint")})]})]}),o.jsx("input",{ref:S,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp,video/mp4,video/quicktime,video/avi,video/mov",onChange:Se,className:"hidden"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-neutral-400 mb-1.5",children:r("ads.ad_caption")}),o.jsx("textarea",{rows:2,value:_,onChange:V=>k(V.target.value),placeholder:r("ads.ad_caption_placeholder"),className:"w-full px-3 py-2 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-purple-500/40 resize-none"})]})]}),o.jsxs("div",{className:"mt-4 p-4 rounded-2xl bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-950/40 dark:to-purple-950/40 border border-indigo-100 dark:border-indigo-900/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-lg bg-indigo-600 flex items-center justify-center shrink-0",children:o.jsx(Ji,{size:13,className:"text-white"})}),o.jsx("p",{className:"text-xs font-semibold text-indigo-800 dark:text-indigo-300",children:r("ads.brief_title")})]}),o.jsx("p",{className:"text-[11px] text-indigo-600 dark:text-indigo-400 mb-2",children:r("ads.brief_hint")}),o.jsx("textarea",{rows:3,value:w,onChange:V=>b(V.target.value),placeholder:r("ads.brief_placeholder"),className:"w-full px-3 py-2 text-sm bg-white dark:bg-neutral-900 border border-indigo-200 dark:border-indigo-800 rounded-xl text-gray-900 dark:text-white placeholder-indigo-300 dark:placeholder-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500/40 resize-none"}),w.length>0&&o.jsxs("p",{className:"text-[10px] text-indigo-400 dark:text-indigo-500 mt-1 text-right",children:[w.length," ",r("ads.brief_chars")]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsxs("button",{onClick:()=>s(2),disabled:n==="instagram"?!f:!p,className:"flex items-center gap-1.5 px-4 py-2.5 rounded-xl text-sm font-medium bg-purple-600 text-white hover:bg-purple-700 transition-all disabled:opacity-40 disabled:cursor-not-allowed",children:[r("ads.step_destination")," ",o.jsx(Nd,{size:15})]})})]}),i===2&&o.jsxs("div",{children:[n==="instagram"&&f&&o.jsxs("div",{className:"flex items-start gap-3 mb-4 p-3 rounded-xl bg-gray-50 dark:bg-neutral-800/50",children:[f.thumbnail_url&&o.jsx("img",{src:f.thumbnail_url,alt:"",className:"w-16 h-16 object-cover rounded-lg shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-neutral-300",children:r("ads.selected_post")}),o.jsx("p",{className:"text-[11px] text-gray-500 dark:text-neutral-400 line-clamp-2 mt-0.5",children:(Oe=f.caption)==null?void 0:Oe.substring(0,120)})]})]}),n==="upload"&&p&&o.jsxs("div",{className:"flex items-start gap-3 mb-4 p-3 rounded-xl bg-gray-50 dark:bg-neutral-800/50",children:[y?o.jsx("img",{src:y,alt:r("ads.upload_preview"),className:"w-16 h-16 object-cover rounded-lg shrink-0"}):o.jsx("div",{className:"w-16 h-16 rounded-lg bg-purple-100 dark:bg-purple-500/20 flex items-center justify-center shrink-0",children:o.jsx(Eu,{size:20,className:"text-purple-600 dark:text-purple-400 ml-0.5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-neutral-300",children:r("ads.creator_mode_upload")}),o.jsx("p",{className:"text-[11px] text-gray-500 dark:text-neutral-400 mt-0.5",children:p.name}),_&&o.jsx("p",{className:"text-[11px] text-gray-400 dark:text-neutral-500 line-clamp-2 mt-0.5",children:_.substring(0,100)})]})]}),w&&o.jsxs("div",{className:"flex items-start gap-2 mb-4 p-3 rounded-xl bg-indigo-50 dark:bg-indigo-950/40 border border-indigo-100 dark:border-indigo-900/50",children:[o.jsx(Ji,{size:14,className:"text-indigo-500 dark:text-indigo-400 mt-0.5 shrink-0"}),o.jsx("p",{className:"text-[11px] text-indigo-700 dark:text-indigo-300 line-clamp-3",children:w})]}),o.jsx("label",{className:Q,children:r("ads.enter_url")}),o.jsxs("div",{className:"relative",children:[o.jsx(PL,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"url",value:C,onChange:V=>T(V.target.value),placeholder:r("ads.url_placeholder"),className:`${ft} pl-9`})]}),o.jsx("p",{className:"text-[11px] text-gray-400 dark:text-neutral-500 mt-1.5",children:r("ads.url_hint")}),o.jsxs("div",{className:"flex items-center justify-between mt-6",children:[o.jsxs("button",{onClick:()=>s(1),className:"flex items-center gap-1 text-sm text-gray-500 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-300",children:[o.jsx(Pu,{size:15})," ",r("ads.step_select_post")]}),o.jsx("button",{onClick:Ke,disabled:!C.startsWith("http")||U||D,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-medium bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700 transition-all disabled:opacity-40 disabled:cursor-not-allowed shadow-lg",children:U?o.jsxs(o.Fragment,{children:[o.jsx(Pr,{size:15,className:"animate-spin"})," ",r("ads.generating")]}):D?o.jsxs(o.Fragment,{children:[o.jsx(Pr,{size:15,className:"animate-spin"})," ",r("ads.launching")]}):j?o.jsxs(o.Fragment,{children:[o.jsx(Os,{size:15})," ",r("ads.generate_and_launch")]}):o.jsxs(o.Fragment,{children:[o.jsx(Ji,{size:15})," ",r("ads.generate_strategy")]})})]})]}),i===3&&M&&o.jsxs("div",{children:[o.jsxs("div",{className:"p-3 mb-4 rounded-xl bg-indigo-50 dark:bg-indigo-500/10 border border-indigo-200 dark:border-indigo-800/50",children:[o.jsx("p",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-300 mb-1",children:r("ads.ai_reasoning")}),o.jsx("p",{className:"text-[11px] text-indigo-600 dark:text-indigo-400 leading-relaxed",children:M.reasoning})]}),j&&o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[{label:r("ads.campaign_name"),value:M.campaign_name},{label:r("ads.daily_budget_label"),value:`R$ ${M.daily_budget_brl}`},{label:r("ads.age_range"),value:`${M.age_min}${M.age_max}`},{label:r("ads.cta_label"),value:M.cta_type.replace(/_/g," ")}].map(V=>o.jsxs("div",{className:"p-2 rounded-lg bg-gray-50 dark:bg-neutral-800",children:[o.jsx("p",{className:"text-[10px] text-gray-400 dark:text-neutral-500",children:V.label}),o.jsx("p",{className:"text-xs font-semibold text-gray-800 dark:text-neutral-200 truncate",children:V.value})]},V.label))}),o.jsx("div",{className:"flex flex-wrap gap-1.5",children:M.interests.map((V,_e)=>o.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-md bg-purple-50 dark:bg-purple-500/10 text-purple-600 dark:text-purple-400 font-medium",children:V},_e))}),D&&o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-emerald-50 dark:bg-emerald-500/10 border border-emerald-200 dark:border-emerald-800/50",children:[o.jsx(Pr,{size:15,className:"animate-spin text-emerald-600 dark:text-emerald-400 shrink-0"}),o.jsx("p",{className:"text-xs text-emerald-700 dark:text-emerald-400",children:r("ads.auto_launching")})]})]}),!j&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[o.jsxs("div",{className:"sm:col-span-2",children:[o.jsx("label",{className:Q,children:r("ads.campaign_name")}),o.jsx("input",{value:q,onChange:V=>X(V.target.value),className:ft})]}),o.jsxs("div",{children:[o.jsx("label",{className:Q,children:r("ads.daily_budget_label")}),o.jsx("input",{type:"number",min:5,max:1e3,value:F,onChange:V=>J(Number(V.target.value)),className:ft})]}),o.jsxs("div",{children:[o.jsx("label",{className:Q,children:r("ads.cta_label")}),o.jsx("select",{value:G,onChange:V=>be(V.target.value),className:ft,children:xue.map(V=>o.jsx("option",{value:V,children:V.replace(/_/g," ")},V))})]}),o.jsxs("div",{children:[o.jsx("label",{className:Q,children:r("ads.age_range")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",min:13,max:65,value:K,onChange:V=>ae(Number(V.target.value)),className:`${ft} w-20`}),o.jsx("span",{className:"text-xs text-gray-400",children:"-"}),o.jsx("input",{type:"number",min:13,max:65,value:se,onChange:V=>Y(Number(V.target.value)),className:`${ft} w-20`})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:Q,children:r("ads.gender_label")}),o.jsxs("select",{value:te,onChange:V=>ce(V.target.value),className:ft,children:[o.jsx("option",{value:"all",children:r("ads.gender_all")}),o.jsx("option",{value:"male",children:r("ads.gender_male")}),o.jsx("option",{value:"female",children:r("ads.gender_female")})]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:Q,children:r("ads.interests_label")}),o.jsx("div",{className:"flex flex-wrap gap-1.5",children:M.interests.map((V,_e)=>o.jsx("span",{className:"text-[11px] px-2 py-1 rounded-lg bg-purple-50 dark:bg-purple-500/10 text-purple-600 dark:text-purple-400 font-medium",children:V},_e))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>s(2),className:"flex items-center gap-1 text-sm text-gray-500 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-300",children:[o.jsx(Pu,{size:15})," ",r("ads.step_destination")]}),o.jsx("button",{onClick:qt,disabled:D||!q,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-medium bg-gradient-to-r from-emerald-600 to-green-600 text-white hover:from-emerald-700 hover:to-green-700 transition-all disabled:opacity-40 shadow-lg",children:D?o.jsxs(o.Fragment,{children:[o.jsx(Pr,{size:15,className:"animate-spin"})," ",r("ads.launching")]}):o.jsxs(o.Fragment,{children:[o.jsx(BL,{size:15})," ",r("ads.launch_campaign")]})})]})]})]}),i===4&&$&&o.jsxs("div",{className:"text-center py-4",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-emerald-100 dark:bg-emerald-500/20 flex items-center justify-center mx-auto mb-3",children:o.jsx(cP,{size:28,className:"text-emerald-600 dark:text-emerald-400"})}),o.jsx("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:r("ads.campaign_created")}),o.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mb-4",children:r("ads.campaign_paused_note")}),o.jsx("div",{className:"grid grid-cols-2 gap-2 max-w-sm mx-auto mb-4",children:[["Campaign",$.campaign_id],["AdSet",$.adset_id],["Creative",$.creative_id],["Ad",$.ad_id]].map(([V,_e])=>o.jsxs("div",{className:"p-2 rounded-lg bg-gray-50 dark:bg-neutral-800",children:[o.jsx("p",{className:"text-[10px] text-gray-400 dark:text-neutral-500",children:V}),o.jsx("p",{className:"text-[11px] font-mono text-gray-700 dark:text-neutral-300 truncate",children:_e})]},V))}),o.jsx("button",{onClick:e,className:"px-5 py-2 rounded-xl text-sm font-medium bg-gray-100 dark:bg-neutral-800 text-gray-700 dark:text-neutral-300 hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:r("ads.close_creator")||"Fechar"})]})]})}const l5="https://jdodenbjohnqvhvldfqu.supabase.co",c5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impkb2RlbmJqb2hucXZodmxkZnF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE2MjU3MzAsImV4cCI6MjA4NzIwMTczMH0.MR3yuR-a1vf84iDrw2wEZ0mS0-8y0LdG1lUjiK_mFec",g0=e=>(e==null?void 0:e.toLocaleString("pt-BR"))||"0",_ue=e=>{const t=Date.now()-new Date(e).getTime(),r=Math.floor(t/6e4);if(r<60)return`${r}min`;const n=Math.floor(r/60);return n<24?`${n}h`:`${Math.floor(n/24)}d`},wue=e=>new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"});function kue(){const e=wr(),{t}=pe(),[r,n]=N.useState("agents"),[a,i]=N.useState(null),[s,l]=N.useState(null),[c,u]=N.useState(!1),{data:d}=Ae({queryKey:["ig-account"],queryFn:async()=>{const b=await(await fetch(`${l5}/functions/v1/instagram-account`,{headers:{Authorization:`Bearer ${c5}`}})).json();if(b.error)throw new Error(b.error);return b},staleTime:5*60*1e3,retry:1}),{data:f=[]}=Ae({queryKey:["human_agent_configs"],queryFn:async()=>{const{data:w,error:b}=await re.from("human_agent_config").select("*").order("created_at",{ascending:!0});if(b)throw b;return w||[]}}),{data:h=[]}=Ae({queryKey:["products"],queryFn:async()=>{const{data:w,error:b}=await re.from("products").select("*").order("created_at",{ascending:!0});if(b)throw b;return w||[]}}),{data:p=[]}=Ae({queryKey:["human_agent_conversations"],queryFn:async()=>{const{data:w,error:b}=await re.from("human_agent_conversations").select("*").order("last_message_at",{ascending:!1}).limit(50);if(b)throw b;return w||[]}}),{data:m=[]}=Ae({queryKey:["human_agent_messages",s==null?void 0:s.id],enabled:!!s,queryFn:async()=>{if(!s)return[];const{data:w,error:b}=await re.from("human_agent_messages").select("*").eq("conversation_id",s.id).order("created_at",{ascending:!0});if(b)throw b;return w||[]}});N.useEffect(()=>{const w=re.channel("human-agent-realtime").on("postgres_changes",{event:"*",schema:"public",table:"human_agent_conversations"},()=>{e.invalidateQueries({queryKey:["human_agent_conversations"]})}).on("postgres_changes",{event:"*",schema:"public",table:"human_agent_messages"},()=>{e.invalidateQueries({queryKey:["human_agent_messages"]})}).subscribe();return()=>{re.removeChannel(w)}},[e]);const y=fr({mutationFn:async({agent:w,activate:b})=>{b&&await re.from("human_agent_config").update({is_active:!1,updated_at:new Date().toISOString()}).neq("id",w.id);const{error:S}=await re.from("human_agent_config").update({is_active:b,updated_at:new Date().toISOString()}).eq("id",w.id);if(S)throw S},onSuccess:()=>e.invalidateQueries({queryKey:["human_agent_configs"]})}),v=fr({mutationFn:async w=>{const{error:b}=await re.from("human_agent_config").delete().eq("id",w);if(b)throw b},onSuccess:()=>e.invalidateQueries({queryKey:["human_agent_configs"]})}),x=new Date().toISOString().split("T")[0],g=p.filter(w=>w.status==="active").length,_=p.filter(w=>{var b;return(b=w.last_message_at)==null?void 0:b.startsWith(x)}).length,k=f.find(w=>w.is_active);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-cyan-500 rounded-xl flex items-center justify-center",children:o.jsx(Ir,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("humanagent.title")}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-400",children:t("humanagent.subtitle")})]})]}),(d==null?void 0:d.username)&&o.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-xl",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 flex items-center justify-center",children:o.jsx(ka,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["@",d.username]}),o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})]}),o.jsxs("span",{className:"text-xs text-gray-400 dark:text-neutral-500",children:[g0(d.followers_count)," ",t("humanagent.followers")]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(y0,{icon:Ir,label:t("humanagent.active_agent"),value:(k==null?void 0:k.agent_name)||t("humanagent.none"),color:"blue"}),o.jsx(y0,{icon:Hn,label:t("humanagent.convos_today"),value:g0(_),color:"green"}),o.jsx(y0,{icon:nn,label:t("humanagent.active_convos"),value:g0(g),color:"purple"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>{n("agents"),i(null),l(null),u(!1)},className:`px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2 ${r==="agents"||r==="edit-agent"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-neutral-800 text-gray-600 dark:text-neutral-300 hover:bg-gray-200 dark:hover:bg-neutral-700"}`,children:[o.jsx(Oi,{className:"w-4 h-4"})," ",t("humanagent.agents_tab")," (",f.length,")"]}),o.jsxs("button",{onClick:()=>{n("conversations"),i(null),u(!1)},className:`px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2 ${r==="conversations"||r==="chat"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-neutral-800 text-gray-600 dark:text-neutral-300 hover:bg-gray-200 dark:hover:bg-neutral-700"}`,children:[o.jsx(Hn,{className:"w-4 h-4"})," ",t("humanagent.convos_tab")]}),o.jsxs("button",{onClick:()=>{n("products"),i(null),u(!1)},className:`px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2 ${r==="products"?"bg-amber-500 text-white":"bg-gray-100 dark:bg-neutral-800 text-gray-600 dark:text-neutral-300 hover:bg-gray-200 dark:hover:bg-neutral-700"}`,children:[o.jsx(Nb,{className:"w-4 h-4"})," ",t("humanagent.products_tab")," (",h.length,")"]})]}),r==="agents"&&!c&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(w=>o.jsx(jue,{agent:w,onToggle:b=>y.mutate({agent:w,activate:b}),onEdit:()=>{i(w),n("edit-agent")},onDelete:()=>{if(f.length<=1)return alert(t("humanagent.cant_delete"));confirm(t("humanagent.delete_confirm",{name:w.agent_name}))&&v.mutate(w.id)},toggling:y.isPending},w.id))}),o.jsxs("button",{onClick:()=>u(!0),className:"w-full py-3 border-2 border-dashed border-gray-300 dark:border-neutral-700 rounded-xl text-gray-500 dark:text-neutral-400 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-500 transition-all flex items-center justify-center gap-2 font-medium text-sm",children:[o.jsx(Yt,{className:"w-4 h-4"})," ",t("humanagent.create_new")]})]}),c&&o.jsx(Sue,{onCancel:()=>u(!1),onCreated:()=>{u(!1),e.invalidateQueries({queryKey:["human_agent_configs"]})}}),r==="edit-agent"&&a&&o.jsx(Nue,{agent:a,onBack:()=>{i(null),n("agents")},onSaved:()=>{i(null),n("agents"),e.invalidateQueries({queryKey:["human_agent_configs"]})}}),r==="conversations"&&!s&&o.jsx(Oue,{conversations:p,onSelect:w=>{l(w),n("chat")}}),r==="chat"&&s&&o.jsx(Aue,{conversation:s,messages:m,onBack:()=>{l(null),n("conversations")}}),r==="products"&&o.jsx(Pue,{products:h,onChanged:()=>e.invalidateQueries({queryKey:["products"]})})]})}function y0({icon:e,label:t,value:r,color:n}){const a={blue:"bg-blue-50 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400",green:"bg-green-50 dark:bg-green-500/10 text-green-600 dark:text-green-400",purple:"bg-purple-50 dark:bg-purple-500/10 text-purple-600 dark:text-purple-400"};return o.jsx("div",{className:"card p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a[n]}`,children:o.jsx(e,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-400",children:t}),o.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r})]})]})})}function jue({agent:e,onToggle:t,onEdit:r,onDelete:n,toggling:a}){var s;const{t:i}=pe();return o.jsxs("div",{className:`card p-5 transition-all ${e.is_active?"ring-2 ring-green-500/30 border-green-200 dark:border-green-500/20":""}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${e.agent_type==="sales"?e.is_active?"bg-amber-100 dark:bg-amber-500/10":"bg-gray-100 dark:bg-neutral-800":e.is_active?"bg-green-100 dark:bg-green-500/10":"bg-gray-100 dark:bg-neutral-800"}`,children:e.agent_type==="sales"?o.jsx(Zr,{className:`w-5 h-5 ${e.is_active?"text-amber-600 dark:text-amber-400":"text-gray-400 dark:text-neutral-500"}`}):o.jsx(Ir,{className:`w-5 h-5 ${e.is_active?"text-green-600 dark:text-green-400":"text-gray-400 dark:text-neutral-500"}`})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.agent_name||i("humanagent.no_name")}),o.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold uppercase ${e.agent_type==="sales"?"bg-amber-100 dark:bg-amber-500/10 text-amber-600 dark:text-amber-400":"bg-blue-100 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400"}`,children:e.agent_type==="sales"?i("humanagent.type_sales"):i("humanagent.type_support")})]}),e.is_active&&o.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium flex items-center gap-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"})," ",i("humanagent.active_ig")]})]})]}),o.jsx("button",{onClick:()=>t(!e.is_active),disabled:a,className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors duration-200 focus:outline-none ${e.is_active?"bg-green-500":"bg-gray-300 dark:bg-neutral-600"}`,children:o.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-md transition-transform duration-200 ${e.is_active?"translate-x-6":"translate-x-1"}`})})]}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-500 line-clamp-2 mb-4",children:e.system_prompt||i("humanagent.no_prompt")}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[e.knowledge_base?o.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-medium px-2 py-1 rounded-full bg-blue-50 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400",children:[o.jsx(om,{className:"w-3 h-3"})," ",e.knowledge_base.length," chars"]}):o.jsx("span",{className:"text-[10px] font-medium px-2 py-1 rounded-full bg-gray-100 dark:bg-neutral-800 text-gray-400 dark:text-neutral-500",children:i("humanagent.no_kb")}),((s=e.trigger_keywords)==null?void 0:s.length)>0&&o.jsxs("span",{className:"text-[10px] font-medium px-2 py-1 rounded-full bg-amber-50 dark:bg-amber-500/10 text-amber-600 dark:text-amber-400",children:[e.trigger_keywords.length," ",i("humanagent.keywords_count")]}),o.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-neutral-500",children:["Max ",e.max_history_messages," msgs"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400 hover:text-blue-500 transition-colors",children:o.jsx(Oi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Mr,{className:"w-4 h-4"})})]})]})]})}function Sue({onCancel:e,onCreated:t}){const{t:r}=pe(),[n,a]=N.useState("support"),[i,s]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(""),[f,h]=N.useState(10),[p,m]=N.useState([]),[y,v]=N.useState(""),[x,g]=N.useState(!1),_="w-full px-3 py-2.5 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40 transition-colors",k=()=>{const b=y.trim().toLowerCase();b&&!p.includes(b)&&(m([...p,b]),v(""))},w=async()=>{if(!i.trim())return alert(r("humanagent.agent_name"));g(!0);const{error:b}=await re.from("human_agent_config").insert({agent_name:i.trim(),agent_type:n,system_prompt:l,knowledge_base:u,max_history_messages:f,trigger_keywords:p,require_keyword:!0,is_active:!1,gemini_model:"gemini-2.0-flash"});b?alert(`${r("common.error")}: ${b.message}`):t(),g(!1)};return o.jsxs("div",{className:"card p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(Yt,{className:"w-5 h-5 text-blue-500"})," ",r("humanagent.new_agent")]}),o.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400",children:o.jsx(at,{className:"w-4 h-4"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-2",children:r("humanagent.agent_type")}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{onClick:()=>a("support"),className:`p-4 rounded-xl border-2 transition-all text-left ${n==="support"?"border-blue-500 bg-blue-50 dark:bg-blue-500/10":"border-gray-200 dark:border-neutral-700 hover:border-gray-300 dark:hover:border-neutral-600"}`,children:[o.jsx(Ir,{className:`w-6 h-6 mb-2 ${n==="support"?"text-blue-600 dark:text-blue-400":"text-gray-400"}`}),o.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:r("humanagent.type_support")}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-400 mt-0.5",children:r("humanagent.type_support_desc")})]}),o.jsxs("button",{onClick:()=>a("sales"),className:`p-4 rounded-xl border-2 transition-all text-left ${n==="sales"?"border-amber-500 bg-amber-50 dark:bg-amber-500/10":"border-gray-200 dark:border-neutral-700 hover:border-gray-300 dark:hover:border-neutral-600"}`,children:[o.jsx(Zr,{className:`w-6 h-6 mb-2 ${n==="sales"?"text-amber-600 dark:text-amber-400":"text-gray-400"}`}),o.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:r("humanagent.type_sales")}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-400 mt-0.5",children:r("humanagent.type_sales_desc")})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:r("humanagent.agent_name")}),o.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),placeholder:r("humanagent.name_placeholder"),className:_})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:r("humanagent.system_prompt")}),o.jsx("textarea",{value:l,onChange:b=>c(b.target.value),rows:4,placeholder:r("humanagent.prompt_placeholder"),className:_+" resize-y"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:r("humanagent.knowledge_base")}),o.jsx("textarea",{value:u,onChange:b=>d(b.target.value),rows:6,placeholder:r("humanagent.kb_placeholder"),className:_+" resize-y font-mono text-xs"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:r("humanagent.trigger_keywords")}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-500 mb-2",children:r("humanagent.keywords_on_hint")}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx("input",{type:"text",value:y,onChange:b=>v(b.target.value),onKeyDown:b=>b.key==="Enter"&&(b.preventDefault(),k()),placeholder:r("humanagent.keyword_placeholder"),className:_}),o.jsx("button",{onClick:k,disabled:!y.trim(),className:"px-4 py-2.5 rounded-xl text-sm font-medium text-white bg-amber-500 hover:bg-amber-600 transition-colors disabled:opacity-50 flex-shrink-0",children:o.jsx(Yt,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(b=>o.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-amber-50 dark:bg-amber-500/10 text-amber-700 dark:text-amber-400 text-sm font-medium",children:[b,o.jsx("button",{onClick:()=>m(p.filter(S=>S!==b)),className:"hover:text-red-500 transition-colors",children:o.jsx(at,{className:"w-3.5 h-3.5"})})]},b))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:r("humanagent.max_history")}),o.jsx("input",{type:"number",value:f,onChange:b=>h(parseInt(b.target.value)||10),min:2,max:50,className:_+" max-w-32"})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{onClick:e,className:"flex-1 py-2.5 rounded-xl text-sm font-medium text-gray-600 dark:text-neutral-400 bg-gray-100 dark:bg-neutral-800 hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:r("humanagent.cancel")}),o.jsxs("button",{onClick:w,disabled:x,className:"flex-1 py-2.5 rounded-xl text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[o.jsx(Ns,{className:"w-4 h-4"})," ",r(x?"humanagent.creating":"humanagent.create_agent")]})]})]})}function Nue({agent:e,onBack:t,onSaved:r}){const{t:n}=pe(),[a,i]=N.useState(e.agent_name||""),[s,l]=N.useState(e.system_prompt||""),[c,u]=N.useState(e.knowledge_base||""),[d,f]=N.useState(e.max_history_messages||10),[h,p]=N.useState(e.trigger_keywords||[]),[m,y]=N.useState(e.require_keyword!==!1),[v,x]=N.useState(""),[g,_]=N.useState(!1),k="w-full px-3 py-2.5 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40 transition-colors",w=()=>{const j=v.trim().toLowerCase();j&&!h.includes(j)&&(p([...h,j]),x(""))},b=j=>p(h.filter(O=>O!==j)),S=async()=>{_(!0);const{error:j}=await re.from("human_agent_config").update({agent_name:a,system_prompt:s,knowledge_base:c,max_history_messages:d,trigger_keywords:h,require_keyword:m,updated_at:new Date().toISOString()}).eq("id",e.id);j?alert(`${n("common.error")}: ${j.message}`):r(),_(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-sm text-gray-500 dark:text-neutral-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[o.jsx(lP,{className:"w-4 h-4"})," ",n("humanagent.back_to_agents")]}),o.jsxs("div",{className:"card p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Oi,{className:"w-5 h-5 text-gray-500 dark:text-neutral-400"}),o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[n("humanagent.edit")," ",e.agent_name]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:n("humanagent.agent_name")}),o.jsx("input",{type:"text",value:a,onChange:j=>i(j.target.value),className:k})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:n("humanagent.max_history")}),o.jsx("input",{type:"number",value:d,onChange:j=>f(parseInt(j.target.value)||10),min:2,max:50,className:k+" max-w-32"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:n("humanagent.system_prompt")}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-500 mb-1",children:n("humanagent.prompt_hint")}),o.jsx("textarea",{value:s,onChange:j=>l(j.target.value),rows:4,className:k+" resize-y"})]})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(kn,{className:"w-5 h-5 text-amber-500"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("humanagent.trigger_keywords")})]}),o.jsx("button",{onClick:()=>y(!m),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors duration-200 ${m?"bg-amber-500":"bg-gray-300 dark:bg-neutral-600"}`,children:o.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-md transition-transform duration-200 ${m?"translate-x-6":"translate-x-1"}`})})]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-400 mb-3",children:n(m?"humanagent.keywords_on_hint":"humanagent.keywords_off_hint")}),m&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsx("input",{type:"text",value:v,onChange:j=>x(j.target.value),onKeyDown:j=>j.key==="Enter"&&(j.preventDefault(),w()),placeholder:n("humanagent.keyword_placeholder"),className:k}),o.jsx("button",{onClick:w,disabled:!v.trim(),className:"px-4 py-2.5 rounded-xl text-sm font-medium text-white bg-amber-500 hover:bg-amber-600 transition-colors disabled:opacity-50 flex-shrink-0",children:o.jsx(Yt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.map(j=>o.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-amber-50 dark:bg-amber-500/10 text-amber-700 dark:text-amber-400 text-sm font-medium",children:[j,o.jsx("button",{onClick:()=>b(j),className:"hover:text-red-500 transition-colors",children:o.jsx(at,{className:"w-3.5 h-3.5"})})]},j)),h.length===0&&o.jsx("p",{className:"text-sm text-gray-400 dark:text-neutral-500 italic",children:n("humanagent.no_keywords")})]})]})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(om,{className:"w-5 h-5 text-gray-500 dark:text-neutral-400"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("humanagent.knowledge_base")})]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-400 mb-3",children:n("humanagent.kb_hint")}),o.jsx("textarea",{value:c,onChange:j=>u(j.target.value),rows:12,placeholder:`# Produtos
- Curso X: R$497...`,className:k+" resize-y font-mono text-xs"}),o.jsxs("span",{className:"text-xs text-gray-400 dark:text-neutral-500 mt-2 block",children:[c.length," ",n("humanagent.chars")]})]}),o.jsxs("button",{onClick:S,disabled:g,className:"w-full py-3 bg-gradient-to-r from-blue-600 to-cyan-500 text-white rounded-xl font-medium flex items-center justify-center gap-2 hover:shadow-lg hover:shadow-blue-500/25 transition-all disabled:opacity-50",children:[o.jsx(Ns,{className:"w-4 h-4"})," ",n(g?"humanagent.saving":"humanagent.save_config")]})]})}function Oue({conversations:e,onSelect:t}){const{t:r}=pe();return e.length===0?o.jsxs("div",{className:"card p-12 text-center",children:[o.jsx(Hn,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-neutral-600 mb-3"}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-400 font-medium",children:r("humanagent.no_convos")}),o.jsx("p",{className:"text-sm text-gray-400 dark:text-neutral-500 mt-1",children:r("humanagent.convos_hint")})]}):o.jsx("div",{className:"card divide-y divide-gray-100 dark:divide-neutral-800",children:e.map(n=>{var a,i;return o.jsxs("button",{onClick:()=>t(n),className:"w-full flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors text-left",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-white text-sm font-bold",children:((i=(a=n.ig_username||n.ig_user_id)==null?void 0:a[0])==null?void 0:i.toUpperCase())||"?"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:n.ig_username?`@${n.ig_username}`:`User ${n.ig_user_id.substring(0,8)}...`}),o.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${n.status==="ai_active"?"bg-green-100 dark:bg-green-500/10 text-green-600 dark:text-green-400":n.status==="paused"?"bg-amber-100 dark:bg-amber-500/10 text-amber-600 dark:text-amber-400":"bg-gray-100 dark:bg-neutral-700 text-gray-500 dark:text-neutral-400"}`,children:n.status==="ai_active"?r("humanagent.ai_active"):n.status==="paused"?r("humanagent.ai_paused"):n.status})]}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-neutral-400 mt-0.5",children:[n.messages_count," ",r("humanagent.messages"),"  ",_ue(n.last_message_at)]})]}),o.jsx(Nd,{className:"w-4 h-4 text-gray-400 dark:text-neutral-500 flex-shrink-0"})]},n.id)})})}function Aue({conversation:e,messages:t,onBack:r}){var v,x;const{t:n}=pe(),a=wr(),[i,s]=N.useState(!1),[l,c]=N.useState(""),[u,d]=N.useState(!1),[f,h]=N.useState(null),p=async()=>{if(!(!l.trim()||u)){d(!0),h(null);try{const g=await fetch(`${l5}/functions/v1/send-dm`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c5}`},body:JSON.stringify({recipient_id:e.ig_user_id,message:l.trim()})}),_=await g.json();!g.ok||_.error?h(_.error||"Erro ao enviar"):(c(""),a.invalidateQueries({queryKey:["human_agent_messages",e.id]}))}catch(g){h((g==null?void 0:g.message)||"Erro de conexo")}d(!1)}},m=e.status==="ai_active",y=async()=>{s(!0);const g=m?"paused":"ai_active";await re.from("human_agent_conversations").update({status:g}).eq("id",e.id),e.status=g,a.invalidateQueries({queryKey:["human_agent_conversations"]}),s(!1)};return o.jsxs("div",{className:"card overflow-hidden",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-gray-100 dark:border-neutral-800",children:[o.jsx("button",{onClick:r,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors",children:o.jsx(lP,{className:"w-4 h-4 text-gray-500 dark:text-neutral-400"})}),o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:((x=(v=e.ig_username||e.ig_user_id)==null?void 0:v[0])==null?void 0:x.toUpperCase())||"?"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.ig_username?`@${e.ig_username}`:`User ${e.ig_user_id.substring(0,12)}...`}),o.jsxs("p",{className:"text-xs text-gray-400 dark:text-neutral-500",children:[e.messages_count," ",n("humanagent.messages")]})]}),o.jsxs("button",{onClick:y,disabled:i,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-semibold transition-all ${m?"bg-green-100 dark:bg-green-500/10 text-green-600 dark:text-green-400 hover:bg-red-100 dark:hover:bg-red-500/10 hover:text-red-600 dark:hover:text-red-400":"bg-gray-100 dark:bg-neutral-800 text-gray-500 dark:text-neutral-400 hover:bg-green-100 dark:hover:bg-green-500/10 hover:text-green-600 dark:hover:text-green-400"}`,children:[o.jsx(Ir,{className:"w-3.5 h-3.5"}),n(m?"humanagent.pause_ai":"humanagent.resume_ai")]})]}),o.jsx("div",{className:"p-4 space-y-3 max-h-[600px] overflow-y-auto",children:t.length===0?o.jsx("p",{className:"text-center text-sm text-gray-400 dark:text-neutral-500 py-8",children:n("humanagent.no_messages")}):t.map(g=>o.jsx("div",{className:`flex ${g.direction==="outgoing"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[75%] rounded-2xl px-4 py-2.5 ${g.direction==="outgoing"?"bg-blue-600 text-white rounded-br-md":"bg-gray-100 dark:bg-neutral-800 text-gray-900 dark:text-white rounded-bl-md"}`,children:[o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:g.message_text}),o.jsxs("div",{className:`flex items-center gap-1 mt-1 ${g.direction==="outgoing"?"justify-end":"justify-start"}`,children:[o.jsx("span",{className:`text-[10px] ${g.direction==="outgoing"?"text-blue-200":"text-gray-400 dark:text-neutral-500"}`,children:wue(g.created_at)}),g.direction==="outgoing"&&(g.status==="sent"?o.jsx(Si,{className:"w-3 h-3 text-blue-200"}):g.status==="failed"?o.jsx(kn,{className:"w-3 h-3 text-red-300"}):null)]})]})},g.id))}),o.jsxs("div",{className:"p-3 border-t border-gray-100 dark:border-neutral-800",children:[f&&o.jsx("p",{className:"text-xs text-red-500 mb-2",children:f}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("textarea",{value:l,onChange:g=>c(g.target.value),onKeyDown:g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),p())},placeholder:"Responder manualmente...",rows:2,className:"flex-1 px-3 py-2 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40 resize-none transition-colors"}),o.jsxs("button",{onClick:p,disabled:!l.trim()||u,className:"px-3 py-2 rounded-xl bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center gap-1.5 text-sm font-medium self-end",children:[o.jsx(Ni,{size:14,className:u?"animate-pulse":""}),u?"Enviando...":"Enviar"]})]}),o.jsx("p",{className:"text-[10px] text-gray-400 dark:text-neutral-600 mt-1.5",children:"Conta: @abrahubstudio  Enter para enviar"})]})]})}function Pue({products:e,onChanged:t}){const{t:r}=pe(),[n,a]=N.useState(null),[i,s]=N.useState(!1);return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(l=>o.jsxs("div",{className:"card p-5",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-50 dark:bg-amber-500/10 flex items-center justify-center",children:o.jsx(Nb,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:l.name}),o.jsxs("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:["R$ ",Number(l.price_brl).toFixed(2)]})]})]}),o.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold uppercase ${l.is_active?"bg-green-100 dark:bg-green-500/10 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-neutral-700 text-gray-500"}`,children:l.is_active?r("humanagent.active"):"Off"})]}),l.description&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-400 mb-3 line-clamp-2",children:l.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px] font-medium px-2 py-1 rounded-full bg-gray-100 dark:bg-neutral-800 text-gray-500 dark:text-neutral-400 uppercase",children:l.payment_source}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>{a(l),s(!1)},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400 hover:text-blue-500 transition-colors",children:o.jsx(Oi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:async()=>{confirm(r("humanagent.delete_product_confirm",{name:l.name}))&&(await re.from("products").delete().eq("id",l.id),t())},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Mr,{className:"w-4 h-4"})})]})]})]},l.id))}),!i&&!n&&o.jsxs("button",{onClick:()=>s(!0),className:"w-full py-3 border-2 border-dashed border-gray-300 dark:border-neutral-700 rounded-xl text-gray-500 dark:text-neutral-400 hover:border-amber-400 dark:hover:border-amber-500 hover:text-amber-500 transition-all flex items-center justify-center gap-2 font-medium text-sm",children:[o.jsx(Yt,{className:"w-4 h-4"})," ",r("humanagent.add_product")]}),(i||n)&&o.jsx(Eue,{product:n,onCancel:()=>{s(!1),a(null)},onSaved:()=>{s(!1),a(null),t()}})]})}function Eue({product:e,onCancel:t,onSaved:r}){var k;const{t:n}=pe(),[a,i]=N.useState((e==null?void 0:e.name)||""),[s,l]=N.useState((e==null?void 0:e.description)||""),[c,u]=N.useState(((k=e==null?void 0:e.price_brl)==null?void 0:k.toString())||""),[d,f]=N.useState((e==null?void 0:e.payment_link)||""),[h,p]=N.useState((e==null?void 0:e.payment_source)||"kiwify"),[m,y]=N.useState((e==null?void 0:e.is_active)!==!1),[v,x]=N.useState(!1),g="w-full px-3 py-2.5 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40 transition-colors",_=async()=>{if(!a.trim()||!d.trim()||!c)return alert(n("humanagent.fill_required"));x(!0);const w={name:a.trim(),description:s.trim()||null,price_brl:parseFloat(c),payment_link:d.trim(),payment_source:h,is_active:m,updated_at:new Date().toISOString()};if(e){const{error:b}=await re.from("products").update(w).eq("id",e.id);b?alert(`${n("common.error")}: ${b.message}`):r()}else{const{error:b}=await re.from("products").insert(w);b?alert(`${n("common.error")}: ${b.message}`):r()}x(!1)};return o.jsxs("div",{className:"card p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(Nb,{className:"w-5 h-5 text-amber-500"}),n(e?"humanagent.edit_product":"humanagent.add_product")]}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400",children:o.jsx(at,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:n("humanagent.product_name")}),o.jsx("input",{type:"text",value:a,onChange:w=>i(w.target.value),placeholder:"Ex: Curso ABRAhub Pro",className:g})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:n("humanagent.product_price")}),o.jsx("input",{type:"number",value:c,onChange:w=>u(w.target.value),placeholder:"497.00",step:"0.01",min:"0",className:g})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:n("humanagent.product_description")}),o.jsx("textarea",{value:s,onChange:w=>l(w.target.value),rows:2,placeholder:n("humanagent.product_desc_placeholder"),className:g+" resize-y"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:n("humanagent.payment_link")}),o.jsx("input",{type:"url",value:d,onChange:w=>f(w.target.value),placeholder:"https://pay.kiwify.com.br/...",className:g})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:n("humanagent.payment_source")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>p("kiwify"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${h==="kiwify"?"bg-green-100 dark:bg-green-500/10 text-green-600":"bg-gray-100 dark:bg-neutral-800 text-gray-500"}`,children:"Kiwify"}),o.jsx("button",{onClick:()=>p("stripe"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${h==="stripe"?"bg-purple-100 dark:bg-purple-500/10 text-purple-600":"bg-gray-100 dark:bg-neutral-800 text-gray-500"}`,children:"Stripe"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1",children:n("humanagent.active")}),o.jsx("button",{onClick:()=>y(!m),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors duration-200 ${m?"bg-green-500":"bg-gray-300 dark:bg-neutral-600"}`,children:o.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-md transition-transform duration-200 ${m?"translate-x-6":"translate-x-1"}`})})]})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{onClick:t,className:"flex-1 py-2.5 rounded-xl text-sm font-medium text-gray-600 dark:text-neutral-400 bg-gray-100 dark:bg-neutral-800 hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:n("humanagent.cancel")}),o.jsxs("button",{onClick:_,disabled:v,className:"flex-1 py-2.5 rounded-xl text-sm font-medium text-white bg-amber-500 hover:bg-amber-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[o.jsx(Ns,{className:"w-4 h-4"})," ",n(v?"humanagent.saving":"humanagent.save_config")]})]})]})}const Cue="https://jdodenbjohnqvhvldfqu.supabase.co",Tue="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impkb2RlbmJqb2hucXZodmxkZnF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE2MjU3MzAsImV4cCI6MjA4NzIwMTczMH0.MR3yuR-a1vf84iDrw2wEZ0mS0-8y0LdG1lUjiK_mFec",$ue={REEMBOLSO:{key:"emailagent.refund",color:"#ef4444"},ACESSO_CURSO:{key:"emailagent.course_access",color:"#3b82f6"},PAGAMENTO:{key:"emailagent.payment_pix",color:"#10b981"},RECLAMACAO:{key:"emailagent.complaint",color:"#a855f7"},DUVIDA:{key:"emailagent.question",color:"#6b7280"},OUTRO:{key:"emailagent.other",color:"#6b7280"}};function u5(e){return $ue[e]||{key:e,color:"#6b7280"}}function Rue(e){return new Date(e).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}function d5(e){return new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}async function za(e,t="GET",r){return(await fetch(`${Cue}/functions/v1/email-agent${e}`,{method:t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Tue}`},body:r?JSON.stringify(r):void 0})).json()}function f5({tipo:e}){const{t}=pe(),r=u5(e);return o.jsx("span",{className:"text-xs font-semibold px-2.5 py-0.5 rounded-full whitespace-nowrap",style:{background:r.color+"22",color:r.color},children:t(r.key)})}function h5({status:e}){const{t}=pe();return e==="pending"?o.jsxs("span",{className:"text-xs font-semibold px-2.5 py-0.5 rounded-full bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400 whitespace-nowrap flex items-center gap-1",children:[o.jsx(jn,{size:12}),t("emailagent.pending_status")]}):e==="done"?o.jsxs("span",{className:"text-xs font-semibold px-2.5 py-0.5 rounded-full bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-400 whitespace-nowrap flex items-center gap-1",children:[o.jsx(Si,{size:12}),t("emailagent.done_status")]}):o.jsxs("span",{className:"text-xs font-semibold px-2.5 py-0.5 rounded-full bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-400 whitespace-nowrap flex items-center gap-1",children:[o.jsx(Ir,{size:12}),t("emailagent.auto_status")]})}function Iue({task:e,onDone:t,onSend:r,onRefund:n,onViewHistory:a}){var O,C;const{t:i}=pe(),s=u5(e.tipo),[l,c]=N.useState(!1),[u,d]=N.useState(e.status!=="done"),[f,h]=N.useState(e.email_sent||""),[p,m]=N.useState(!1),[y,v]=N.useState(!1),[x,g]=N.useState(null),[_,k]=N.useState(!1),w=e.status==="pending",b=e.status==="done",S=async()=>{k(!0);const T=await za(`/analisar/${e.id}`);k(!1),T.sucesso&&g(T.analise)},j=async()=>{m(!0);const T=await r(e.id,f);m(!1),T&&(v(!0),setTimeout(()=>v(!1),3e3))};return o.jsx("div",{className:`bg-white dark:bg-neutral-900 rounded-xl border overflow-hidden shadow-sm ${w?"border-amber-300 dark:border-amber-500/30":b?"border-gray-200 dark:border-neutral-800 opacity-70":"border-gray-200 dark:border-neutral-800"}`,children:o.jsxs("div",{className:"p-5",style:{borderLeft:`4px solid ${s.color}`},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[o.jsx(f5,{tipo:e.tipo}),o.jsx(h5,{status:e.status}),(e.history_count??0)>0&&o.jsxs("button",{onClick:()=>a(e.email_from),className:"text-xs font-semibold px-2.5 py-0.5 rounded-full bg-indigo-100 dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-400 flex items-center gap-1 hover:bg-indigo-200 dark:hover:bg-indigo-500/30 transition-colors",children:[o.jsx(dP,{size:11}),e.history_count," ",i("emailagent.previous")]}),o.jsx("span",{className:"text-xs text-gray-400 dark:text-neutral-500 ml-auto",children:Rue(e.created_at)})]}),o.jsx("p",{className:"font-semibold text-gray-800 dark:text-white text-sm",children:e.email_from}),o.jsxs("p",{className:"text-gray-500 dark:text-neutral-400 text-sm mb-3",children:['"',e.email_subject,'"']}),w&&e.description&&o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/20 rounded-lg p-3 mb-3",children:[o.jsxs("p",{className:"text-xs font-bold text-amber-700 dark:text-amber-400 mb-1 flex items-center gap-1",children:[o.jsx(kn,{size:13}),i("emailagent.action_needed")]}),o.jsx("p",{className:"text-sm text-amber-900 dark:text-amber-300",children:e.description})]}),e.email_body&&o.jsxs("div",{className:"mb-3",children:[o.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-1 text-xs text-gray-400 dark:text-neutral-500 hover:text-gray-600 dark:hover:text-neutral-300 mb-1",children:[l?o.jsx(Ah,{size:14}):o.jsx(Au,{size:14}),i("emailagent.received_email")]}),l&&o.jsx("div",{className:"bg-blue-50 dark:bg-blue-500/5 border border-blue-100 dark:border-blue-500/20 rounded-lg p-3 text-xs text-gray-600 dark:text-neutral-300 whitespace-pre-wrap leading-relaxed max-h-52 overflow-y-auto",children:e.email_body})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("button",{onClick:()=>d(!u),className:"flex items-center gap-1 text-xs text-gray-400 dark:text-neutral-500 hover:text-gray-600 dark:hover:text-neutral-300 mb-1",children:[u?o.jsx(Ah,{size:14}):o.jsx(Au,{size:14}),i("emailagent.draft_reply")]}),u&&o.jsx("textarea",{value:f,onChange:T=>h(T.target.value),disabled:b,rows:7,className:"w-full bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-lg p-3 text-xs text-gray-600 dark:text-neutral-300 leading-relaxed resize-y focus:outline-none focus:ring-2 focus:ring-blue-300 dark:focus:ring-blue-500/50 disabled:opacity-60 disabled:cursor-not-allowed"})]}),e.tipo==="REEMBOLSO"&&x&&o.jsx("div",{className:`border rounded-lg p-4 text-sm space-y-1 mb-3 ${x.encontrado&&x.elegivel?"border-green-200 dark:border-green-500/20 bg-green-50 dark:bg-green-500/10":"border-red-200 dark:border-red-500/20 bg-red-50 dark:bg-red-500/10"}`,children:x.encontrado?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:`font-bold mb-2 ${x.elegivel?"text-green-800 dark:text-green-400":"text-red-800 dark:text-red-400"}`,children:x.elegivel?`${i("emailagent.eligible")} ${x.dias_passados} ${i("emailagent.days_within")}`:`${i("emailagent.expired")} ${x.dias_passados} ${i("emailagent.days_max")} ${x.prazo_dias} ${i("emailagent.days_close")}`}),o.jsxs("p",{className:"text-gray-700 dark:text-neutral-300",children:[o.jsx("span",{className:"font-medium",children:i("emailagent.client")})," ",x.nome]}),o.jsxs("p",{className:"text-gray-700 dark:text-neutral-300",children:[o.jsx("span",{className:"font-medium",children:i("emailagent.product")})," ",x.produto]}),o.jsxs("p",{className:"text-gray-700 dark:text-neutral-300",children:[o.jsx("span",{className:"font-medium",children:i("emailagent.amount")})," ",x.moeda," ",(O=x.valor)==null?void 0:O.toFixed(2)]}),o.jsxs("p",{className:"text-gray-700 dark:text-neutral-300",children:[o.jsx("span",{className:"font-medium",children:i("emailagent.purchased_at")})," ",x.data_compra]}),o.jsxs("p",{className:"text-gray-700 dark:text-neutral-300",children:[o.jsx("span",{className:"font-medium",children:i("emailagent.active_sub")})," ",x.tem_assinatura?i("emailagent.will_cancel"):i("emailagent.no_label")]}),x.elegivel&&o.jsxs("div",{className:"pt-3 border-t border-green-200 dark:border-green-500/20 mt-3",children:[o.jsxs("p",{className:"text-xs text-green-700 dark:text-green-400 mb-2",children:[i("emailagent.confirm_refund_msg")," ",x.moeda," ",(C=x.valor)==null?void 0:C.toFixed(2)," ",i("emailagent.plus")," ",x.tem_assinatura?i("emailagent.cancel_sub"):i("emailagent.no_sub_cancel"),"."]}),o.jsx("button",{onClick:()=>{confirm(i("emailagent.irreversible"))&&n(e.id,x.cobranca_id,x.assinatura_id||void 0)},className:"bg-red-600 hover:bg-red-700 text-white text-sm px-5 py-2 rounded-lg font-semibold transition-colors w-full",children:i("emailagent.confirm_refund")})]}),!x.elegivel&&o.jsx("p",{className:"text-xs text-red-700 dark:text-red-400 pt-2",children:x.motivo_inelegivel})]}):o.jsx("p",{className:"text-red-700 dark:text-red-400",children:x.motivo})}),!b&&o.jsxs("div",{className:"flex items-center justify-between gap-3 pt-3 border-t border-gray-100 dark:border-neutral-800",children:[o.jsx("div",{className:"flex items-center gap-2",children:e.tipo==="REEMBOLSO"&&o.jsxs("button",{onClick:S,disabled:_,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-60 text-white text-sm px-4 py-2 rounded-lg font-medium transition-colors",children:[o.jsx(AL,{size:16}),i(_?"emailagent.consulting":"emailagent.analyze_stripe")]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:j,disabled:p||y||!f.trim(),className:`flex items-center gap-2 text-white text-sm px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-60 ${y?"bg-green-500 cursor-default":"bg-indigo-600 hover:bg-indigo-700"}`,children:[o.jsx(Ni,{size:15}),i(y?"emailagent.sent_ok":p?"emailagent.sending":"emailagent.send_reply")]}),w&&o.jsxs("button",{onClick:()=>t(e.id),className:"flex items-center gap-2 border border-gray-300 dark:border-neutral-700 hover:bg-gray-50 dark:hover:bg-neutral-800 text-gray-600 dark:text-neutral-400 text-sm px-4 py-2 rounded-lg font-medium transition-colors",children:[o.jsx(Si,{size:16}),i("emailagent.mark_done")]})]})]})]})})}function Mue({feedback:e}){const{t}=pe(),[r,n]=N.useState(!1);return o.jsx("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-purple-100 dark:border-purple-500/20 overflow-hidden shadow-sm",children:o.jsxs("div",{className:"p-5",style:{borderLeft:"4px solid #a855f7"},children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("span",{className:"text-xs font-semibold px-2.5 py-0.5 rounded-full",style:{background:"#a855f722",color:"#a855f7"},children:t("emailagent.feedback")}),o.jsx("span",{className:"text-xs text-gray-400 dark:text-neutral-500",children:d5(e.created_at)})]}),o.jsx("p",{className:"font-semibold text-gray-800 dark:text-white",children:e.email_from}),e.motivo&&o.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-400 font-medium mt-1 mb-3",children:e.motivo}),o.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-1 text-xs text-gray-400 dark:text-neutral-500 hover:text-gray-600 dark:hover:text-neutral-300 mt-2",children:[r?o.jsx(Ah,{size:14}):o.jsx(Au,{size:14}),t(r?"emailagent.hide_full":"emailagent.show_full")]}),r&&o.jsx("div",{className:"mt-2 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-lg p-3 text-xs text-gray-600 dark:text-neutral-300 whitespace-pre-wrap leading-relaxed",children:e.feedback})]})})}function Due(){const{t:e}=pe(),[t,r]=N.useState("emails"),[n,a]=N.useState([]),[i,s]=N.useState([]),[l,c]=N.useState({total:0,pending:0,auto:0,done:0}),[u,d]=N.useState(0),[f,h]=N.useState(null),[p,m]=N.useState([]),[y,v]=N.useState(!1),[x,g]=N.useState(!1),[_,k]=N.useState(null),w=N.useCallback(async()=>{try{const A=await za(`/tasks?days=${u}`);A.tasks&&a(A.tasks),A.stats&&c(A.stats)}catch{}},[u]),b=N.useCallback(async()=>{try{const A=await za("/feedbacks");A.feedbacks&&s(A.feedbacks)}catch{}},[]),S=N.useCallback(async A=>{const D=A.includes("<")?A.split("<")[1].replace(">","").trim():A.trim();h(D),v(!0);try{const E=await za(`/history/${encodeURIComponent(D)}`);m(E.history||[])}catch{}v(!1)},[]);N.useEffect(()=>{w(),b();const A=setInterval(w,6e4);return()=>clearInterval(A)},[w,b,u]);const j=async A=>{await za(`/done/${A}`,"POST"),w()},O=async(A,D)=>{try{return(await za(`/send/${A}`,"POST",{email_sent:D})).sucesso?(await w(),!0):!1}catch{return!1}},C=async(A,D,E)=>{await za(`/reembolsar/${A}`,"POST",{cobranca_id:D,assinatura_id:E||null}),w()},T=async()=>{g(!0),k(null);try{const A=await za("/run","POST");A.sucesso?(k(`${A.processados} e-mail(s) processados${A.erros>0?`, ${A.erros} erro(s)`:""}`),await w(),await b()):k(`Erro: ${A.erro}`)}catch{k("Erro de conexo")}g(!1),setTimeout(()=>k(null),6e3)},M=n.filter(A=>A.status==="pending"),L=[{label:e("emailagent.emails_today"),value:l.total,icon:Rc,color:"text-gray-700 dark:text-white"},{label:e("emailagent.pending"),value:l.pending,icon:jn,color:"text-amber-500"},{label:e("emailagent.auto_replied"),value:l.auto,icon:Ir,color:"text-blue-500"},{label:e("emailagent.completed"),value:l.done,icon:Si,color:"text-green-500"}],U=[{key:"emails",label:e("emailagent.processed_tab"),badge:M.length},{key:"feedbacks",label:e("emailagent.feedback_tab"),badge:i.length}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[o.jsx(Rc,{size:28}),e("emailagent.title")]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-400 mt-1",children:e("emailagent.subtitle")})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[_&&o.jsx("span",{className:"text-xs text-gray-500 dark:text-neutral-400",children:_}),o.jsxs("button",{onClick:T,disabled:x,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-60 text-white px-5 py-2 rounded-lg text-sm font-medium transition-colors",children:[o.jsx(_r,{size:16,className:x?"animate-spin":""}),e(x?"emailagent.verifying":"emailagent.verify_emails")]})]})]}),o.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-500/10 border border-indigo-200 dark:border-indigo-500/20 rounded-xl p-4 flex items-start gap-3",children:[o.jsx(Ir,{size:20,className:"text-indigo-600 dark:text-indigo-400 mt-0.5 shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-indigo-800 dark:text-indigo-300",children:e("emailagent.local_agent")}),o.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1",children:[e("emailagent.local_desc")," ",e("emailagent.realtime_desc")]})]})]}),o.jsx("div",{className:"flex gap-1 bg-gray-100 dark:bg-neutral-800 p-1 rounded-xl w-fit",children:[{value:0,label:e("emailagent.today")},{value:7,label:e("emailagent.last_7d")},{value:30,label:e("emailagent.last_30d")}].map(A=>o.jsx("button",{onClick:()=>d(A.value),className:`px-4 py-1.5 rounded-lg text-xs font-medium transition-colors ${u===A.value?"bg-white dark:bg-neutral-700 text-gray-800 dark:text-white shadow-sm":"text-gray-500 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-300"}`,children:A.label},A.value))}),o.jsx("div",{className:"grid grid-cols-4 gap-4",children:L.map(A=>o.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800 text-center",children:[o.jsx(A.icon,{size:20,className:`mx-auto mb-2 ${A.color}`}),o.jsx("p",{className:`text-2xl font-bold ${A.color}`,children:A.value}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-500 mt-1",children:A.label})]},A.label))}),o.jsx("div",{className:"flex gap-1 bg-gray-100 dark:bg-neutral-800 p-1 rounded-xl w-fit",children:U.map(A=>o.jsxs("button",{onClick:()=>{r(A.key),A.key==="feedbacks"&&b()},className:`px-5 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${t===A.key?"bg-white dark:bg-neutral-700 text-gray-800 dark:text-white shadow-sm":"text-gray-500 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-300"}`,children:[A.label,A.badge>0&&o.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full text-white ${A.key==="feedbacks"?"bg-purple-500":"bg-amber-500"}`,children:A.badge})]},A.key))}),t==="emails"&&o.jsx("div",{className:"space-y-3",children:n.length>0?n.map(A=>o.jsx(Iue,{task:A,onDone:j,onSend:O,onRefund:C,onViewHistory:S},A.id)):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Rc,{size:40,className:"mx-auto text-gray-300 dark:text-neutral-700 mb-3"}),o.jsx("p",{className:"text-sm text-gray-400 dark:text-neutral-500",children:e("emailagent.no_emails")}),o.jsx("p",{className:"text-xs text-gray-300 dark:text-neutral-600 mt-1",children:e("emailagent.agent_auto")})]})}),t==="feedbacks"&&o.jsx("div",{className:"space-y-3",children:i.length>0?i.map(A=>o.jsx(Mue,{feedback:A},A.id)):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Rc,{size:40,className:"mx-auto text-gray-300 dark:text-neutral-700 mb-3"}),o.jsx("p",{className:"text-sm text-gray-400 dark:text-neutral-500",children:e("emailagent.no_feedbacks")})]})}),f&&o.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[o.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>h(null)}),o.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-neutral-900 border-l border-gray-200 dark:border-neutral-800 shadow-2xl overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white dark:bg-neutral-900 border-b border-gray-200 dark:border-neutral-800 p-5 flex items-center justify-between z-10",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(dP,{size:18}),e("emailagent.history_title")]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-400 mt-0.5",children:f})]}),o.jsx("button",{onClick:()=>h(null),className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 text-gray-400",children:o.jsx(at,{size:18})})]}),o.jsx("div",{className:"p-5 space-y-4",children:y?o.jsxs("p",{className:"text-sm text-gray-400 dark:text-neutral-500 text-center py-8",children:[e("emailagent.loading"),"..."]}):p.length===0?o.jsx("p",{className:"text-sm text-gray-400 dark:text-neutral-500 text-center py-8",children:e("emailagent.no_history")}):p.map(A=>o.jsxs("div",{className:"border border-gray-200 dark:border-neutral-800 rounded-xl p-4 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(f5,{tipo:A.tipo}),o.jsx(h5,{status:A.status}),o.jsx("span",{className:"text-xs text-gray-400 dark:text-neutral-500 ml-auto",children:d5(A.created_at)})]}),o.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-neutral-300",children:['"',A.email_subject,'"']}),A.email_body&&o.jsxs("details",{className:"text-xs",children:[o.jsx("summary",{className:"text-gray-400 dark:text-neutral-500 cursor-pointer hover:text-gray-600 dark:hover:text-neutral-300",children:e("emailagent.received_email")}),o.jsx("div",{className:"mt-1 bg-blue-50 dark:bg-blue-500/5 border border-blue-100 dark:border-blue-500/20 rounded-lg p-2 text-gray-600 dark:text-neutral-300 whitespace-pre-wrap leading-relaxed max-h-32 overflow-y-auto",children:A.email_body})]}),A.email_sent&&o.jsx("div",{className:"bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-lg p-3 text-xs text-gray-600 dark:text-neutral-300 whitespace-pre-wrap leading-relaxed max-h-40 overflow-y-auto",children:A.email_sent}),A.description&&o.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400",children:A.description})]},A.id))})]})]})]})}const Ef=e=>(e==null?void 0:e.toLocaleString("pt-BR"))||"0",Lue=e=>{const t=Date.now()-new Date(e).getTime(),r=Math.floor(t/6e4);if(r<60)return`${r}min`;const n=Math.floor(r/60);return n<24?`${n}h`:`${Math.floor(n/24)}d`},Cf=e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"}),$p={hot:{bg:"bg-red-100 dark:bg-red-500/20",text:"text-red-700 dark:text-red-300",border:"border-red-200 dark:border-red-500/30",icon:uP,gradient:"from-red-600 to-orange-600"},warm:{bg:"bg-orange-100 dark:bg-orange-500/20",text:"text-orange-700 dark:text-orange-300",border:"border-orange-200 dark:border-orange-500/30",icon:gP,gradient:"from-orange-500 to-yellow-500"},cold:{bg:"bg-blue-100 dark:bg-blue-500/20",text:"text-blue-700 dark:text-blue-300",border:"border-blue-200 dark:border-blue-500/30",icon:KL,gradient:"from-blue-500 to-cyan-500"}},yx={new:"bg-gray-100 dark:bg-neutral-700 text-gray-700 dark:text-neutral-300",contacted:"bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300",negotiating:"bg-purple-100 dark:bg-purple-500/20 text-purple-700 dark:text-purple-300",converted:"bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-300",lost:"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300"},hd="w-full px-3 py-2.5 text-sm bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-orange-500/40 transition-colors";function zue(){Ea();const{t:e}=pe(),t=wr(),[r,n]=N.useState(""),[a,i]=N.useState("all"),[s,l]=N.useState("all"),[c,u]=N.useState(null),[d,f]=N.useState(!1),{data:h=[],isLoading:p}=Ae({queryKey:["instagram-leads"],queryFn:async()=>{const{data:_}=await re.from("instagram_leads").select("*").order("last_interaction_at",{ascending:!1});return _||[]}}),m=N.useMemo(()=>h.filter(_=>!(r&&!_.username.toLowerCase().includes(r.toLowerCase())||a!=="all"&&_.temperature!==a||s!=="all"&&_.status!==s)),[h,r,a,s]),y=h.length,v=h.filter(_=>_.temperature==="hot").length,x=h.filter(_=>_.created_at.startsWith(new Date().toISOString().split("T")[0])).length,g=h.filter(_=>_.status==="converted").length;return p?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(_r,{className:"animate-spin text-gray-400 dark:text-neutral-500",size:32})}):o.jsxs("div",{className:"space-y-6 pb-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center",children:o.jsx(nn,{size:22,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("leads.title")}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:e("leads.subtitle")})]})]}),o.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium bg-gradient-to-r from-orange-500 to-red-600 text-white hover:from-orange-600 hover:to-red-700 shadow-lg shadow-orange-600/20 transition-all",children:[o.jsx(Yt,{size:16}),e("leads.add_lead")]})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[o.jsx(Tf,{icon:nn,label:e("leads.total_leads"),value:Ef(y),color:"purple"}),o.jsx(Tf,{icon:uP,label:e("leads.hot_leads"),value:Ef(v),color:"red"}),o.jsx(Tf,{icon:yP,label:e("leads.new_today"),value:Ef(x),color:"blue"}),o.jsx(Tf,{icon:Si,label:e("leads.converted"),value:Ef(g),color:"green"})]}),o.jsxs("div",{className:"card p-4 flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[o.jsx(FL,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-neutral-500"}),o.jsx("input",{type:"text",value:r,onChange:_=>n(_.target.value),placeholder:e("leads.search_placeholder"),className:`${hd} pl-9`})]}),o.jsx("div",{className:"flex gap-1",children:["all","hot","warm","cold"].map(_=>o.jsx("button",{onClick:()=>i(_),className:`px-3 py-2 rounded-xl text-xs font-semibold transition-all ${a===_?_==="all"?"bg-gray-900 dark:bg-white text-white dark:text-neutral-900":`bg-gradient-to-r ${$p[_].gradient} text-white shadow-lg`:"bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-gray-500 dark:text-neutral-400 hover:border-gray-300 dark:hover:border-neutral-600"}`,children:e(_==="all"?"leads.filter_all":`leads.filter_${_}`)},_))}),o.jsxs("select",{value:s,onChange:_=>l(_.target.value),className:"px-3 py-2.5 rounded-xl text-xs font-medium bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-gray-700 dark:text-neutral-300 focus:outline-none focus:ring-2 focus:ring-orange-500/40 cursor-pointer",children:[o.jsxs("option",{value:"all",children:[e("leads.status"),": ",e("leads.filter_all")]}),o.jsx("option",{value:"new",children:e("leads.new")}),o.jsx("option",{value:"contacted",children:e("leads.contacted")}),o.jsx("option",{value:"negotiating",children:e("leads.negotiating")}),o.jsx("option",{value:"converted",children:e("leads.converted_status")}),o.jsx("option",{value:"lost",children:e("leads.lost")})]})]}),o.jsx(Bue,{leads:m,onSelect:u}),c&&o.jsx(Fue,{lead:c,onClose:()=>{u(null),t.invalidateQueries({queryKey:["instagram-leads"]})}}),d&&o.jsx(Uue,{onClose:()=>{f(!1),t.invalidateQueries({queryKey:["instagram-leads"]})}})]})}function Tf({icon:e,label:t,value:r,color:n}){const a={purple:"bg-purple-50 dark:bg-purple-500/10 text-purple-600 dark:text-purple-400",red:"bg-red-50 dark:bg-red-500/10 text-red-600 dark:text-red-400",blue:"bg-blue-50 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400",green:"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400"};return o.jsx("div",{className:"card p-5",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a[n]}`,children:o.jsx(e,{size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-500",children:t})]})]})})}function p5({temp:e,size:t="sm"}){const{t:r}=pe(),n=$p[e],a=n.icon;return o.jsxs("span",{className:`inline-flex items-center gap-1 ${t==="md"?"px-3 py-1.5 text-sm":"px-2 py-0.5 text-[10px]"} rounded-lg font-bold ${n.bg} ${n.text}`,children:[o.jsx(a,{size:t==="md"?14:10}),r(`leads.${e}`)]})}function m5({status:e}){const{t}=pe(),r=e==="converted"?"converted_status":e;return o.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-bold ${yx[e]||yx.new}`,children:t(`leads.${r}`)})}function Bue({leads:e,onSelect:t}){const{t:r}=pe();return e.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(nn,{size:48,className:"mx-auto text-gray-300 dark:text-neutral-700 mb-3"}),o.jsx("p",{className:"text-gray-500 dark:text-neutral-500 text-sm",children:r("leads.no_leads")}),o.jsx("p",{className:"text-gray-400 dark:text-neutral-600 text-xs mt-1",children:r("leads.no_leads_hint")})]}):o.jsx("div",{className:"card overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-100 dark:border-neutral-800",children:[o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:r("leads.username")}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:r("leads.temperature")}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:r("leads.status")}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:r("leads.source")}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:r("leads.interactions")}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:r("leads.last_interaction")}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:r("leads.conversion_value")}),o.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 dark:text-neutral-500 px-4 py-3",children:r("leads.tags")}),o.jsx("th",{className:"w-8"})]})}),o.jsx("tbody",{children:e.map(n=>o.jsxs("tr",{onClick:()=>t(n),className:"border-b border-gray-50 dark:border-neutral-800/50 hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors cursor-pointer",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ka,{size:14,className:"text-pink-500"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["@",n.username]})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx(p5,{temp:n.temperature})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx(m5,{status:n.status})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-neutral-500",children:n.source==="automation_comment"?o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Hn,{size:12})," ",r("leads.automation_comment")]}):n.source==="dm"?o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ni,{size:12})," ",r("leads.dm")]}):r("leads.manual")})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:n.interaction_count})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-neutral-500",children:Lue(n.last_interaction_at)})}),o.jsx("td",{className:"px-4 py-3",children:n.status==="converted"&&n.conversion_value?o.jsxs("span",{className:"px-2 py-1 rounded-lg text-xs font-bold bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-300",children:["R$",n.conversion_value.toLocaleString("pt-BR",{minimumFractionDigits:2})]}):n.tracked_link_sent?o.jsx("span",{className:"text-[10px] text-amber-600 dark:text-amber-400 font-medium",children:r("leads.tracked_link_sent")}):o.jsx("span",{className:"text-xs text-gray-300 dark:text-neutral-700",children:""})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex gap-1 flex-wrap",children:[(n.tags||[]).slice(0,2).map((a,i)=>o.jsx("span",{className:"px-1.5 py-0.5 rounded text-[9px] font-medium bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300",children:a},i)),(n.tags||[]).length>2&&o.jsxs("span",{className:"text-[9px] text-gray-400 dark:text-neutral-500",children:["+",n.tags.length-2]})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx(Nd,{size:16,className:"text-gray-300 dark:text-neutral-600"})})]},n.id))})]})})})}function Fue({lead:e,onClose:t}){const{t:r}=pe(),[n,a]=N.useState(e.temperature),[i,s]=N.useState(e.temperature_override),[l,c]=N.useState(e.status),[u,d]=N.useState(e.notes||""),[f,h]=N.useState(e.tags||[]),[p,m]=N.useState(""),[y,v]=N.useState(!1),[x,g]=N.useState(!1),{data:_=[]}=Ae({queryKey:["lead-comments",e.username],queryFn:async()=>{const{data:j}=await re.from("instagram_processed_comments").select("*").eq("commenter_username",e.username).order("created_at",{ascending:!1}).limit(20);return j||[]}}),k=()=>{const j=p.trim().toLowerCase();j&&!f.includes(j)&&(h([...f,j]),m(""))},w=async()=>{v(!0),await re.from("instagram_leads").update({temperature:n,temperature_override:i,status:l,notes:u||null,tags:f,updated_at:new Date().toISOString()}).eq("id",e.id),v(!1),t()},b=async()=>{g(!0),await re.from("instagram_leads").delete().eq("id",e.id),g(!1),t()},S=["new","contacted","negotiating","converted","lost"];return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-neutral-800 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white dark:bg-neutral-900 border-b border-gray-100 dark:border-neutral-800 p-5 rounded-t-2xl z-10",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${$p[n].gradient} flex items-center justify-center`,children:o.jsx(ka,{size:22,className:"text-white"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["@",e.username]}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[o.jsx(p5,{temp:n}),o.jsx(m5,{status:l}),o.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-neutral-600",children:[e.interaction_count," ",r("leads.interactions").toLowerCase()]})]})]})]}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors",children:o.jsx(at,{size:20,className:"text-gray-500"})})]})}),o.jsxs("div",{className:"p-5 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:r("leads.temperature")}),o.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-neutral-500 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:i,onChange:j=>s(j.target.checked),className:"rounded"}),r("leads.manual_override")]})]}),o.jsx("div",{className:"flex gap-2",children:["hot","warm","cold"].map(j=>{const O=$p[j],C=O.icon,T=n===j;return o.jsxs("button",{onClick:()=>{a(j),s(!0)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-semibold text-sm transition-all border ${T?`bg-gradient-to-r ${O.gradient} text-white border-transparent shadow-lg`:`${O.bg} ${O.text} ${O.border} hover:shadow-md`}`,children:[o.jsx(C,{size:16}),r(`leads.${j}`)]},j)})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:r("leads.status")}),o.jsx("div",{className:"flex gap-1",children:S.map(j=>{const O=l===j,C=j==="converted"?"converted_status":j;return o.jsx("button",{onClick:()=>c(j),className:`flex-1 py-2.5 rounded-xl text-xs font-semibold transition-all ${O?`${yx[j]} ring-2 ring-offset-1 ring-gray-300 dark:ring-neutral-600 dark:ring-offset-neutral-900`:"bg-gray-50 dark:bg-neutral-800 text-gray-400 dark:text-neutral-600 hover:text-gray-600 dark:hover:text-neutral-400"}`,children:r(`leads.${C}`)},j)})})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:[o.jsx(WL,{size:14,className:"inline text-orange-500 mr-1.5"}),r("leads.tags")]}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:f.map((j,O)=>o.jsxs("span",{className:"flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300",children:[j,o.jsx("button",{onClick:()=>h(f.filter((C,T)=>T!==O)),className:"hover:text-red-500 transition-colors",children:o.jsx(at,{size:14})})]},O))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:p,onChange:j=>m(j.target.value),onKeyDown:j=>j.key==="Enter"&&(j.preventDefault(),k()),placeholder:r("leads.tag_placeholder"),className:hd,maxLength:64}),o.jsx("button",{onClick:k,className:"px-4 py-2.5 rounded-xl bg-orange-600 text-white text-sm font-medium hover:bg-orange-700 transition-colors flex-shrink-0",children:o.jsx(Yt,{size:16})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:r("leads.notes")}),o.jsx("textarea",{value:u,onChange:j=>d(j.target.value),placeholder:r("leads.notes_placeholder"),className:`${hd} resize-none`,rows:3})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:[o.jsx(jn,{size:14,className:"inline text-orange-500 mr-1.5"}),r("leads.interaction_history")," (",_.length,")"]}),_.length===0?o.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-600 text-center py-4",children:r("leads.no_interactions")}):o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:_.map(j=>o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-gray-50 dark:bg-neutral-800/50",children:[o.jsx("div",{className:"mt-0.5",children:j.action_taken.includes("dm")?o.jsx(Ni,{size:14,className:"text-pink-500"}):j.action_taken.includes("reply")?o.jsx(Hn,{size:14,className:"text-blue-500"}):o.jsx(Ss,{size:14,className:"text-gray-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("p",{className:"text-xs text-gray-900 dark:text-white line-clamp-2",children:['"',j.comment_text,'"']}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-[10px] text-gray-400 dark:text-neutral-600",children:Cf(j.created_at)}),j.action_taken.includes("reply")&&o.jsx("span",{className:"px-1.5 py-0.5 rounded text-[9px] font-bold bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-300",children:"reply"}),j.action_taken.includes("dm")&&o.jsx("span",{className:"px-1.5 py-0.5 rounded text-[9px] font-bold bg-pink-100 dark:bg-pink-500/20 text-pink-600 dark:text-pink-300",children:"dm"}),j.status==="success"?o.jsx(Si,{size:12,className:"text-green-500"}):o.jsx(kn,{size:12,className:"text-red-500"})]})]})]},j.id))})]}),(e.status==="converted"||e.tracked_link_sent)&&o.jsxs("div",{className:"p-4 rounded-xl bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20",children:[o.jsxs("p",{className:"text-sm font-semibold text-green-700 dark:text-green-300 mb-2",children:[o.jsx(Zr,{size:14,className:"inline mr-1"}),r("leads.conversion_value")]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.conversion_value&&o.jsxs("div",{children:[o.jsx("p",{className:"text-green-600 dark:text-green-400 font-medium",children:r("leads.conversion_value")}),o.jsxs("p",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:["R$",e.conversion_value.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.converted_at&&o.jsxs("div",{children:[o.jsx("p",{className:"text-green-600 dark:text-green-400 font-medium",children:r("leads.converted_status")}),o.jsx("p",{className:"text-green-700 dark:text-green-300",children:Cf(e.converted_at)})]}),e.tracked_link_sent&&!e.conversion_value&&o.jsx("div",{className:"col-span-2",children:o.jsx("p",{className:"text-amber-600 dark:text-amber-400 font-medium",children:r("leads.tracked_link_sent")})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-500 dark:text-neutral-500",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r("leads.first_interaction")}),o.jsx("p",{children:Cf(e.first_interaction_at)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r("leads.last_interaction")}),o.jsx("p",{children:Cf(e.last_interaction_at)})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-neutral-800",children:[o.jsxs("button",{onClick:b,disabled:x,className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors disabled:opacity-50",children:[o.jsx(Mr,{size:16}),r(x?"leads.deleting":"leads.delete_lead")]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl text-sm font-medium text-gray-700 dark:text-neutral-300 bg-gray-100 dark:bg-neutral-800 hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:r("leads.cancel")}),o.jsxs("button",{onClick:w,disabled:y,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-medium bg-gradient-to-r from-orange-500 to-red-600 text-white hover:from-orange-600 hover:to-red-700 shadow-lg shadow-orange-600/20 transition-all disabled:opacity-50",children:[y?o.jsx(_r,{size:16,className:"animate-spin"}):o.jsx(Wl,{size:16}),r(y?"leads.saving":"leads.save")]})]})]})]})]})]})}function Uue({onClose:e}){const{t}=pe(),[r,n]=N.useState(""),[a,i]=N.useState(""),[s,l]=N.useState(!1),c=async()=>{const u=r.trim().replace("@","");u&&(l(!0),await re.from("instagram_leads").insert({username:u,source:"manual",temperature:"cold",status:"new",notes:a||null}),l(!1),e())};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),o.jsxs("div",{className:"relative bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-neutral-800 w-full max-w-md",children:[o.jsx("div",{className:"p-5 border-b border-gray-100 dark:border-neutral-800",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t("leads.add_lead")}),o.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors",children:o.jsx(at,{size:20,className:"text-gray-500"})})]})}),o.jsxs("div",{className:"p-5 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-2",children:t("leads.username")}),o.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),placeholder:t("leads.username_placeholder"),className:hd,autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-2",children:t("leads.notes")}),o.jsx("textarea",{value:a,onChange:u=>i(u.target.value),placeholder:t("leads.notes_placeholder"),className:`${hd} resize-none`,rows:2})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx("button",{onClick:e,className:"flex-1 px-5 py-2.5 rounded-xl text-sm font-medium text-gray-700 dark:text-neutral-300 bg-gray-100 dark:bg-neutral-800 hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:t("leads.cancel")}),o.jsxs("button",{onClick:c,disabled:s||!r.trim(),className:"flex-1 flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl text-sm font-medium bg-gradient-to-r from-orange-500 to-red-600 text-white hover:from-orange-600 hover:to-red-700 shadow-lg shadow-orange-600/20 transition-all disabled:opacity-50",children:[s?o.jsx(_r,{size:16,className:"animate-spin"}):o.jsx(Yt,{size:16}),t(s?"leads.saving":"leads.add_lead")]})]})]})]})]})}function G2(){const{t:e,lang:t}=pe(),r=t==="en"?"February 21, 2026":"21 de fevereiro de 2026";return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950 transition-colors",children:[o.jsx("header",{className:"bg-white dark:bg-neutral-900 border-b border-gray-100 dark:border-neutral-800 sticky top-0 z-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-4 flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:"A"}),o.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ABRAhub Studio"})]})}),o.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-12",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:e("privacy.title")}),o.jsxs("p",{className:"text-sm text-gray-400 dark:text-neutral-500 mb-10",children:[e("privacy.last_update")," ",r]}),o.jsxs("div",{className:"space-y-8 text-gray-600 dark:text-neutral-300 leading-relaxed",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:e("privacy.s1_title")}),o.jsx("p",{children:e("privacy.s1_text")})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:e("privacy.s2_title")}),o.jsx("p",{className:"mb-3",children:e("privacy.s2_intro")}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:e("privacy.s2_profile")}),o.jsx("li",{children:e("privacy.s2_media")}),o.jsx("li",{children:e("privacy.s2_comments")}),o.jsx("li",{children:e("privacy.s2_messages")}),o.jsx("li",{children:e("privacy.s2_ads")}),o.jsx("li",{children:e("privacy.s2_insights")})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:e("privacy.s3_title")}),o.jsx("p",{className:"mb-3",children:e("privacy.s3_intro")}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:e("privacy.s3_metrics")}),o.jsx("li",{children:e("privacy.s3_automation")}),o.jsx("li",{children:e("privacy.s3_ads")}),o.jsx("li",{children:e("privacy.s3_log")})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:e("privacy.s4_title")}),o.jsx("p",{children:e("privacy.s4_text")})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:e("privacy.s5_title")}),o.jsx("p",{children:e("privacy.s5_text")})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:e("privacy.s6_title")}),o.jsx("p",{children:e("privacy.s6_text")})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:e("privacy.s7_title")}),o.jsx("p",{className:"mb-3",children:e("privacy.s7_intro")}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:e("privacy.s7_access")}),o.jsx("li",{children:e("privacy.s7_correct")}),o.jsx("li",{children:e("privacy.s7_delete")}),o.jsx("li",{children:e("privacy.s7_revoke")})]}),o.jsx("p",{className:"mt-3",children:e("privacy.s7_contact")})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:e("privacy.s8_title")}),o.jsxs("p",{children:[e("privacy.s8_text")," ",o.jsx("a",{href:"mailto:suporte@abrahub.com",className:"text-blue-500 hover:text-blue-400 underline",children:"suporte@abrahub.com"})," ",e("privacy.s8_subject")]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:e("privacy.s9_title")}),o.jsx("p",{className:"mb-3",children:e("privacy.s9_intro")}),o.jsx("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 dark:border-neutral-800",children:[o.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-900 dark:text-white",children:e("privacy.s9_col_permission")}),o.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-900 dark:text-white",children:e("privacy.s9_col_purpose")})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-neutral-800",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-blue-600 dark:text-blue-400",children:"instagram_business_basic"}),o.jsx("td",{className:"px-4 py-3",children:e("privacy.s9_basic")})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-blue-600 dark:text-blue-400",children:"instagram_business_manage_comments"}),o.jsx("td",{className:"px-4 py-3",children:e("privacy.s9_comments")})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-blue-600 dark:text-blue-400",children:"instagram_business_manage_messages"}),o.jsx("td",{className:"px-4 py-3",children:e("privacy.s9_messages")})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-blue-600 dark:text-blue-400",children:"instagram_business_manage_insights"}),o.jsx("td",{className:"px-4 py-3",children:e("privacy.s9_insights")})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-blue-600 dark:text-blue-400",children:"ads_read"}),o.jsx("td",{className:"px-4 py-3",children:e("privacy.s9_ads_read")})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-blue-600 dark:text-blue-400",children:"ads_management"}),o.jsx("td",{className:"px-4 py-3",children:e("privacy.s9_ads_mgmt")})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-blue-600 dark:text-blue-400",children:"pages_read_engagement"}),o.jsx("td",{className:"px-4 py-3",children:e("privacy.s9_pages")})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-blue-600 dark:text-blue-400",children:"business_management"}),o.jsx("td",{className:"px-4 py-3",children:e("privacy.s9_business")})]})]})]})})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:e("privacy.s10_title")}),o.jsx("p",{children:e("privacy.s10_text")})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:e("privacy.s11_title")}),o.jsx("p",{children:e("privacy.s11_text")}),o.jsxs("div",{className:"mt-3 bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 p-4 space-y-1",children:[o.jsx("p",{children:o.jsx("strong",{children:"ABRAhub Studio"})}),o.jsxs("p",{children:["Email:"," ",o.jsx("a",{href:"mailto:suporte@abrahub.com",className:"text-blue-500 hover:text-blue-400 underline",children:"suporte@abrahub.com"})]}),o.jsxs("p",{children:["Instagram:"," ",o.jsx("a",{href:"https://instagram.com/abrahubstudio",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-400 underline",children:"@abrahubstudio"})]})]})]})]}),o.jsx("div",{className:"mt-16 pt-8 border-t border-gray-200 dark:border-neutral-800 text-center text-sm text-gray-400 dark:text-neutral-500",children:o.jsxs("p",{children:[e("privacy.footer"),"  ",new Date().getFullYear()]})})]})]})}function que(){return o.jsx(GL,{children:o.jsxs(Oy,{children:[o.jsx(Et,{path:"/",element:o.jsx(Tce,{})}),o.jsx(Et,{path:"/kanban",element:o.jsx(Ice,{})}),o.jsx(Et,{path:"/decisions",element:o.jsx(qce,{})}),o.jsx(Et,{path:"/documents",element:o.jsx(Kce,{})}),o.jsx(Et,{path:"/financeiro",element:o.jsx(Yce,{})}),o.jsx(Et,{path:"/gastos",element:o.jsx(rue,{})}),o.jsx(Et,{path:"/social",element:o.jsx(Wce,{})}),o.jsx(Et,{path:"/insta-ninja",element:o.jsx(sue,{})}),o.jsx(Et,{path:"/ads",element:o.jsx(fue,{})}),o.jsx(Et,{path:"/human-agent",element:o.jsx(kue,{})}),o.jsx(Et,{path:"/email-agent",element:o.jsx(Due,{})}),o.jsx(Et,{path:"/leads",element:o.jsx(zue,{})}),o.jsx(Et,{path:"*",element:o.jsx(mI,{to:"/"})})]})})}function Kue(){const{user:e,loading:t,checkAuth:r}=sm();return N.useEffect(()=>{r()},[r]),t?o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950 flex items-center justify-center transition-colors",children:o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white font-bold",children:"A"}),o.jsx("p",{className:"text-gray-400 dark:text-neutral-500 text-sm",children:"Carregando..."})]})}):e?o.jsxs(Oy,{children:[o.jsx(Et,{path:"/privacy",element:o.jsx(G2,{})}),o.jsx(Et,{path:"/*",element:o.jsx(que,{})})]}):o.jsxs(Oy,{children:[o.jsx(Et,{path:"/privacy",element:o.jsx(G2,{})}),o.jsx(Et,{path:"*",element:o.jsx(xL,{})})]})}function Wue(){return o.jsx(SI,{children:o.jsx(Kue,{})})}const Hue=new p4;v0.createRoot(document.getElementById("root")).render(o.jsx(R.StrictMode,{children:o.jsx(m4,{client:Hue,children:o.jsx(Wue,{})})}));
